(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sm={exports:{}},dl={},Em={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),xw=Symbol.for("react.portal"),ww=Symbol.for("react.fragment"),vw=Symbol.for("react.strict_mode"),Cw=Symbol.for("react.profiler"),_w=Symbol.for("react.provider"),Sw=Symbol.for("react.context"),Ew=Symbol.for("react.forward_ref"),kw=Symbol.for("react.suspense"),Tw=Symbol.for("react.memo"),Iw=Symbol.for("react.lazy"),ld=Symbol.iterator;function Pw(e){return e===null||typeof e!="object"?null:(e=ld&&e[ld]||e["@@iterator"],typeof e=="function"?e:null)}var km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tm=Object.assign,Im={};function ii(e,t,n){this.props=e,this.context=t,this.refs=Im,this.updater=n||km}ii.prototype.isReactComponent={};ii.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pm(){}Pm.prototype=ii.prototype;function ic(e,t,n){this.props=e,this.context=t,this.refs=Im,this.updater=n||km}var sc=ic.prototype=new Pm;sc.constructor=ic;Tm(sc,ii.prototype);sc.isPureReactComponent=!0;var ad=Array.isArray,Am=Object.prototype.hasOwnProperty,oc={current:null},Nm={key:!0,ref:!0,__self:!0,__source:!0};function Rm(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Am.call(t,r)&&!Nm.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ms,type:e,key:s,ref:o,props:i,_owner:oc.current}}function Aw(e,t){return{$$typeof:ms,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ms}function Nw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ud=/\/+/g;function Gl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nw(""+e.key):t.toString(36)}function lo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ms:case xw:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Gl(o,0):r,ad(i)?(n="",e!=null&&(n=e.replace(ud,"$&/")+"/"),lo(i,t,n,"",function(u){return u})):i!=null&&(lc(i)&&(i=Aw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ud,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ad(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Gl(s,l);o+=lo(s,t,n,a,i)}else if(a=Pw(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Gl(s,l++),o+=lo(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Rs(e,t,n){if(e==null)return e;var r=[],i=0;return lo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Rw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},ao={transition:null},Mw={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:ao,ReactCurrentOwner:oc};function Mm(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Rs,forEach:function(e,t,n){Rs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rs(e,function(){t++}),t},toArray:function(e){return Rs(e,function(t){return t})||[]},only:function(e){if(!lc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=ii;ee.Fragment=ww;ee.Profiler=Cw;ee.PureComponent=ic;ee.StrictMode=vw;ee.Suspense=kw;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mw;ee.act=Mm;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tm({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=oc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Am.call(t,a)&&!Nm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ms,type:e.type,key:i,ref:s,props:r,_owner:o}};ee.createContext=function(e){return e={$$typeof:Sw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_w,_context:e},e.Consumer=e};ee.createElement=Rm;ee.createFactory=function(e){var t=Rm.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Ew,render:e}};ee.isValidElement=lc;ee.lazy=function(e){return{$$typeof:Iw,_payload:{_status:-1,_result:e},_init:Rw}};ee.memo=function(e,t){return{$$typeof:Tw,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=ao.transition;ao.transition={};try{e()}finally{ao.transition=t}};ee.unstable_act=Mm;ee.useCallback=function(e,t){return Xe.current.useCallback(e,t)};ee.useContext=function(e){return Xe.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Xe.current.useEffect(e,t)};ee.useId=function(){return Xe.current.useId()};ee.useImperativeHandle=function(e,t,n){return Xe.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Xe.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Xe.current.useReducer(e,t,n)};ee.useRef=function(e){return Xe.current.useRef(e)};ee.useState=function(e){return Xe.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Xe.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Xe.current.useTransition()};ee.version="18.3.1";Em.exports=ee;var X=Em.exports;const bw=rc(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw=X,Ow=Symbol.for("react.element"),Dw=Symbol.for("react.fragment"),Fw=Object.prototype.hasOwnProperty,$w=Lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zw={key:!0,ref:!0,__self:!0,__source:!0};function bm(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Fw.call(t,r)&&!zw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ow,type:e,key:s,ref:o,props:i,_owner:$w.current}}dl.Fragment=Dw;dl.jsx=bm;dl.jsxs=bm;Sm.exports=dl;var _=Sm.exports,$a={},Lm={exports:{}},vt={},Om={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,V){var C=O.length;O.push(V);e:for(;0<C;){var J=C-1>>>1,ie=O[J];if(0<i(ie,V))O[J]=V,O[C]=ie,C=J;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],C=O.pop();if(C!==V){O[0]=C;e:for(var J=0,ie=O.length,E=ie>>>1;J<E;){var Ae=2*(J+1)-1,Rt=O[Ae],pe=Ae+1,Ht=O[pe];if(0>i(Rt,C))pe<ie&&0>i(Ht,Rt)?(O[J]=Ht,O[pe]=C,J=pe):(O[J]=Rt,O[Ae]=C,J=Ae);else if(pe<ie&&0>i(Ht,C))O[J]=Ht,O[pe]=C,J=pe;else break e}}return V}function i(O,V){var C=O.sortIndex-V.sortIndex;return C!==0?C:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,f=null,p=3,m=!1,w=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=O)r(u),V.sortIndex=V.expirationTime,t(a,V);else break;V=n(u)}}function T(O){if(x=!1,v(O),!w)if(n(a)!==null)w=!0,Q(P);else{var V=n(u);V!==null&&le(T,V.startTime-O)}}function P(O,V){w=!1,x&&(x=!1,y(N),N=-1),m=!0;var C=p;try{for(v(V),f=n(a);f!==null&&(!(f.expirationTime>V)||O&&!M());){var J=f.callback;if(typeof J=="function"){f.callback=null,p=f.priorityLevel;var ie=J(f.expirationTime<=V);V=e.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(a)&&r(a),v(V)}else r(a);f=n(a)}if(f!==null)var E=!0;else{var Ae=n(u);Ae!==null&&le(T,Ae.startTime-V),E=!1}return E}finally{f=null,p=C,m=!1}}var k=!1,I=null,N=-1,D=5,R=-1;function M(){return!(e.unstable_now()-R<D)}function $(){if(I!==null){var O=e.unstable_now();R=O;var V=!0;try{V=I(!0,O)}finally{V?H():(k=!1,I=null)}}else k=!1}var H;if(typeof g=="function")H=function(){g($)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,U=Z.port2;Z.port1.onmessage=$,H=function(){U.postMessage(null)}}else H=function(){S($,0)};function Q(O){I=O,k||(k=!0,H())}function le(O,V){N=S(function(){O(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,Q(P))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(O){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var C=p;p=V;try{return O()}finally{p=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var C=p;p=O;try{return V()}finally{p=C}},e.unstable_scheduleCallback=function(O,V,C){var J=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?J+C:J):C=J,O){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=C+ie,O={id:c++,callback:V,priorityLevel:O,startTime:C,expirationTime:ie,sortIndex:-1},C>J?(O.sortIndex=C,t(u,O),n(a)===null&&O===n(u)&&(x?(y(N),N=-1):x=!0,le(T,C-J))):(O.sortIndex=ie,t(a,O),w||m||(w=!0,Q(P))),O},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(O){var V=p;return function(){var C=p;p=V;try{return O.apply(this,arguments)}finally{p=C}}}})(Dm);Om.exports=Dm;var Bw=Om.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw=X,xt=Bw;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fm=new Set,Ki={};function fr(e,t){Xr(e,t),Xr(e+"Capture",t)}function Xr(e,t){for(Ki[e]=t,e=0;e<t.length;e++)Fm.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),za=Object.prototype.hasOwnProperty,Vw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cd={},fd={};function Hw(e){return za.call(fd,e)?!0:za.call(cd,e)?!1:Vw.test(e)?fd[e]=!0:(cd[e]=!0,!1)}function jw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gw(e,t,n,r){if(t===null||typeof t>"u"||jw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function uc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ac,uc);Ue[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ac,uc);Ue[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ac,uc);Ue[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function cc(e,t,n,r){var i=Ue.hasOwnProperty(t)?Ue[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gw(t,n,i,r)&&(n=null),r||i===null?Hw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gn=Uw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ms=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),fc=Symbol.for("react.strict_mode"),Ba=Symbol.for("react.profiler"),$m=Symbol.for("react.provider"),zm=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),Ua=Symbol.for("react.suspense"),Va=Symbol.for("react.suspense_list"),hc=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Bm=Symbol.for("react.offscreen"),dd=Symbol.iterator;function pi(e){return e===null||typeof e!="object"?null:(e=dd&&e[dd]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Wl;function Ei(e){if(Wl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wl=t&&t[1]||""}return`
`+Wl+e}var ql=!1;function Kl(e,t){if(!e||ql)return"";ql=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{ql=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ei(e):""}function Ww(e){switch(e.tag){case 5:return Ei(e.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 2:case 15:return e=Kl(e.type,!1),e;case 11:return e=Kl(e.type.render,!1),e;case 1:return e=Kl(e.type,!0),e;default:return""}}function Ha(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ir:return"Fragment";case Tr:return"Portal";case Ba:return"Profiler";case fc:return"StrictMode";case Ua:return"Suspense";case Va:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zm:return(e.displayName||"Context")+".Consumer";case $m:return(e._context.displayName||"Context")+".Provider";case dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hc:return t=e.displayName||null,t!==null?t:Ha(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return Ha(e(t))}catch{}}return null}function qw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ha(t);case 8:return t===fc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Um(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kw(e){var t=Um(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bs(e){e._valueTracker||(e._valueTracker=Kw(e))}function Vm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Um(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ja(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hm(e,t){t=t.checked,t!=null&&cc(e,"checked",t,!1)}function Ga(e,t){Hm(e,t);var n=$n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wa(e,t.type,$n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wa(e,t,n){(t!=="number"||bo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ki=Array.isArray;function zr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$n(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function md(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(ki(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$n(n)}}function jm(e,t){var n=$n(t.value),r=$n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ka(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ls,Wm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yw=["Webkit","ms","Moz","O"];Object.keys(Li).forEach(function(e){Yw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Li[t]=Li[e]})});function qm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Li.hasOwnProperty(e)&&Li[e]?(""+t).trim():t+"px"}function Km(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Jw=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ya(e,t){if(t){if(Jw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function Ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xa=null;function pc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,Br=null,Ur=null;function yd(e){if(e=xs(e)){if(typeof Qa!="function")throw Error(b(280));var t=e.stateNode;t&&(t=yl(t),Qa(e.stateNode,e.type,t))}}function Ym(e){Br?Ur?Ur.push(e):Ur=[e]:Br=e}function Jm(){if(Br){var e=Br,t=Ur;if(Ur=Br=null,yd(e),t)for(e=0;e<t.length;e++)yd(t[e])}}function Xm(e,t){return e(t)}function Qm(){}var Yl=!1;function Zm(e,t,n){if(Yl)return e(t,n);Yl=!0;try{return Xm(e,t,n)}finally{Yl=!1,(Br!==null||Ur!==null)&&(Qm(),Jm())}}function Ji(e,t){var n=e.stateNode;if(n===null)return null;var r=yl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var Za=!1;if(dn)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){Za=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{Za=!1}function Xw(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Oi=!1,Lo=null,Oo=!1,eu=null,Qw={onError:function(e){Oi=!0,Lo=e}};function Zw(e,t,n,r,i,s,o,l,a){Oi=!1,Lo=null,Xw.apply(Qw,arguments)}function ev(e,t,n,r,i,s,o,l,a){if(Zw.apply(this,arguments),Oi){if(Oi){var u=Lo;Oi=!1,Lo=null}else throw Error(b(198));Oo||(Oo=!0,eu=u)}}function dr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xd(e){if(dr(e)!==e)throw Error(b(188))}function tv(e){var t=e.alternate;if(!t){if(t=dr(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xd(i),e;if(s===r)return xd(i),t;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function tg(e){return e=tv(e),e!==null?ng(e):null}function ng(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ng(e);if(t!==null)return t;e=e.sibling}return null}var rg=xt.unstable_scheduleCallback,wd=xt.unstable_cancelCallback,nv=xt.unstable_shouldYield,rv=xt.unstable_requestPaint,Te=xt.unstable_now,iv=xt.unstable_getCurrentPriorityLevel,mc=xt.unstable_ImmediatePriority,ig=xt.unstable_UserBlockingPriority,Do=xt.unstable_NormalPriority,sv=xt.unstable_LowPriority,sg=xt.unstable_IdlePriority,hl=null,Zt=null;function ov(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(hl,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:uv,lv=Math.log,av=Math.LN2;function uv(e){return e>>>=0,e===0?32:31-(lv(e)/av|0)|0}var Os=64,Ds=4194304;function Ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ti(l):(s&=o,s!==0&&(r=Ti(s)))}else o=n&~i,o!==0?r=Ti(o):s!==0&&(r=Ti(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),i=1<<n,r|=e[n],t&=~i;return r}function cv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Bt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=cv(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function tu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function og(){var e=Os;return Os<<=1,!(Os&4194240)&&(Os=64),e}function Jl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function dv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Bt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function gc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var oe=0;function lg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ag,yc,ug,cg,fg,nu=!1,Fs=[],An=null,Nn=null,Rn=null,Xi=new Map,Qi=new Map,kn=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function gi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=xs(t),t!==null&&yc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pv(e,t,n,r,i){switch(t){case"focusin":return An=gi(An,e,t,n,r,i),!0;case"dragenter":return Nn=gi(Nn,e,t,n,r,i),!0;case"mouseover":return Rn=gi(Rn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xi.set(s,gi(Xi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qi.set(s,gi(Qi.get(s)||null,e,t,n,r,i)),!0}return!1}function dg(e){var t=Zn(e.target);if(t!==null){var n=dr(t);if(n!==null){if(t=n.tag,t===13){if(t=eg(n),t!==null){e.blockedOn=t,fg(e.priority,function(){ug(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ru(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xa=r,n.target.dispatchEvent(r),Xa=null}else return t=xs(n),t!==null&&yc(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){uo(e)&&n.delete(t)}function mv(){nu=!1,An!==null&&uo(An)&&(An=null),Nn!==null&&uo(Nn)&&(Nn=null),Rn!==null&&uo(Rn)&&(Rn=null),Xi.forEach(Cd),Qi.forEach(Cd)}function yi(e,t){e.blockedOn===t&&(e.blockedOn=null,nu||(nu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,mv)))}function Zi(e){function t(i){return yi(i,e)}if(0<Fs.length){yi(Fs[0],e);for(var n=1;n<Fs.length;n++){var r=Fs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(An!==null&&yi(An,e),Nn!==null&&yi(Nn,e),Rn!==null&&yi(Rn,e),Xi.forEach(t),Qi.forEach(t),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)dg(n),n.blockedOn===null&&kn.shift()}var Vr=gn.ReactCurrentBatchConfig,$o=!0;function gv(e,t,n,r){var i=oe,s=Vr.transition;Vr.transition=null;try{oe=1,xc(e,t,n,r)}finally{oe=i,Vr.transition=s}}function yv(e,t,n,r){var i=oe,s=Vr.transition;Vr.transition=null;try{oe=4,xc(e,t,n,r)}finally{oe=i,Vr.transition=s}}function xc(e,t,n,r){if($o){var i=ru(e,t,n,r);if(i===null)oa(e,t,r,zo,n),vd(e,r);else if(pv(i,e,t,n,r))r.stopPropagation();else if(vd(e,r),t&4&&-1<hv.indexOf(e)){for(;i!==null;){var s=xs(i);if(s!==null&&ag(s),s=ru(e,t,n,r),s===null&&oa(e,t,r,zo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else oa(e,t,r,null,n)}}var zo=null;function ru(e,t,n,r){if(zo=null,e=pc(r),e=Zn(e),e!==null)if(t=dr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zo=e,null}function hg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iv()){case mc:return 1;case ig:return 4;case Do:case sv:return 16;case sg:return 536870912;default:return 16}default:return 16}}var In=null,wc=null,co=null;function pg(){if(co)return co;var e,t=wc,n=t.length,r,i="value"in In?In.value:In.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return co=i.slice(e,1<r?1-r:void 0)}function fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function _d(){return!1}function Ct(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$s:_d,this.isPropagationStopped=_d,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),t}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=Ct(si),ys=Ce({},si,{view:0,detail:0}),xv=Ct(ys),Xl,Ql,xi,pl=Ce({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Xl=e.screenX-xi.screenX,Ql=e.screenY-xi.screenY):Ql=Xl=0,xi=e),Xl)},movementY:function(e){return"movementY"in e?e.movementY:Ql}}),Sd=Ct(pl),wv=Ce({},pl,{dataTransfer:0}),vv=Ct(wv),Cv=Ce({},ys,{relatedTarget:0}),Zl=Ct(Cv),_v=Ce({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=Ct(_v),Ev=Ce({},si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kv=Ct(Ev),Tv=Ce({},si,{data:0}),Ed=Ct(Tv),Iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Av={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Av[e])?!!t[e]:!1}function Cc(){return Nv}var Rv=Ce({},ys,{key:function(e){if(e.key){var t=Iv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cc,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mv=Ct(Rv),bv=Ce({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kd=Ct(bv),Lv=Ce({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cc}),Ov=Ct(Lv),Dv=Ce({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fv=Ct(Dv),$v=Ce({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zv=Ct($v),Bv=[9,13,27,32],_c=dn&&"CompositionEvent"in window,Di=null;dn&&"documentMode"in document&&(Di=document.documentMode);var Uv=dn&&"TextEvent"in window&&!Di,mg=dn&&(!_c||Di&&8<Di&&11>=Di),Td=" ",Id=!1;function gg(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function Vv(e,t){switch(e){case"compositionend":return yg(t);case"keypress":return t.which!==32?null:(Id=!0,Td);case"textInput":return e=t.data,e===Td&&Id?null:e;default:return null}}function Hv(e,t){if(Pr)return e==="compositionend"||!_c&&gg(e,t)?(e=pg(),co=wc=In=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mg&&t.locale!=="ko"?null:t.data;default:return null}}var jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jv[e.type]:t==="textarea"}function xg(e,t,n,r){Ym(r),t=Bo(t,"onChange"),0<t.length&&(n=new vc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fi=null,es=null;function Gv(e){Ag(e,0)}function ml(e){var t=Rr(e);if(Vm(t))return e}function Wv(e,t){if(e==="change")return t}var wg=!1;if(dn){var ea;if(dn){var ta="oninput"in document;if(!ta){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),ta=typeof Ad.oninput=="function"}ea=ta}else ea=!1;wg=ea&&(!document.documentMode||9<document.documentMode)}function Nd(){Fi&&(Fi.detachEvent("onpropertychange",vg),es=Fi=null)}function vg(e){if(e.propertyName==="value"&&ml(es)){var t=[];xg(t,es,e,pc(e)),Zm(Gv,t)}}function qv(e,t,n){e==="focusin"?(Nd(),Fi=t,es=n,Fi.attachEvent("onpropertychange",vg)):e==="focusout"&&Nd()}function Kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(es)}function Yv(e,t){if(e==="click")return ml(t)}function Jv(e,t){if(e==="input"||e==="change")return ml(t)}function Xv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Xv;function ts(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!za.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function Rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Md(e,t){var n=Rd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rd(n)}}function Cg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _g(){for(var e=window,t=bo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bo(e.document)}return t}function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qv(e){var t=_g(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cg(n.ownerDocument.documentElement,n)){if(r!==null&&Sc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Md(n,s);var o=Md(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zv=dn&&"documentMode"in document&&11>=document.documentMode,Ar=null,iu=null,$i=null,su=!1;function bd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;su||Ar==null||Ar!==bo(r)||(r=Ar,"selectionStart"in r&&Sc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$i&&ts($i,r)||($i=r,r=Bo(iu,"onSelect"),0<r.length&&(t=new vc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function zs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},na={},Sg={};dn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function gl(e){if(na[e])return na[e];if(!Nr[e])return e;var t=Nr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sg)return na[e]=t[n];return e}var Eg=gl("animationend"),kg=gl("animationiteration"),Tg=gl("animationstart"),Ig=gl("transitionend"),Pg=new Map,Ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){Pg.set(e,t),fr(t,[e])}for(var ra=0;ra<Ld.length;ra++){var ia=Ld[ra],eC=ia.toLowerCase(),tC=ia[0].toUpperCase()+ia.slice(1);Bn(eC,"on"+tC)}Bn(Eg,"onAnimationEnd");Bn(kg,"onAnimationIteration");Bn(Tg,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(Ig,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function Od(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ev(r,t,void 0,e),e.currentTarget=null}function Ag(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Od(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Od(i,l,u),s=a}}}if(Oo)throw e=eu,Oo=!1,eu=null,e}function me(e,t){var n=t[cu];n===void 0&&(n=t[cu]=new Set);var r=e+"__bubble";n.has(r)||(Ng(t,e,2,!1),n.add(r))}function sa(e,t,n){var r=0;t&&(r|=4),Ng(n,e,r,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function ns(e){if(!e[Bs]){e[Bs]=!0,Fm.forEach(function(n){n!=="selectionchange"&&(nC.has(n)||sa(n,!1,e),sa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,sa("selectionchange",!1,t))}}function Ng(e,t,n,r){switch(hg(t)){case 1:var i=gv;break;case 4:i=yv;break;default:i=xc}n=i.bind(null,t,n,e),i=void 0,!Za||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function oa(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Zn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Zm(function(){var u=s,c=pc(n),f=[];e:{var p=Pg.get(e);if(p!==void 0){var m=vc,w=e;switch(e){case"keypress":if(fo(n)===0)break e;case"keydown":case"keyup":m=Mv;break;case"focusin":w="focus",m=Zl;break;case"focusout":w="blur",m=Zl;break;case"beforeblur":case"afterblur":m=Zl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Ov;break;case Eg:case kg:case Tg:m=Sv;break;case Ig:m=Fv;break;case"scroll":m=xv;break;case"wheel":m=zv;break;case"copy":case"cut":case"paste":m=kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kd}var x=(t&4)!==0,S=!x&&e==="scroll",y=x?p!==null?p+"Capture":null:p;x=[];for(var g=u,v;g!==null;){v=g;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,y!==null&&(T=Ji(g,y),T!=null&&x.push(rs(g,T,v)))),S)break;g=g.return}0<x.length&&(p=new m(p,w,null,n,c),f.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Xa&&(w=n.relatedTarget||n.fromElement)&&(Zn(w)||w[hn]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Zn(w):null,w!==null&&(S=dr(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(x=Sd,T="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=kd,T="onPointerLeave",y="onPointerEnter",g="pointer"),S=m==null?p:Rr(m),v=w==null?p:Rr(w),p=new x(T,g+"leave",m,n,c),p.target=S,p.relatedTarget=v,T=null,Zn(c)===u&&(x=new x(y,g+"enter",w,n,c),x.target=v,x.relatedTarget=S,T=x),S=T,m&&w)t:{for(x=m,y=w,g=0,v=x;v;v=xr(v))g++;for(v=0,T=y;T;T=xr(T))v++;for(;0<g-v;)x=xr(x),g--;for(;0<v-g;)y=xr(y),v--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=xr(x),y=xr(y)}x=null}else x=null;m!==null&&Dd(f,p,m,x,!1),w!==null&&S!==null&&Dd(f,S,w,x,!0)}}e:{if(p=u?Rr(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=Wv;else if(Pd(p))if(wg)P=Jv;else{P=Kv;var k=qv}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=Yv);if(P&&(P=P(e,u))){xg(f,P,n,c);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Wa(p,"number",p.value)}switch(k=u?Rr(u):window,e){case"focusin":(Pd(k)||k.contentEditable==="true")&&(Ar=k,iu=u,$i=null);break;case"focusout":$i=iu=Ar=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,bd(f,n,c);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":bd(f,n,c)}var I;if(_c)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Pr?gg(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(mg&&n.locale!=="ko"&&(Pr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Pr&&(I=pg()):(In=c,wc="value"in In?In.value:In.textContent,Pr=!0)),k=Bo(u,N),0<k.length&&(N=new Ed(N,e,null,n,c),f.push({event:N,listeners:k}),I?N.data=I:(I=yg(n),I!==null&&(N.data=I)))),(I=Uv?Vv(e,n):Hv(e,n))&&(u=Bo(u,"onBeforeInput"),0<u.length&&(c=new Ed("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}Ag(f,t)})}function rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ji(e,n),s!=null&&r.unshift(rs(e,s,i)),s=Ji(e,t),s!=null&&r.push(rs(e,s,i))),e=e.return}return r}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dd(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ji(n,s),a!=null&&o.unshift(rs(n,a,l))):i||(a=Ji(n,s),a!=null&&o.push(rs(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var rC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function Fd(e){return(typeof e=="string"?e:""+e).replace(rC,`
`).replace(iC,"")}function Us(e,t,n){if(t=Fd(t),Fd(e)!==t&&n)throw Error(b(425))}function Uo(){}var ou=null,lu=null;function au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uu=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(e){return $d.resolve(null).then(e).catch(lC)}:uu;function lC(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Zi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zi(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var oi=Math.random().toString(36).slice(2),Jt="__reactFiber$"+oi,is="__reactProps$"+oi,hn="__reactContainer$"+oi,cu="__reactEvents$"+oi,aC="__reactListeners$"+oi,uC="__reactHandles$"+oi;function Zn(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zd(e);e!==null;){if(n=e[Jt])return n;e=zd(e)}return t}e=n,n=e.parentNode}return null}function xs(e){return e=e[Jt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function yl(e){return e[is]||null}var fu=[],Mr=-1;function Un(e){return{current:e}}function ge(e){0>Mr||(e.current=fu[Mr],fu[Mr]=null,Mr--)}function de(e,t){Mr++,fu[Mr]=e.current,e.current=t}var zn={},qe=Un(zn),it=Un(!1),sr=zn;function Qr(e,t){var n=e.type.contextTypes;if(!n)return zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function st(e){return e=e.childContextTypes,e!=null}function Vo(){ge(it),ge(qe)}function Bd(e,t,n){if(qe.current!==zn)throw Error(b(168));de(qe,t),de(it,n)}function Rg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(b(108,qw(e)||"Unknown",i));return Ce({},n,r)}function Ho(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,sr=qe.current,de(qe,e),de(it,it.current),!0}function Ud(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=Rg(e,t,sr),r.__reactInternalMemoizedMergedChildContext=e,ge(it),ge(qe),de(qe,e)):ge(it),de(it,n)}var an=null,xl=!1,aa=!1;function Mg(e){an===null?an=[e]:an.push(e)}function cC(e){xl=!0,Mg(e)}function Vn(){if(!aa&&an!==null){aa=!0;var e=0,t=oe;try{var n=an;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}an=null,xl=!1}catch(i){throw an!==null&&(an=an.slice(e+1)),rg(mc,Vn),i}finally{oe=t,aa=!1}}return null}var br=[],Lr=0,jo=null,Go=0,_t=[],St=0,or=null,un=1,cn="";function Yn(e,t){br[Lr++]=Go,br[Lr++]=jo,jo=e,Go=t}function bg(e,t,n){_t[St++]=un,_t[St++]=cn,_t[St++]=or,or=e;var r=un;e=cn;var i=32-Bt(r)-1;r&=~(1<<i),n+=1;var s=32-Bt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,un=1<<32-Bt(t)+i|n<<i|r,cn=s+e}else un=1<<s|n<<i|r,cn=e}function Ec(e){e.return!==null&&(Yn(e,1),bg(e,1,0))}function kc(e){for(;e===jo;)jo=br[--Lr],br[Lr]=null,Go=br[--Lr],br[Lr]=null;for(;e===or;)or=_t[--St],_t[St]=null,cn=_t[--St],_t[St]=null,un=_t[--St],_t[St]=null}var yt=null,mt=null,ye=!1,$t=null;function Lg(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,mt=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=or!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,mt=null,!0):!1;default:return!1}}function du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hu(e){if(ye){var t=mt;if(t){var n=t;if(!Vd(e,t)){if(du(e))throw Error(b(418));t=Mn(n.nextSibling);var r=yt;t&&Vd(e,t)?Lg(r,n):(e.flags=e.flags&-4097|2,ye=!1,yt=e)}}else{if(du(e))throw Error(b(418));e.flags=e.flags&-4097|2,ye=!1,yt=e}}}function Hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Vs(e){if(e!==yt)return!1;if(!ye)return Hd(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!au(e.type,e.memoizedProps)),t&&(t=mt)){if(du(e))throw Og(),Error(b(418));for(;t;)Lg(e,t),t=Mn(t.nextSibling)}if(Hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=yt?Mn(e.stateNode.nextSibling):null;return!0}function Og(){for(var e=mt;e;)e=Mn(e.nextSibling)}function Zr(){mt=yt=null,ye=!1}function Tc(e){$t===null?$t=[e]:$t.push(e)}var fC=gn.ReactCurrentBatchConfig;function wi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jd(e){var t=e._init;return t(e._payload)}function Dg(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Dn(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,v,T){return g===null||g.tag!==6?(g=ma(v,y.mode,T),g.return=y,g):(g=i(g,v),g.return=y,g)}function a(y,g,v,T){var P=v.type;return P===Ir?c(y,g,v.props.children,T,v.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Sn&&jd(P)===g.type)?(T=i(g,v.props),T.ref=wi(y,g,v),T.return=y,T):(T=wo(v.type,v.key,v.props,null,y.mode,T),T.ref=wi(y,g,v),T.return=y,T)}function u(y,g,v,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=ga(v,y.mode,T),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function c(y,g,v,T,P){return g===null||g.tag!==7?(g=ir(v,y.mode,T,P),g.return=y,g):(g=i(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ma(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ms:return v=wo(g.type,g.key,g.props,null,y.mode,v),v.ref=wi(y,null,g),v.return=y,v;case Tr:return g=ga(g,y.mode,v),g.return=y,g;case Sn:var T=g._init;return f(y,T(g._payload),v)}if(ki(g)||pi(g))return g=ir(g,y.mode,v,null),g.return=y,g;Hs(y,g)}return null}function p(y,g,v,T){var P=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return P!==null?null:l(y,g,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ms:return v.key===P?a(y,g,v,T):null;case Tr:return v.key===P?u(y,g,v,T):null;case Sn:return P=v._init,p(y,g,P(v._payload),T)}if(ki(v)||pi(v))return P!==null?null:c(y,g,v,T,null);Hs(y,v)}return null}function m(y,g,v,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(v)||null,l(g,y,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ms:return y=y.get(T.key===null?v:T.key)||null,a(g,y,T,P);case Tr:return y=y.get(T.key===null?v:T.key)||null,u(g,y,T,P);case Sn:var k=T._init;return m(y,g,v,k(T._payload),P)}if(ki(T)||pi(T))return y=y.get(v)||null,c(g,y,T,P,null);Hs(g,T)}return null}function w(y,g,v,T){for(var P=null,k=null,I=g,N=g=0,D=null;I!==null&&N<v.length;N++){I.index>N?(D=I,I=null):D=I.sibling;var R=p(y,I,v[N],T);if(R===null){I===null&&(I=D);break}e&&I&&R.alternate===null&&t(y,I),g=s(R,g,N),k===null?P=R:k.sibling=R,k=R,I=D}if(N===v.length)return n(y,I),ye&&Yn(y,N),P;if(I===null){for(;N<v.length;N++)I=f(y,v[N],T),I!==null&&(g=s(I,g,N),k===null?P=I:k.sibling=I,k=I);return ye&&Yn(y,N),P}for(I=r(y,I);N<v.length;N++)D=m(I,y,N,v[N],T),D!==null&&(e&&D.alternate!==null&&I.delete(D.key===null?N:D.key),g=s(D,g,N),k===null?P=D:k.sibling=D,k=D);return e&&I.forEach(function(M){return t(y,M)}),ye&&Yn(y,N),P}function x(y,g,v,T){var P=pi(v);if(typeof P!="function")throw Error(b(150));if(v=P.call(v),v==null)throw Error(b(151));for(var k=P=null,I=g,N=g=0,D=null,R=v.next();I!==null&&!R.done;N++,R=v.next()){I.index>N?(D=I,I=null):D=I.sibling;var M=p(y,I,R.value,T);if(M===null){I===null&&(I=D);break}e&&I&&M.alternate===null&&t(y,I),g=s(M,g,N),k===null?P=M:k.sibling=M,k=M,I=D}if(R.done)return n(y,I),ye&&Yn(y,N),P;if(I===null){for(;!R.done;N++,R=v.next())R=f(y,R.value,T),R!==null&&(g=s(R,g,N),k===null?P=R:k.sibling=R,k=R);return ye&&Yn(y,N),P}for(I=r(y,I);!R.done;N++,R=v.next())R=m(I,y,N,R.value,T),R!==null&&(e&&R.alternate!==null&&I.delete(R.key===null?N:R.key),g=s(R,g,N),k===null?P=R:k.sibling=R,k=R);return e&&I.forEach(function($){return t(y,$)}),ye&&Yn(y,N),P}function S(y,g,v,T){if(typeof v=="object"&&v!==null&&v.type===Ir&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ms:e:{for(var P=v.key,k=g;k!==null;){if(k.key===P){if(P=v.type,P===Ir){if(k.tag===7){n(y,k.sibling),g=i(k,v.props.children),g.return=y,y=g;break e}}else if(k.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Sn&&jd(P)===k.type){n(y,k.sibling),g=i(k,v.props),g.ref=wi(y,k,v),g.return=y,y=g;break e}n(y,k);break}else t(y,k);k=k.sibling}v.type===Ir?(g=ir(v.props.children,y.mode,T,v.key),g.return=y,y=g):(T=wo(v.type,v.key,v.props,null,y.mode,T),T.ref=wi(y,g,v),T.return=y,y=T)}return o(y);case Tr:e:{for(k=v.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=ga(v,y.mode,T),g.return=y,y=g}return o(y);case Sn:return k=v._init,S(y,g,k(v._payload),T)}if(ki(v))return w(y,g,v,T);if(pi(v))return x(y,g,v,T);Hs(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,v),g.return=y,y=g):(n(y,g),g=ma(v,y.mode,T),g.return=y,y=g),o(y)):n(y,g)}return S}var ei=Dg(!0),Fg=Dg(!1),Wo=Un(null),qo=null,Or=null,Ic=null;function Pc(){Ic=Or=qo=null}function Ac(e){var t=Wo.current;ge(Wo),e._currentValue=t}function pu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hr(e,t){qo=e,Ic=Or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Ic!==e)if(e={context:e,memoizedValue:t,next:null},Or===null){if(qo===null)throw Error(b(308));Or=e,qo.dependencies={lanes:0,firstContext:e}}else Or=Or.next=e;return t}var er=null;function Nc(e){er===null?er=[e]:er.push(e)}function $g(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Nc(t)):(n.next=i.next,i.next=n),t.interleaved=n,pn(e,r)}function pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pn(e,n)}return i=r.interleaved,i===null?(t.next=t,Nc(r)):(t.next=i.next,i.next=t),r.interleaved=t,pn(e,n)}function ho(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gc(e,n)}}function Gd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ko(e,t,n,r){var i=e.updateQueue;En=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,c=u=a=null,l=s;do{var p=l.lane,m=l.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(p=t,m=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(m,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,p=typeof w=="function"?w.call(m,f,p):w,p==null)break e;f=Ce({},f,p);break e;case 2:En=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=f):c=c.next=m,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ar|=o,e.lanes=o,e.memoizedState=f}}function Wd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var ws={},en=Un(ws),ss=Un(ws),os=Un(ws);function tr(e){if(e===ws)throw Error(b(174));return e}function Mc(e,t){switch(de(os,t),de(ss,e),de(en,ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ka(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ka(t,e)}ge(en),de(en,t)}function ti(){ge(en),ge(ss),ge(os)}function Bg(e){tr(os.current);var t=tr(en.current),n=Ka(t,e.type);t!==n&&(de(ss,e),de(en,n))}function bc(e){ss.current===e&&(ge(en),ge(ss))}var we=Un(0);function Yo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function Lc(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var po=gn.ReactCurrentDispatcher,ca=gn.ReactCurrentBatchConfig,lr=0,ve=null,Me=null,De=null,Jo=!1,zi=!1,ls=0,dC=0;function He(){throw Error(b(321))}function Oc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Dc(e,t,n,r,i,s){if(lr=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,po.current=e===null||e.memoizedState===null?gC:yC,e=n(r,i),zi){s=0;do{if(zi=!1,ls=0,25<=s)throw Error(b(301));s+=1,De=Me=null,t.updateQueue=null,po.current=xC,e=n(r,i)}while(zi)}if(po.current=Xo,t=Me!==null&&Me.next!==null,lr=0,De=Me=ve=null,Jo=!1,t)throw Error(b(300));return e}function Fc(){var e=ls!==0;return ls=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ve.memoizedState=De=e:De=De.next=e,De}function Nt(){if(Me===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=De===null?ve.memoizedState:De.next;if(t!==null)De=t,Me=e;else{if(e===null)throw Error(b(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},De===null?ve.memoizedState=De=e:De=De.next=e}return De}function as(e,t){return typeof t=="function"?t(e):t}function fa(e){var t=Nt(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((lr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,ve.lanes|=c,ar|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Vt(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ve.lanes|=s,ar|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function da(e){var t=Nt(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Vt(s,t.memoizedState)||(rt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ug(){}function Vg(e,t){var n=ve,r=Nt(),i=t(),s=!Vt(r.memoizedState,i);if(s&&(r.memoizedState=i,rt=!0),r=r.queue,$c(Gg.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,us(9,jg.bind(null,n,r,i,t),void 0,null),Fe===null)throw Error(b(349));lr&30||Hg(n,t,i)}return i}function Hg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jg(e,t,n,r){t.value=n,t.getSnapshot=r,Wg(t)&&qg(e)}function Gg(e,t,n){return n(function(){Wg(t)&&qg(e)})}function Wg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function qg(e){var t=pn(e,1);t!==null&&Ut(t,e,1,-1)}function qd(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},t.queue=e,e=e.dispatch=mC.bind(null,ve,e),[t.memoizedState,e]}function us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Kg(){return Nt().memoizedState}function mo(e,t,n,r){var i=Wt();ve.flags|=e,i.memoizedState=us(1|t,n,void 0,r===void 0?null:r)}function wl(e,t,n,r){var i=Nt();r=r===void 0?null:r;var s=void 0;if(Me!==null){var o=Me.memoizedState;if(s=o.destroy,r!==null&&Oc(r,o.deps)){i.memoizedState=us(t,n,s,r);return}}ve.flags|=e,i.memoizedState=us(1|t,n,s,r)}function Kd(e,t){return mo(8390656,8,e,t)}function $c(e,t){return wl(2048,8,e,t)}function Yg(e,t){return wl(4,2,e,t)}function Jg(e,t){return wl(4,4,e,t)}function Xg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qg(e,t,n){return n=n!=null?n.concat([e]):null,wl(4,4,Xg.bind(null,t,e),n)}function zc(){}function Zg(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Oc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ey(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Oc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ty(e,t,n){return lr&21?(Vt(n,t)||(n=og(),ve.lanes|=n,ar|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function hC(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=ca.transition;ca.transition={};try{e(!1),t()}finally{oe=n,ca.transition=r}}function ny(){return Nt().memoizedState}function pC(e,t,n){var r=On(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ry(e))iy(t,n);else if(n=$g(e,t,n,r),n!==null){var i=Je();Ut(n,e,r,i),sy(n,t,r)}}function mC(e,t,n){var r=On(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ry(e))iy(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Vt(l,o)){var a=t.interleaved;a===null?(i.next=i,Nc(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=$g(e,t,i,r),n!==null&&(i=Je(),Ut(n,e,r,i),sy(n,t,r))}}function ry(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function iy(e,t){zi=Jo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gc(e,n)}}var Xo={readContext:At,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},gC={readContext:At,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Kd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mo(4194308,4,Xg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pC.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:qd,useDebugValue:zc,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=qd(!1),t=e[0];return e=hC.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,i=Wt();if(ye){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),Fe===null)throw Error(b(349));lr&30||Hg(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Kd(Gg.bind(null,r,s,e),[e]),r.flags|=2048,us(9,jg.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Fe.identifierPrefix;if(ye){var n=cn,r=un;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ls++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yC={readContext:At,useCallback:Zg,useContext:At,useEffect:$c,useImperativeHandle:Qg,useInsertionEffect:Yg,useLayoutEffect:Jg,useMemo:ey,useReducer:fa,useRef:Kg,useState:function(){return fa(as)},useDebugValue:zc,useDeferredValue:function(e){var t=Nt();return ty(t,Me.memoizedState,e)},useTransition:function(){var e=fa(as)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Ug,useSyncExternalStore:Vg,useId:ny,unstable_isNewReconciler:!1},xC={readContext:At,useCallback:Zg,useContext:At,useEffect:$c,useImperativeHandle:Qg,useInsertionEffect:Yg,useLayoutEffect:Jg,useMemo:ey,useReducer:da,useRef:Kg,useState:function(){return da(as)},useDebugValue:zc,useDeferredValue:function(e){var t=Nt();return Me===null?t.memoizedState=e:ty(t,Me.memoizedState,e)},useTransition:function(){var e=da(as)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Ug,useSyncExternalStore:Vg,useId:ny,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vl={isMounted:function(e){return(e=e._reactInternals)?dr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),i=On(e),s=fn(r,i);s.payload=t,n!=null&&(s.callback=n),t=bn(e,s,i),t!==null&&(Ut(t,e,i,r),ho(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),i=On(e),s=fn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=bn(e,s,i),t!==null&&(Ut(t,e,i,r),ho(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=On(e),i=fn(n,r);i.tag=2,t!=null&&(i.callback=t),t=bn(e,i,r),t!==null&&(Ut(t,e,r,n),ho(t,e,r))}};function Yd(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ts(n,r)||!ts(i,s):!0}function oy(e,t,n){var r=!1,i=zn,s=t.contextType;return typeof s=="object"&&s!==null?s=At(s):(i=st(t)?sr:qe.current,r=t.contextTypes,s=(r=r!=null)?Qr(e,i):zn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Jd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vl.enqueueReplaceState(t,t.state,null)}function gu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Rc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=At(s):(s=st(t)?sr:qe.current,i.context=Qr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(mu(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vl.enqueueReplaceState(i,i.state,null),Ko(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ni(e,t){try{var n="",r=t;do n+=Ww(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wC=typeof WeakMap=="function"?WeakMap:Map;function ly(e,t,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zo||(Zo=!0,Iu=r),yu(e,t)},n}function ay(e,t,n){n=fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yu(e,t),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Xd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=bC.bind(null,e,t,n),t.then(e,e))}function Qd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fn(-1,1),t.tag=2,bn(n,t,1))),n.lanes|=1),e)}var vC=gn.ReactCurrentOwner,rt=!1;function Ye(e,t,n,r){t.child=e===null?Fg(t,null,n,r):ei(t,e.child,n,r)}function eh(e,t,n,r,i){n=n.render;var s=t.ref;return Hr(t,i),r=Dc(e,t,n,r,s,i),n=Fc(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mn(e,t,i)):(ye&&n&&Ec(t),t.flags|=1,Ye(e,t,r,i),t.child)}function th(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!qc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,uy(e,t,s,r,i)):(e=wo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ts,n(o,r)&&e.ref===t.ref)return mn(e,t,i)}return t.flags|=1,e=Dn(s,r),e.ref=t.ref,e.return=t,t.child=e}function uy(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ts(s,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,mn(e,t,i)}return xu(e,t,n,r,i)}function cy(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Fr,pt),pt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Fr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,de(Fr,pt),pt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,de(Fr,pt),pt|=r;return Ye(e,t,i,n),t.child}function fy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,n,r,i){var s=st(n)?sr:qe.current;return s=Qr(t,s),Hr(t,i),n=Dc(e,t,n,r,s,i),r=Fc(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mn(e,t,i)):(ye&&r&&Ec(t),t.flags|=1,Ye(e,t,n,i),t.child)}function nh(e,t,n,r,i){if(st(n)){var s=!0;Ho(t)}else s=!1;if(Hr(t,i),t.stateNode===null)go(e,t),oy(t,n,r),gu(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=st(n)?sr:qe.current,u=Qr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Jd(t,o,r,u),En=!1;var p=t.memoizedState;o.state=p,Ko(t,r,o,i),a=t.memoizedState,l!==r||p!==a||it.current||En?(typeof c=="function"&&(mu(t,n,c,r),a=t.memoizedState),(l=En||Yd(t,n,l,r,p,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ot(t.type,l),o.props=u,f=t.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=At(a):(a=st(n)?sr:qe.current,a=Qr(t,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==a)&&Jd(t,o,r,a),En=!1,p=t.memoizedState,o.state=p,Ko(t,r,o,i);var w=t.memoizedState;l!==f||p!==w||it.current||En?(typeof m=="function"&&(mu(t,n,m,r),w=t.memoizedState),(u=En||Yd(t,n,u,r,p,w,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return wu(e,t,n,r,s,i)}function wu(e,t,n,r,i,s){fy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Ud(t,n,!1),mn(e,t,s);r=t.stateNode,vC.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ei(t,e.child,null,s),t.child=ei(t,null,l,s)):Ye(e,t,l,s),t.memoizedState=r.state,i&&Ud(t,n,!0),t.child}function dy(e){var t=e.stateNode;t.pendingContext?Bd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bd(e,t.context,!1),Mc(e,t.containerInfo)}function rh(e,t,n,r,i){return Zr(),Tc(i),t.flags|=256,Ye(e,t,n,r),t.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function Cu(e){return{baseLanes:e,cachePool:null,transitions:null}}function hy(e,t,n){var r=t.pendingProps,i=we.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),de(we,i&1),e===null)return hu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sl(o,r,0,null),e=ir(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Cu(n),t.memoizedState=vu,e):Bc(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return CC(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Dn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Dn(l,s):(s=ir(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Cu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=vu,r}return s=e.child,e=s.sibling,r=Dn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bc(e,t){return t=Sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function js(e,t,n,r){return r!==null&&Tc(r),ei(t,e.child,null,n),e=Bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CC(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ha(Error(b(422))),js(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Sl({mode:"visible",children:r.children},i,0,null),s=ir(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ei(t,e.child,null,o),t.child.memoizedState=Cu(o),t.memoizedState=vu,s);if(!(t.mode&1))return js(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(b(419)),r=ha(s,r,void 0),js(e,t,o,r)}if(l=(o&e.childLanes)!==0,rt||l){if(r=Fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pn(e,i),Ut(r,e,i,-1))}return Wc(),r=ha(Error(b(421))),js(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=LC.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,mt=Mn(i.nextSibling),yt=t,ye=!0,$t=null,e!==null&&(_t[St++]=un,_t[St++]=cn,_t[St++]=or,un=e.id,cn=e.overflow,or=t),t=Bc(t,r.children),t.flags|=4096,t)}function ih(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pu(e.return,t,n)}function pa(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function py(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ye(e,t,r.children,n),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ih(e,n,t);else if(e.tag===19)ih(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(we,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Yo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),pa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Yo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}pa(t,!0,n,null,s);break;case"together":pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function go(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ar|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _C(e,t,n){switch(t.tag){case 3:dy(t),Zr();break;case 5:Bg(t);break;case 1:st(t.type)&&Ho(t);break;case 4:Mc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;de(Wo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(we,we.current&1),t.flags|=128,null):n&t.child.childLanes?hy(e,t,n):(de(we,we.current&1),e=mn(e,t,n),e!==null?e.sibling:null);de(we,we.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return py(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,cy(e,t,n)}return mn(e,t,n)}var my,_u,gy,yy;my=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_u=function(){};gy=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,tr(en.current);var s=null;switch(n){case"input":i=ja(e,i),r=ja(e,r),s=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),s=[];break;case"textarea":i=qa(e,i),r=qa(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Uo)}Ya(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ki.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ki.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&me("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};yy=function(e,t,n,r){n!==r&&(t.flags|=4)};function vi(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SC(e,t,n){var r=t.pendingProps;switch(kc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return st(t.type)&&Vo(),je(t),null;case 3:return r=t.stateNode,ti(),ge(it),ge(qe),Lc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(Nu($t),$t=null))),_u(e,t),je(t),null;case 5:bc(t);var i=tr(os.current);if(n=t.type,e!==null&&t.stateNode!=null)gy(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return je(t),null}if(e=tr(en.current),Vs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jt]=t,r[is]=s,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Ii.length;i++)me(Ii[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":hd(r,s),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},me("invalid",r);break;case"textarea":md(r,s),me("invalid",r)}Ya(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Us(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Us(r.textContent,l,e),i=["children",""+l]):Ki.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&me("scroll",r)}switch(n){case"input":bs(r),pd(r,s,!0);break;case"textarea":bs(r),gd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Uo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Jt]=t,e[is]=r,my(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ja(n,r),n){case"dialog":me("cancel",e),me("close",e),i=r;break;case"iframe":case"object":case"embed":me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ii.length;i++)me(Ii[i],e);i=r;break;case"source":me("error",e),i=r;break;case"img":case"image":case"link":me("error",e),me("load",e),i=r;break;case"details":me("toggle",e),i=r;break;case"input":hd(e,r),i=ja(e,r),me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),me("invalid",e);break;case"textarea":md(e,r),i=qa(e,r),me("invalid",e);break;default:i=r}Ya(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Km(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Wm(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Yi(e,a):typeof a=="number"&&Yi(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ki.hasOwnProperty(s)?a!=null&&s==="onScroll"&&me("scroll",e):a!=null&&cc(e,s,a,o))}switch(n){case"input":bs(e),pd(e,r,!1);break;case"textarea":bs(e),gd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$n(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?zr(e,!!r.multiple,s,!1):r.defaultValue!=null&&zr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Uo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)yy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=tr(os.current),tr(en.current),Vs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jt]=t,(s=r.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:Us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Us(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return je(t),null;case 13:if(ge(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&mt!==null&&t.mode&1&&!(t.flags&128))Og(),Zr(),t.flags|=98560,s=!1;else if(s=Vs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(b(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[Jt]=t}else Zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),s=!1}else $t!==null&&(Nu($t),$t=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?be===0&&(be=3):Wc())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return ti(),_u(e,t),e===null&&ns(t.stateNode.containerInfo),je(t),null;case 10:return Ac(t.type._context),je(t),null;case 17:return st(t.type)&&Vo(),je(t),null;case 19:if(ge(we),s=t.memoizedState,s===null)return je(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)vi(s,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Yo(e),o!==null){for(t.flags|=128,vi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(we,we.current&1|2),t.child}e=e.sibling}s.tail!==null&&Te()>ri&&(t.flags|=128,r=!0,vi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Yo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ye)return je(t),null}else 2*Te()-s.renderingStartTime>ri&&n!==1073741824&&(t.flags|=128,r=!0,vi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Te(),t.sibling=null,n=we.current,de(we,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return Gc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function EC(e,t){switch(kc(t),t.tag){case 1:return st(t.type)&&Vo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(),ge(it),ge(qe),Lc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bc(t),null;case 13:if(ge(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(we),null;case 4:return ti(),null;case 10:return Ac(t.type._context),null;case 22:case 23:return Gc(),null;case 24:return null;default:return null}}var Gs=!1,We=!1,kC=typeof WeakSet=="function"?WeakSet:Set,z=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(e,t,r)}else n.current=null}function Su(e,t,n){try{n()}catch(r){Ee(e,t,r)}}var sh=!1;function TC(e,t){if(ou=$o,e=_g(),Sc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===i&&(l=o),p===s&&++c===r&&(a=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(lu={focusedElem:e,selectionRange:n},$o=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,S=w.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ot(t.type,x),S);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(T){Ee(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return w=sh,sh=!1,w}function Bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Su(t,n,s)}i=i.next}while(i!==r)}}function Cl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Eu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xy(e){var t=e.alternate;t!==null&&(e.alternate=null,xy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[is],delete t[cu],delete t[aC],delete t[uC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wy(e){return e.tag===5||e.tag===3||e.tag===4}function oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Uo));else if(r!==4&&(e=e.child,e!==null))for(ku(e,t,n),e=e.sibling;e!==null;)ku(e,t,n),e=e.sibling}function Tu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Tu(e,t,n),e=e.sibling;e!==null;)Tu(e,t,n),e=e.sibling}var $e=null,Ft=!1;function xn(e,t,n){for(n=n.child;n!==null;)vy(e,t,n),n=n.sibling}function vy(e,t,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 5:We||Dr(n,t);case 6:var r=$e,i=Ft;$e=null,xn(e,t,n),$e=r,Ft=i,$e!==null&&(Ft?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Ft?(e=$e,n=n.stateNode,e.nodeType===8?la(e.parentNode,n):e.nodeType===1&&la(e,n),Zi(e)):la($e,n.stateNode));break;case 4:r=$e,i=Ft,$e=n.stateNode.containerInfo,Ft=!0,xn(e,t,n),$e=r,Ft=i;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Su(n,t,o),i=i.next}while(i!==r)}xn(e,t,n);break;case 1:if(!We&&(Dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ee(n,t,l)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,xn(e,t,n),We=r):xn(e,t,n);break;default:xn(e,t,n)}}function lh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kC),t.forEach(function(r){var i=OC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,Ft=!1;break e;case 3:$e=l.stateNode.containerInfo,Ft=!0;break e;case 4:$e=l.stateNode.containerInfo,Ft=!0;break e}l=l.return}if($e===null)throw Error(b(160));vy(s,o,i),$e=null,Ft=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ee(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cy(t,e),t=t.sibling}function Cy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),jt(e),r&4){try{Bi(3,e,e.return),Cl(3,e)}catch(x){Ee(e,e.return,x)}try{Bi(5,e,e.return)}catch(x){Ee(e,e.return,x)}}break;case 1:bt(t,e),jt(e),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(bt(t,e),jt(e),r&512&&n!==null&&Dr(n,n.return),e.flags&32){var i=e.stateNode;try{Yi(i,"")}catch(x){Ee(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Hm(i,s),Ja(l,o);var u=Ja(l,s);for(o=0;o<a.length;o+=2){var c=a[o],f=a[o+1];c==="style"?Km(i,f):c==="dangerouslySetInnerHTML"?Wm(i,f):c==="children"?Yi(i,f):cc(i,c,f,u)}switch(l){case"input":Ga(i,s);break;case"textarea":jm(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?zr(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?zr(i,!!s.multiple,s.defaultValue,!0):zr(i,!!s.multiple,s.multiple?[]:"",!1))}i[is]=s}catch(x){Ee(e,e.return,x)}}break;case 6:if(bt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(b(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Ee(e,e.return,x)}}break;case 3:if(bt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zi(t.containerInfo)}catch(x){Ee(e,e.return,x)}break;case 4:bt(t,e),jt(e);break;case 13:bt(t,e),jt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hc=Te())),r&4&&lh(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(We=(u=We)||c,bt(t,e),We=u):bt(t,e),jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(z=e,c=e.child;c!==null;){for(f=z=c;z!==null;){switch(p=z,m=p.child,p.tag){case 0:case 11:case 14:case 15:Bi(4,p,p.return);break;case 1:Dr(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ee(r,n,x)}}break;case 5:Dr(p,p.return);break;case 22:if(p.memoizedState!==null){uh(f);continue}}m!==null?(m.return=p,z=m):uh(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=qm("display",o))}catch(x){Ee(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ee(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bt(t,e),jt(e),r&4&&lh(e);break;case 21:break;default:bt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wy(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yi(i,""),r.flags&=-33);var s=oh(e);Tu(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=oh(e);ku(e,l,o);break;default:throw Error(b(161))}}catch(a){Ee(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IC(e,t,n){z=e,_y(e)}function _y(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gs;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||We;l=Gs;var u=We;if(Gs=o,(We=a)&&!u)for(z=i;z!==null;)o=z,a=o.child,o.tag===22&&o.memoizedState!==null?ch(i):a!==null?(a.return=o,z=a):ch(i);for(;s!==null;)z=s,_y(s),s=s.sibling;z=i,Gs=l,We=u}ah(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):ah(e)}}function ah(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Cl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Wd(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Zi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}We||t.flags&512&&Eu(t)}catch(p){Ee(t,t.return,p)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function uh(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function ch(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cl(4,t)}catch(a){Ee(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Ee(t,i,a)}}var s=t.return;try{Eu(t)}catch(a){Ee(t,s,a)}break;case 5:var o=t.return;try{Eu(t)}catch(a){Ee(t,o,a)}}}catch(a){Ee(t,t.return,a)}if(t===e){z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,z=l;break}z=t.return}}var PC=Math.ceil,Qo=gn.ReactCurrentDispatcher,Uc=gn.ReactCurrentOwner,Pt=gn.ReactCurrentBatchConfig,ne=0,Fe=null,Pe=null,Be=0,pt=0,Fr=Un(0),be=0,cs=null,ar=0,_l=0,Vc=0,Ui=null,tt=null,Hc=0,ri=1/0,ln=null,Zo=!1,Iu=null,Ln=null,Ws=!1,Pn=null,el=0,Vi=0,Pu=null,yo=-1,xo=0;function Je(){return ne&6?Te():yo!==-1?yo:yo=Te()}function On(e){return e.mode&1?ne&2&&Be!==0?Be&-Be:fC.transition!==null?(xo===0&&(xo=og()),xo):(e=oe,e!==0||(e=window.event,e=e===void 0?16:hg(e.type)),e):1}function Ut(e,t,n,r){if(50<Vi)throw Vi=0,Pu=null,Error(b(185));gs(e,n,r),(!(ne&2)||e!==Fe)&&(e===Fe&&(!(ne&2)&&(_l|=n),be===4&&Tn(e,Be)),ot(e,r),n===1&&ne===0&&!(t.mode&1)&&(ri=Te()+500,xl&&Vn()))}function ot(e,t){var n=e.callbackNode;fv(e,t);var r=Fo(e,e===Fe?Be:0);if(r===0)n!==null&&wd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&wd(n),t===1)e.tag===0?cC(fh.bind(null,e)):Mg(fh.bind(null,e)),oC(function(){!(ne&6)&&Vn()}),n=null;else{switch(lg(r)){case 1:n=mc;break;case 4:n=ig;break;case 16:n=Do;break;case 536870912:n=sg;break;default:n=Do}n=Ny(n,Sy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sy(e,t){if(yo=-1,xo=0,ne&6)throw Error(b(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var r=Fo(e,e===Fe?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=tl(e,r);else{t=r;var i=ne;ne|=2;var s=ky();(Fe!==e||Be!==t)&&(ln=null,ri=Te()+500,rr(e,t));do try{RC();break}catch(l){Ey(e,l)}while(!0);Pc(),Qo.current=s,ne=i,Pe!==null?t=0:(Fe=null,Be=0,t=be)}if(t!==0){if(t===2&&(i=tu(e),i!==0&&(r=i,t=Au(e,i))),t===1)throw n=cs,rr(e,0),Tn(e,r),ot(e,Te()),n;if(t===6)Tn(e,r);else{if(i=e.current.alternate,!(r&30)&&!AC(i)&&(t=tl(e,r),t===2&&(s=tu(e),s!==0&&(r=s,t=Au(e,s))),t===1))throw n=cs,rr(e,0),Tn(e,r),ot(e,Te()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:Jn(e,tt,ln);break;case 3:if(Tn(e,r),(r&130023424)===r&&(t=Hc+500-Te(),10<t)){if(Fo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uu(Jn.bind(null,e,tt,ln),t);break}Jn(e,tt,ln);break;case 4:if(Tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Bt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PC(r/1960))-r,10<r){e.timeoutHandle=uu(Jn.bind(null,e,tt,ln),r);break}Jn(e,tt,ln);break;case 5:Jn(e,tt,ln);break;default:throw Error(b(329))}}}return ot(e,Te()),e.callbackNode===n?Sy.bind(null,e):null}function Au(e,t){var n=Ui;return e.current.memoizedState.isDehydrated&&(rr(e,t).flags|=256),e=tl(e,t),e!==2&&(t=tt,tt=n,t!==null&&Nu(t)),e}function Nu(e){tt===null?tt=e:tt.push.apply(tt,e)}function AC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~Vc,t&=~_l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function fh(e){if(ne&6)throw Error(b(327));jr();var t=Fo(e,0);if(!(t&1))return ot(e,Te()),null;var n=tl(e,t);if(e.tag!==0&&n===2){var r=tu(e);r!==0&&(t=r,n=Au(e,r))}if(n===1)throw n=cs,rr(e,0),Tn(e,t),ot(e,Te()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,tt,ln),ot(e,Te()),null}function jc(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(ri=Te()+500,xl&&Vn())}}function ur(e){Pn!==null&&Pn.tag===0&&!(ne&6)&&jr();var t=ne;ne|=1;var n=Pt.transition,r=oe;try{if(Pt.transition=null,oe=1,e)return e()}finally{oe=r,Pt.transition=n,ne=t,!(ne&6)&&Vn()}}function Gc(){pt=Fr.current,ge(Fr)}function rr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sC(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(kc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vo();break;case 3:ti(),ge(it),ge(qe),Lc();break;case 5:bc(r);break;case 4:ti();break;case 13:ge(we);break;case 19:ge(we);break;case 10:Ac(r.type._context);break;case 22:case 23:Gc()}n=n.return}if(Fe=e,Pe=e=Dn(e.current,null),Be=pt=t,be=0,cs=null,Vc=_l=ar=0,tt=Ui=null,er!==null){for(t=0;t<er.length;t++)if(n=er[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}er=null}return e}function Ey(e,t){do{var n=Pe;try{if(Pc(),po.current=Xo,Jo){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jo=!1}if(lr=0,De=Me=ve=null,zi=!1,ls=0,Uc.current=null,n===null||n.return===null){be=1,cs=t,Pe=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Be,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Qd(o);if(m!==null){m.flags&=-257,Zd(m,o,l,s,t),m.mode&1&&Xd(s,u,t),t=m,a=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(a),t.updateQueue=x}else w.add(a);break e}else{if(!(t&1)){Xd(s,u,t),Wc();break e}a=Error(b(426))}}else if(ye&&l.mode&1){var S=Qd(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Zd(S,o,l,s,t),Tc(ni(a,l));break e}}s=a=ni(a,l),be!==4&&(be=2),Ui===null?Ui=[s]:Ui.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=ly(s,a,t);Gd(s,y);break e;case 1:l=a;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ln===null||!Ln.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=ay(s,l,t);Gd(s,T);break e}}s=s.return}while(s!==null)}Iy(n)}catch(P){t=P,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function ky(){var e=Qo.current;return Qo.current=Xo,e===null?Xo:e}function Wc(){(be===0||be===3||be===2)&&(be=4),Fe===null||!(ar&268435455)&&!(_l&268435455)||Tn(Fe,Be)}function tl(e,t){var n=ne;ne|=2;var r=ky();(Fe!==e||Be!==t)&&(ln=null,rr(e,t));do try{NC();break}catch(i){Ey(e,i)}while(!0);if(Pc(),ne=n,Qo.current=r,Pe!==null)throw Error(b(261));return Fe=null,Be=0,be}function NC(){for(;Pe!==null;)Ty(Pe)}function RC(){for(;Pe!==null&&!nv();)Ty(Pe)}function Ty(e){var t=Ay(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Iy(e):Pe=t,Uc.current=null}function Iy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=EC(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,Pe=null;return}}else if(n=SC(n,t,pt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);be===0&&(be=5)}function Jn(e,t,n){var r=oe,i=Pt.transition;try{Pt.transition=null,oe=1,MC(e,t,n,r)}finally{Pt.transition=i,oe=r}return null}function MC(e,t,n,r){do jr();while(Pn!==null);if(ne&6)throw Error(b(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(dv(e,s),e===Fe&&(Pe=Fe=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ws||(Ws=!0,Ny(Do,function(){return jr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=oe;oe=1;var l=ne;ne|=4,Uc.current=null,TC(e,n),Cy(n,e),Qv(lu),$o=!!ou,lu=ou=null,e.current=n,IC(n),rv(),ne=l,oe=o,Pt.transition=s}else e.current=n;if(Ws&&(Ws=!1,Pn=e,el=i),s=e.pendingLanes,s===0&&(Ln=null),ov(n.stateNode),ot(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zo)throw Zo=!1,e=Iu,Iu=null,e;return el&1&&e.tag!==0&&jr(),s=e.pendingLanes,s&1?e===Pu?Vi++:(Vi=0,Pu=e):Vi=0,Vn(),null}function jr(){if(Pn!==null){var e=lg(el),t=Pt.transition,n=oe;try{if(Pt.transition=null,oe=16>e?16:e,Pn===null)var r=!1;else{if(e=Pn,Pn=null,el=0,ne&6)throw Error(b(331));var i=ne;for(ne|=4,z=e.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:Bi(8,c,s)}var f=c.child;if(f!==null)f.return=c,z=f;else for(;z!==null;){c=z;var p=c.sibling,m=c.return;if(xy(c),c===u){z=null;break}if(p!==null){p.return=m,z=p;break}z=m}}}var w=s.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bi(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,z=y;break e}z=s.return}}var g=e.current;for(z=g;z!==null;){o=z;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,z=v;else e:for(o=g;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cl(9,l)}}catch(P){Ee(l,l.return,P)}if(l===o){z=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,z=T;break e}z=l.return}}if(ne=i,Vn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(hl,e)}catch{}r=!0}return r}finally{oe=n,Pt.transition=t}}return!1}function dh(e,t,n){t=ni(n,t),t=ly(e,t,1),e=bn(e,t,1),t=Je(),e!==null&&(gs(e,1,t),ot(e,t))}function Ee(e,t,n){if(e.tag===3)dh(e,e,n);else for(;t!==null;){if(t.tag===3){dh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){e=ni(n,e),e=ay(t,e,1),t=bn(t,e,1),e=Je(),t!==null&&(gs(t,1,e),ot(t,e));break}}t=t.return}}function bC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(Be&n)===n&&(be===4||be===3&&(Be&130023424)===Be&&500>Te()-Hc?rr(e,0):Vc|=n),ot(e,t)}function Py(e,t){t===0&&(e.mode&1?(t=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):t=1);var n=Je();e=pn(e,t),e!==null&&(gs(e,t,n),ot(e,n))}function LC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Py(e,n)}function OC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),Py(e,n)}var Ay;Ay=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,_C(e,t,n);rt=!!(e.flags&131072)}else rt=!1,ye&&t.flags&1048576&&bg(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;go(e,t),e=t.pendingProps;var i=Qr(t,qe.current);Hr(t,n),i=Dc(null,t,r,e,i,n);var s=Fc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(r)?(s=!0,Ho(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rc(t),i.updater=vl,t.stateNode=i,i._reactInternals=t,gu(t,r,e,n),t=wu(null,t,r,!0,s,n)):(t.tag=0,ye&&s&&Ec(t),Ye(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(go(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=FC(r),e=Ot(r,e),i){case 0:t=xu(null,t,r,e,n);break e;case 1:t=nh(null,t,r,e,n);break e;case 11:t=eh(null,t,r,e,n);break e;case 14:t=th(null,t,r,Ot(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),xu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),nh(e,t,r,i,n);case 3:e:{if(dy(t),e===null)throw Error(b(387));r=t.pendingProps,s=t.memoizedState,i=s.element,zg(e,t),Ko(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ni(Error(b(423)),t),t=rh(e,t,r,n,i);break e}else if(r!==i){i=ni(Error(b(424)),t),t=rh(e,t,r,n,i);break e}else for(mt=Mn(t.stateNode.containerInfo.firstChild),yt=t,ye=!0,$t=null,n=Fg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zr(),r===i){t=mn(e,t,n);break e}Ye(e,t,r,n)}t=t.child}return t;case 5:return Bg(t),e===null&&hu(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,au(r,i)?o=null:s!==null&&au(r,s)&&(t.flags|=32),fy(e,t),Ye(e,t,o,n),t.child;case 6:return e===null&&hu(t),null;case 13:return hy(e,t,n);case 4:return Mc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ei(t,null,r,n):Ye(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),eh(e,t,r,i,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,de(Wo,r._currentValue),r._currentValue=o,s!==null)if(Vt(s.value,o)){if(s.children===i.children&&!it.current){t=mn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=fn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),pu(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pu(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ye(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Hr(t,n),i=At(i),r=r(i),t.flags|=1,Ye(e,t,r,n),t.child;case 14:return r=t.type,i=Ot(r,t.pendingProps),i=Ot(r.type,i),th(e,t,r,i,n);case 15:return uy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),go(e,t),t.tag=1,st(r)?(e=!0,Ho(t)):e=!1,Hr(t,n),oy(t,r,i),gu(t,r,i,n),wu(null,t,r,!0,e,n);case 19:return py(e,t,n);case 22:return cy(e,t,n)}throw Error(b(156,t.tag))};function Ny(e,t){return rg(e,t)}function DC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new DC(e,t,n,r)}function qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FC(e){if(typeof e=="function")return qc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dc)return 11;if(e===hc)return 14}return 2}function Dn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")qc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ir:return ir(n.children,i,s,t);case fc:o=8,i|=8;break;case Ba:return e=kt(12,n,t,i|2),e.elementType=Ba,e.lanes=s,e;case Ua:return e=kt(13,n,t,i),e.elementType=Ua,e.lanes=s,e;case Va:return e=kt(19,n,t,i),e.elementType=Va,e.lanes=s,e;case Bm:return Sl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $m:o=10;break e;case zm:o=9;break e;case dc:o=11;break e;case hc:o=14;break e;case Sn:o=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=kt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ir(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function Sl(e,t,n,r){return e=kt(22,e,r,t),e.elementType=Bm,e.lanes=n,e.stateNode={isHidden:!1},e}function ma(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function ga(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $C(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jl(0),this.expirationTimes=Jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,r,i,s,o,l,a){return e=new $C(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=kt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(s),e}function zC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ry(e){if(!e)return zn;e=e._reactInternals;e:{if(dr(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(st(n))return Rg(e,n,t)}return t}function My(e,t,n,r,i,s,o,l,a){return e=Kc(n,r,!0,e,i,s,o,l,a),e.context=Ry(null),n=e.current,r=Je(),i=On(n),s=fn(r,i),s.callback=t??null,bn(n,s,i),e.current.lanes=i,gs(e,i,r),ot(e,r),e}function El(e,t,n,r){var i=t.current,s=Je(),o=On(i);return n=Ry(n),t.context===null?t.context=n:t.pendingContext=n,t=fn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bn(i,t,o),e!==null&&(Ut(e,i,o,s),ho(e,i,o)),o}function nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yc(e,t){hh(e,t),(e=e.alternate)&&hh(e,t)}function BC(){return null}var by=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}kl.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));El(e,t,null,null)};kl.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ur(function(){El(null,e,null,null)}),t[hn]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=cg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&dg(e)}};function Xc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ph(){}function UC(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=nl(o);s.call(u)}}var o=My(t,r,e,0,null,!1,!1,"",ph);return e._reactRootContainer=o,e[hn]=o.current,ns(e.nodeType===8?e.parentNode:e),ur(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=nl(a);l.call(u)}}var a=Kc(e,0,!1,null,null,!1,!1,"",ph);return e._reactRootContainer=a,e[hn]=a.current,ns(e.nodeType===8?e.parentNode:e),ur(function(){El(t,a,n,r)}),a}function Il(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=nl(o);l.call(a)}}El(t,o,e,i)}else o=UC(n,t,e,i,r);return nl(o)}ag=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ti(t.pendingLanes);n!==0&&(gc(t,n|1),ot(t,Te()),!(ne&6)&&(ri=Te()+500,Vn()))}break;case 13:ur(function(){var r=pn(e,1);if(r!==null){var i=Je();Ut(r,e,1,i)}}),Yc(e,1)}};yc=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var n=Je();Ut(t,e,134217728,n)}Yc(e,134217728)}};ug=function(e){if(e.tag===13){var t=On(e),n=pn(e,t);if(n!==null){var r=Je();Ut(n,e,t,r)}Yc(e,t)}};cg=function(){return oe};fg=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};Qa=function(e,t,n){switch(t){case"input":if(Ga(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yl(r);if(!i)throw Error(b(90));Vm(r),Ga(r,i)}}}break;case"textarea":jm(e,n);break;case"select":t=n.value,t!=null&&zr(e,!!n.multiple,t,!1)}};Xm=jc;Qm=ur;var VC={usingClientEntryPoint:!1,Events:[xs,Rr,yl,Ym,Jm,jc]},Ci={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HC={bundleType:Ci.bundleType,version:Ci.version,rendererPackageName:Ci.rendererPackageName,rendererConfig:Ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tg(e),e===null?null:e.stateNode},findFiberByHostInstance:Ci.findFiberByHostInstance||BC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{hl=qs.inject(HC),Zt=qs}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VC;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xc(t))throw Error(b(200));return zC(e,t,null,n)};vt.createRoot=function(e,t){if(!Xc(e))throw Error(b(299));var n=!1,r="",i=by;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Kc(e,1,!1,null,null,n,!1,r,i),e[hn]=t.current,ns(e.nodeType===8?e.parentNode:e),new Jc(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=tg(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return ur(e)};vt.hydrate=function(e,t,n){if(!Tl(t))throw Error(b(200));return Il(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=by;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=My(t,null,e,1,n??null,i,!1,s,o),e[hn]=t.current,ns(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new kl(t)};vt.render=function(e,t,n){if(!Tl(t))throw Error(b(200));return Il(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!Tl(e))throw Error(b(40));return e._reactRootContainer?(ur(function(){Il(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};vt.unstable_batchedUpdates=jc;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tl(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return Il(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function Ly(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ly)}catch(e){console.error(e)}}Ly(),Lm.exports=vt;var Oy=Lm.exports,mh=Oy;$a.createRoot=mh.createRoot,$a.hydrateRoot=mh.hydrateRoot;const jC={id:"default",themeName:"Clean Paper",layoutType:"card",pageBackground:"bg-slate-100",containerBackground:"bg-white",containerShadow:"shadow-lg",containerMaxWidth:"max-w-4xl",containerPadding:"p-8 md:p-16",containerBorderRadius:"rounded-none",fontFamily:"font-sans",baseFontSize:"text-base",lineHeight:"leading-7",textColor:"text-slate-700",titleSize:"text-4xl md:text-5xl",heading1:"font-bold text-slate-900 mb-8 tracking-tight",heading2:"text-2xl font-semibold text-slate-800 mt-10 mb-4 border-l-4 border-indigo-500 pl-4",paragraph:"mb-6",blockquote:"italic text-slate-600 border-l-4 border-slate-300 pl-4 py-2 my-8 bg-slate-50",highlightColor:"#6366f1",dividerStyle:"my-12 border-slate-200"};/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qc{}function se(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function h(e,t,n){for(let s=0;s<t.length-1;s++){const o=t[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in e))if(Array.isArray(n))e[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(e[l])){const a=e[l];if(Array.isArray(n))for(let u=0;u<a.length;u++){const c=a[u];h(c,t.slice(s+1),n[u])}else for(const u of a)h(u,t.slice(s+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in e||(e[l]=[{}]);const a=e[l];h(a[0],t.slice(s+1),n);return}(!e[o]||typeof e[o]!="object")&&(e[o]={}),e=e[o]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function d(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const s=e[i];return Array.isArray(s)?s.map(o=>d(o,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Dy(e,t){const n=wt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function gh(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function fs(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>gh(e,n)):[gh(e,t)]}function Fy(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function GC(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Zc(e){return!(e==null||GC(e))}function $y(e){return e==null||Array.isArray(e)&&e.length===0?!1:e.every(Zc)}function Tt(e,t){if(t==null)throw new Error("ContentUnion is required");return Fy(t)?t:Zc(t)?{role:"user",parts:fs(e,t)}:{role:"model",parts:fs(e,t)}}function zy(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Tt(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Tt(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Tt(e,n)):[Tt(e,t)]}function vo(e,t,n){n.length!==0&&($y(n)?t.push({role:"user",parts:fs(e,n)}):t.push({role:"model",parts:fs(e,n)}),n.length=0)}function WC(e,t,n,r){Zc(r)===$y(n)||(vo(e,t,n),n.length=0),n.push(r)}function ke(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t))return[Tt(e,t)];const n=[],r=[];for(const i of t)if(Fy(i))vo(e,n,r),n.push(i);else if(typeof i=="string"||typeof i=="object"&&!Array.isArray(i))WC(e,n,r,i);else if(Array.isArray(i))vo(e,n,r),n.push({role:"user",parts:fs(e,i)});else throw new Error(`Unsupported content type: ${typeof i}`);return vo(e,n,r),n}function By(e,t){if(!e.isVertexAI()&&("title"in t&&delete t.title,"default"in t))throw new Error("Default value is not supported in the response schema for the Gemini API.");if("anyOf"in t){if(!e.isVertexAI())throw new Error("AnyOf is not supported in the response schema for the Gemini API.");if(t.anyOf!==void 0)for(const n of t.anyOf)By(e,n)}}function Uy(e,t){return By(e,t),t}function Vy(e,t){if(typeof t=="object"&&"voiceConfig"in t)return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Hy(e,t){return t}function Gr(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function qC(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Hn(e,t){if(typeof t!="string")throw new Error("name must be a string");return qC(e,t,"cachedContents")}function jy(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function KC(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rl;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(rl||(rl={}));class Gy{constructor(t,n,r,i){this.pageInternal=[],this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};r?typeof r=="object"?o=Object.assign({},r):o=r:o={config:{}},o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yh;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yh||(yh={}));var xh;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(xh||(xh={}));var ce;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(ce||(ce={}));var wh;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(wh||(wh={}));var vh;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(vh||(vh={}));var Ch;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Ch||(Ch={}));var _h;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(_h||(_h={}));var Sh;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL"})(Sh||(Sh={}));var Eh;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Eh||(Eh={}));var kh;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(kh||(kh={}));var Th;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Th||(Th={}));var Ih;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.ACTIVE="ACTIVE",e.ERROR="ERROR"})(Ih||(Ih={}));var Ph;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ph||(Ph={}));var Ah;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Ah||(Ah={}));var Nh;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Nh||(Nh={}));var Rh;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Rh||(Rh={}));var Mh;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Mh||(Mh={}));var bh;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(bh||(bh={}));var Lh;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Lh||(Lh={}));var Oh;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Oh||(Oh={}));var Dh;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Dh||(Dh={}));var Fh;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fh||(Fh={}));var $h;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($h||($h={}));var zh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(zh||(zh={}));class Ks{get text(){var t,n,r,i,s,o,l,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const p of(a=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[m,w]of Object.entries(p))m!=="text"&&m!=="thought"&&(w!==null||w!==void 0)&&f.push(m);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,u+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get functionCalls(){var t,n,r,i,s,o,l,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(a=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,i,s,o,l,a,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(a=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,i,s,o,l,a,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(a=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Bh{}class Uh{}class Vh{}class Hh{}class jh{}class Gh{}class Wh{}class Wy{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class qh{}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YC extends Qc{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Gy(rl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=g1(this.apiClient,t);return s=se("cachedContents",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>_o(this.apiClient,a))}else{const l=m1(this.apiClient,t);return s=se("cachedContents",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>Co(this.apiClient,a))}}async get(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=x1(this.apiClient,t);return s=se("{name}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>_o(this.apiClient,a))}else{const l=y1(this.apiClient,t);return s=se("{name}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>Co(this.apiClient,a))}}async delete(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=v1(this.apiClient,t);return s=se("{name}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=N1(this.apiClient),c=new jh;return Object.assign(c,u),c})}else{const l=w1(this.apiClient,t);return s=se("{name}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=A1(this.apiClient),c=new jh;return Object.assign(c,u),c})}}async update(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=E1(this.apiClient,t);return s=se("{name}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>_o(this.apiClient,a))}else{const l=S1(this.apiClient,t);return s=se("{name}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>Co(this.apiClient,a))}}async listInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=P1(this.apiClient,t);return s=se("cachedContents",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=M1(this.apiClient,a),c=new Gh;return Object.assign(c,u),c})}else{const l=I1(this.apiClient,t);return s=se("cachedContents",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=R1(this.apiClient,a),c=new Gh;return Object.assign(c,u),c})}}}function JC(e,t){const n={};if(d(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=d(t,["thought"]);r!=null&&h(n,["thought"],r);const i=d(t,["codeExecutionResult"]);i!=null&&h(n,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&h(n,["executableCode"],s);const o=d(t,["fileData"]);o!=null&&h(n,["fileData"],o);const l=d(t,["functionCall"]);l!=null&&h(n,["functionCall"],l);const a=d(t,["functionResponse"]);a!=null&&h(n,["functionResponse"],a);const u=d(t,["inlineData"]);u!=null&&h(n,["inlineData"],u);const c=d(t,["text"]);return c!=null&&h(n,["text"],c),n}function XC(e,t){const n={},r=d(t,["videoMetadata"]);r!=null&&h(n,["videoMetadata"],r);const i=d(t,["thought"]);i!=null&&h(n,["thought"],i);const s=d(t,["codeExecutionResult"]);s!=null&&h(n,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&h(n,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(n,["fileData"],l);const a=d(t,["functionCall"]);a!=null&&h(n,["functionCall"],a);const u=d(t,["functionResponse"]);u!=null&&h(n,["functionResponse"],u);const c=d(t,["inlineData"]);c!=null&&h(n,["inlineData"],c);const f=d(t,["text"]);return f!=null&&h(n,["text"],f),n}function Kh(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(s=>JC(e,s))):h(n,["parts"],r));const i=d(t,["role"]);return i!=null&&h(n,["role"],i),n}function Yh(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(s=>XC(e,s))):h(n,["parts"],r));const i=d(t,["role"]);return i!=null&&h(n,["role"],i),n}function QC(e,t){const n={},r=d(t,["example"]);r!=null&&h(n,["example"],r);const i=d(t,["pattern"]);i!=null&&h(n,["pattern"],i);const s=d(t,["minimum"]);s!=null&&h(n,["minimum"],s);const o=d(t,["default"]);o!=null&&h(n,["default"],o);const l=d(t,["anyOf"]);l!=null&&h(n,["anyOf"],l);const a=d(t,["maxLength"]);a!=null&&h(n,["maxLength"],a);const u=d(t,["title"]);u!=null&&h(n,["title"],u);const c=d(t,["minLength"]);c!=null&&h(n,["minLength"],c);const f=d(t,["minProperties"]);f!=null&&h(n,["minProperties"],f);const p=d(t,["maximum"]);p!=null&&h(n,["maximum"],p);const m=d(t,["maxProperties"]);m!=null&&h(n,["maxProperties"],m);const w=d(t,["description"]);w!=null&&h(n,["description"],w);const x=d(t,["enum"]);x!=null&&h(n,["enum"],x);const S=d(t,["format"]);S!=null&&h(n,["format"],S);const y=d(t,["items"]);y!=null&&h(n,["items"],y);const g=d(t,["maxItems"]);g!=null&&h(n,["maxItems"],g);const v=d(t,["minItems"]);v!=null&&h(n,["minItems"],v);const T=d(t,["nullable"]);T!=null&&h(n,["nullable"],T);const P=d(t,["properties"]);P!=null&&h(n,["properties"],P);const k=d(t,["propertyOrdering"]);k!=null&&h(n,["propertyOrdering"],k);const I=d(t,["required"]);I!=null&&h(n,["required"],I);const N=d(t,["type"]);return N!=null&&h(n,["type"],N),n}function ZC(e,t){const n={};if(d(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=d(t,["description"]);r!=null&&h(n,["description"],r);const i=d(t,["name"]);i!=null&&h(n,["name"],i);const s=d(t,["parameters"]);return s!=null&&h(n,["parameters"],s),n}function e1(e,t){const n={},r=d(t,["response"]);r!=null&&h(n,["response"],QC(e,r));const i=d(t,["description"]);i!=null&&h(n,["description"],i);const s=d(t,["name"]);s!=null&&h(n,["name"],s);const o=d(t,["parameters"]);return o!=null&&h(n,["parameters"],o),n}function t1(e,t){return{}}function n1(e,t){return{}}function r1(e,t){const n={},r=d(t,["mode"]);r!=null&&h(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function i1(e,t){const n={},r=d(t,["mode"]);r!=null&&h(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function s1(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],r1(e,r)),n}function o1(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],i1(e,r)),n}function l1(e,t){const n={},r=d(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(l=>ZC(e,l))):h(n,["functionDeclarations"],r)),d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(t,["googleSearch"])!=null&&h(n,["googleSearch"],t1());const s=d(t,["googleSearchRetrieval"]);s!=null&&h(n,["googleSearchRetrieval"],s1(e,s));const o=d(t,["codeExecution"]);return o!=null&&h(n,["codeExecution"],o),n}function a1(e,t){const n={},r=d(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(a=>e1(e,a))):h(n,["functionDeclarations"],r));const i=d(t,["retrieval"]);i!=null&&h(n,["retrieval"],i),d(t,["googleSearch"])!=null&&h(n,["googleSearch"],n1());const o=d(t,["googleSearchRetrieval"]);o!=null&&h(n,["googleSearchRetrieval"],o1(e,o));const l=d(t,["codeExecution"]);return l!=null&&h(n,["codeExecution"],l),n}function u1(e,t){const n={},r=d(t,["mode"]);r!=null&&h(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function c1(e,t){const n={},r=d(t,["mode"]);r!=null&&h(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function f1(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],u1(e,r)),n}function d1(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],c1(e,r)),n}function h1(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const s=d(t,["expireTime"]);n!==void 0&&s!=null&&h(n,["expireTime"],s);const o=d(t,["displayName"]);n!==void 0&&o!=null&&h(n,["displayName"],o);const l=d(t,["contents"]);n!==void 0&&l!=null&&(Array.isArray(l)?h(n,["contents"],ke(e,ke(e,l).map(f=>Kh(e,f)))):h(n,["contents"],ke(e,l)));const a=d(t,["systemInstruction"]);n!==void 0&&a!=null&&h(n,["systemInstruction"],Kh(e,Tt(e,a)));const u=d(t,["tools"]);n!==void 0&&u!=null&&(Array.isArray(u)?h(n,["tools"],u.map(f=>l1(e,f))):h(n,["tools"],u));const c=d(t,["toolConfig"]);return n!==void 0&&c!=null&&h(n,["toolConfig"],f1(e,c)),r}function p1(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const s=d(t,["expireTime"]);n!==void 0&&s!=null&&h(n,["expireTime"],s);const o=d(t,["displayName"]);n!==void 0&&o!=null&&h(n,["displayName"],o);const l=d(t,["contents"]);n!==void 0&&l!=null&&(Array.isArray(l)?h(n,["contents"],ke(e,ke(e,l).map(f=>Yh(e,f)))):h(n,["contents"],ke(e,l)));const a=d(t,["systemInstruction"]);n!==void 0&&a!=null&&h(n,["systemInstruction"],Yh(e,Tt(e,a)));const u=d(t,["tools"]);n!==void 0&&u!=null&&(Array.isArray(u)?h(n,["tools"],u.map(f=>a1(e,f))):h(n,["tools"],u));const c=d(t,["toolConfig"]);return n!==void 0&&c!=null&&h(n,["toolConfig"],d1(e,c)),r}function m1(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["model"],Dy(e,r));const i=d(t,["config"]);return i!=null&&h(n,["config"],h1(e,i,n)),n}function g1(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["model"],Dy(e,r));const i=d(t,["config"]);return i!=null&&h(n,["config"],p1(e,i,n)),n}function y1(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["_url","name"],Hn(e,r));const i=d(t,["config"]);return i!=null&&h(n,["config"],i),n}function x1(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["_url","name"],Hn(e,r));const i=d(t,["config"]);return i!=null&&h(n,["config"],i),n}function w1(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["_url","name"],Hn(e,r));const i=d(t,["config"]);return i!=null&&h(n,["config"],i),n}function v1(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["_url","name"],Hn(e,r));const i=d(t,["config"]);return i!=null&&h(n,["config"],i),n}function C1(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const s=d(t,["expireTime"]);return n!==void 0&&s!=null&&h(n,["expireTime"],s),r}function _1(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const s=d(t,["expireTime"]);return n!==void 0&&s!=null&&h(n,["expireTime"],s),r}function S1(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["_url","name"],Hn(e,r));const i=d(t,["config"]);return i!=null&&h(n,["config"],C1(e,i,n)),n}function E1(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["_url","name"],Hn(e,r));const i=d(t,["config"]);return i!=null&&h(n,["config"],_1(e,i,n)),n}function k1(e,t,n){const r={},i=d(t,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const s=d(t,["pageToken"]);return n!==void 0&&s!=null&&h(n,["_query","pageToken"],s),r}function T1(e,t,n){const r={},i=d(t,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const s=d(t,["pageToken"]);return n!==void 0&&s!=null&&h(n,["_query","pageToken"],s),r}function I1(e,t){const n={},r=d(t,["config"]);return r!=null&&h(n,["config"],k1(e,r,n)),n}function P1(e,t){const n={},r=d(t,["config"]);return r!=null&&h(n,["config"],T1(e,r,n)),n}function Co(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["name"],r);const i=d(t,["displayName"]);i!=null&&h(n,["displayName"],i);const s=d(t,["model"]);s!=null&&h(n,["model"],s);const o=d(t,["createTime"]);o!=null&&h(n,["createTime"],o);const l=d(t,["updateTime"]);l!=null&&h(n,["updateTime"],l);const a=d(t,["expireTime"]);a!=null&&h(n,["expireTime"],a);const u=d(t,["usageMetadata"]);return u!=null&&h(n,["usageMetadata"],u),n}function _o(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["name"],r);const i=d(t,["displayName"]);i!=null&&h(n,["displayName"],i);const s=d(t,["model"]);s!=null&&h(n,["model"],s);const o=d(t,["createTime"]);o!=null&&h(n,["createTime"],o);const l=d(t,["updateTime"]);l!=null&&h(n,["updateTime"],l);const a=d(t,["expireTime"]);a!=null&&h(n,["expireTime"],a);const u=d(t,["usageMetadata"]);return u!=null&&h(n,["usageMetadata"],u),n}function A1(e,t){return{}}function N1(e,t){return{}}function R1(e,t){const n={},r=d(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const i=d(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?h(n,["cachedContents"],i.map(s=>Co(e,s))):h(n,["cachedContents"],i)),n}function M1(e,t){const n={},r=d(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const i=d(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?h(n,["cachedContents"],i.map(s=>_o(e,s))):h(n,["cachedContents"],i)),n}function Jh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nt(e){return this instanceof nt?(this.v=e,this):new nt(e)}function il(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(w){return Promise.resolve(w).then(m,f)}}function l(m,w){r[m]&&(i[m]=function(x){return new Promise(function(S,y){s.push([m,x,S,y])>1||a(m,x)})},w&&(i[m]=w(i[m])))}function a(m,w){try{u(r[m](w))}catch(x){p(s[0][3],x)}}function u(m){m.value instanceof nt?Promise.resolve(m.value.v).then(c,f):p(s[0][2],m)}function c(m){a("next",m)}function f(m){a("throw",m)}function p(m,w){m(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ru(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Jh=="function"?Jh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(l,a){o=e[s](o),i(l,a,o.done,o.value)})}}function i(s,o,l,a){Promise.resolve(a).then(function(u){s({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b1(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:qy(n)}function qy(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function L1(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function O1(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,i=e[0];for(;r<n;)if(e[r].role==="user")i=e[r],r++;else{const s=[];let o=!0;for(;r<n&&e[r].role==="model";)s.push(e[r]),o&&!qy(e[r])&&(o=!1),r++;o&&(t.push(i),t.push(...s))}return t}class D1{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new F1(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}let F1=class{constructor(t,n,r,i={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),L1(s)}async sendMessage(t){var n;await this.sendPromise;const r=Tt(this.apiClient,t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o;const a=(o=(s=(await i).candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,u=a?[a]:[];this.recordHistory(r,u)})(),await this.sendPromise,i}async sendMessageStream(t){var n;await this.sendPromise;const r=Tt(this.apiClient,t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(t=!1){return t?O1(this.history):this.history}processStreamResponse(t,n){var r,i;return il(this,arguments,function*(){var o,l,a,u;const c=[];try{for(var f=!0,p=Ru(t),m;m=yield nt(p.next()),o=m.done,!o;f=!0){u=m.value,f=!1;const w=u;if(b1(w)){const x=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;x!==void 0&&c.push(x)}yield yield nt(w)}}catch(w){l={error:w}}finally{try{!f&&!o&&(a=p.return)&&(yield nt(a.call(p)))}finally{if(l)throw l.error}}this.recordHistory(n,c)})}recordHistory(t,n){let r=[];n.length>0&&n.every(i=>i.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}};/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $1=class extends Qc{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n)}async generateContentInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Qh(this.apiClient,t);return s=se("{model}:generateContent",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=ep(this.apiClient,a),c=new Ks;return Object.assign(c,u),c})}else{const l=Xh(this.apiClient,t);return s=se("{model}:generateContent",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=Zh(this.apiClient,a),c=new Ks;return Object.assign(c,u),c})}}async generateContentStreamInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Qh(this.apiClient,t);s=se("{model}:streamGenerateContent?alt=sse",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const a=this.apiClient;return i=a.requestStream({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}),i.then(function(u){return il(this,arguments,function*(){var c,f,p,m;try{for(var w=!0,x=Ru(u),S;S=yield nt(x.next()),c=S.done,!c;w=!0){m=S.value,w=!1;const g=ep(a,m),v=new Ks;Object.assign(v,g),yield yield nt(v)}}catch(y){f={error:y}}finally{try{!w&&!c&&(p=x.return)&&(yield nt(p.call(x)))}finally{if(f)throw f.error}}})})}else{const l=Xh(this.apiClient,t);s=se("{model}:streamGenerateContent?alt=sse",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const a=this.apiClient;return i=a.requestStream({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}),i.then(function(u){return il(this,arguments,function*(){var c,f,p,m;try{for(var w=!0,x=Ru(u),S;S=yield nt(x.next()),c=S.done,!c;w=!0){m=S.value,w=!1;const g=Zh(a,m),v=new Ks;Object.assign(v,g),yield yield nt(v)}}catch(y){f={error:y}}finally{try{!w&&!c&&(p=x.return)&&(yield nt(p.call(x)))}finally{if(f)throw f.error}}})})}}async embedContent(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=m_(this.apiClient,t);return s=se("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=$_(this.apiClient,a),c=new Bh;return Object.assign(c,u),c})}else{const l=p_(this.apiClient,t);return s=se("{model}:batchEmbedContents",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=F_(this.apiClient,a),c=new Bh;return Object.assign(c,u),c})}}async generateImages(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=w_(this.apiClient,t);return s=se("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=j_(this.apiClient,a),c=new Uh;return Object.assign(c,u),c})}else{const l=x_(this.apiClient,t);return s=se("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=H_(this.apiClient,a),c=new Uh;return Object.assign(c,u),c})}}async countTokens(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=S_(this.apiClient,t);return s=se("{model}:countTokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=W_(this.apiClient,a),c=new Vh;return Object.assign(c,u),c})}else{const l=__(this.apiClient,t);return s=se("{model}:countTokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=G_(this.apiClient,a),c=new Vh;return Object.assign(c,u),c})}}async computeTokens(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=k_(this.apiClient,t);return s=se("{model}:computeTokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=K_(this.apiClient,a),c=new Hh;return Object.assign(c,u),c})}else{const l=E_(this.apiClient,t);return s=se("None",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=q_(this.apiClient,a),c=new Hh;return Object.assign(c,u),c})}}};function z1(e,t){const n={};if(d(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=d(t,["thought"]);r!=null&&h(n,["thought"],r);const i=d(t,["codeExecutionResult"]);i!=null&&h(n,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&h(n,["executableCode"],s);const o=d(t,["fileData"]);o!=null&&h(n,["fileData"],o);const l=d(t,["functionCall"]);l!=null&&h(n,["functionCall"],l);const a=d(t,["functionResponse"]);a!=null&&h(n,["functionResponse"],a);const u=d(t,["inlineData"]);u!=null&&h(n,["inlineData"],u);const c=d(t,["text"]);return c!=null&&h(n,["text"],c),n}function B1(e,t){const n={},r=d(t,["videoMetadata"]);r!=null&&h(n,["videoMetadata"],r);const i=d(t,["thought"]);i!=null&&h(n,["thought"],i);const s=d(t,["codeExecutionResult"]);s!=null&&h(n,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&h(n,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(n,["fileData"],l);const a=d(t,["functionCall"]);a!=null&&h(n,["functionCall"],a);const u=d(t,["functionResponse"]);u!=null&&h(n,["functionResponse"],u);const c=d(t,["inlineData"]);c!=null&&h(n,["inlineData"],c);const f=d(t,["text"]);return f!=null&&h(n,["text"],f),n}function vs(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(s=>z1(e,s))):h(n,["parts"],r));const i=d(t,["role"]);return i!=null&&h(n,["role"],i),n}function hr(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(s=>B1(e,s))):h(n,["parts"],r));const i=d(t,["role"]);return i!=null&&h(n,["role"],i),n}function U1(e,t){const n={};if(d(t,["example"])!==void 0)throw new Error("example parameter is not supported in Gemini API.");if(d(t,["pattern"])!==void 0)throw new Error("pattern parameter is not supported in Gemini API.");if(d(t,["minimum"])!==void 0)throw new Error("minimum parameter is not supported in Gemini API.");if(d(t,["default"])!==void 0)throw new Error("default parameter is not supported in Gemini API.");if(d(t,["anyOf"])!==void 0)throw new Error("anyOf parameter is not supported in Gemini API.");if(d(t,["maxLength"])!==void 0)throw new Error("maxLength parameter is not supported in Gemini API.");if(d(t,["title"])!==void 0)throw new Error("title parameter is not supported in Gemini API.");if(d(t,["minLength"])!==void 0)throw new Error("minLength parameter is not supported in Gemini API.");if(d(t,["minProperties"])!==void 0)throw new Error("minProperties parameter is not supported in Gemini API.");if(d(t,["maximum"])!==void 0)throw new Error("maximum parameter is not supported in Gemini API.");if(d(t,["maxProperties"])!==void 0)throw new Error("maxProperties parameter is not supported in Gemini API.");const r=d(t,["description"]);r!=null&&h(n,["description"],r);const i=d(t,["enum"]);i!=null&&h(n,["enum"],i);const s=d(t,["format"]);s!=null&&h(n,["format"],s);const o=d(t,["items"]);o!=null&&h(n,["items"],o);const l=d(t,["maxItems"]);l!=null&&h(n,["maxItems"],l);const a=d(t,["minItems"]);a!=null&&h(n,["minItems"],a);const u=d(t,["nullable"]);u!=null&&h(n,["nullable"],u);const c=d(t,["properties"]);c!=null&&h(n,["properties"],c);const f=d(t,["propertyOrdering"]);f!=null&&h(n,["propertyOrdering"],f);const p=d(t,["required"]);p!=null&&h(n,["required"],p);const m=d(t,["type"]);return m!=null&&h(n,["type"],m),n}function Ky(e,t){const n={},r=d(t,["example"]);r!=null&&h(n,["example"],r);const i=d(t,["pattern"]);i!=null&&h(n,["pattern"],i);const s=d(t,["minimum"]);s!=null&&h(n,["minimum"],s);const o=d(t,["default"]);o!=null&&h(n,["default"],o);const l=d(t,["anyOf"]);l!=null&&h(n,["anyOf"],l);const a=d(t,["maxLength"]);a!=null&&h(n,["maxLength"],a);const u=d(t,["title"]);u!=null&&h(n,["title"],u);const c=d(t,["minLength"]);c!=null&&h(n,["minLength"],c);const f=d(t,["minProperties"]);f!=null&&h(n,["minProperties"],f);const p=d(t,["maximum"]);p!=null&&h(n,["maximum"],p);const m=d(t,["maxProperties"]);m!=null&&h(n,["maxProperties"],m);const w=d(t,["description"]);w!=null&&h(n,["description"],w);const x=d(t,["enum"]);x!=null&&h(n,["enum"],x);const S=d(t,["format"]);S!=null&&h(n,["format"],S);const y=d(t,["items"]);y!=null&&h(n,["items"],y);const g=d(t,["maxItems"]);g!=null&&h(n,["maxItems"],g);const v=d(t,["minItems"]);v!=null&&h(n,["minItems"],v);const T=d(t,["nullable"]);T!=null&&h(n,["nullable"],T);const P=d(t,["properties"]);P!=null&&h(n,["properties"],P);const k=d(t,["propertyOrdering"]);k!=null&&h(n,["propertyOrdering"],k);const I=d(t,["required"]);I!=null&&h(n,["required"],I);const N=d(t,["type"]);return N!=null&&h(n,["type"],N),n}function V1(e,t){const n={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["category"]);r!=null&&h(n,["category"],r);const i=d(t,["threshold"]);return i!=null&&h(n,["threshold"],i),n}function H1(e,t){const n={},r=d(t,["method"]);r!=null&&h(n,["method"],r);const i=d(t,["category"]);i!=null&&h(n,["category"],i);const s=d(t,["threshold"]);return s!=null&&h(n,["threshold"],s),n}function j1(e,t){const n={};if(d(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=d(t,["description"]);r!=null&&h(n,["description"],r);const i=d(t,["name"]);i!=null&&h(n,["name"],i);const s=d(t,["parameters"]);return s!=null&&h(n,["parameters"],s),n}function G1(e,t){const n={},r=d(t,["response"]);r!=null&&h(n,["response"],Ky(e,r));const i=d(t,["description"]);i!=null&&h(n,["description"],i);const s=d(t,["name"]);s!=null&&h(n,["name"],s);const o=d(t,["parameters"]);return o!=null&&h(n,["parameters"],o),n}function W1(e,t){return{}}function q1(e,t){return{}}function K1(e,t){const n={},r=d(t,["mode"]);r!=null&&h(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function Y1(e,t){const n={},r=d(t,["mode"]);r!=null&&h(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function J1(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],K1(e,r)),n}function X1(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],Y1(e,r)),n}function Yy(e,t){const n={},r=d(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(l=>j1(e,l))):h(n,["functionDeclarations"],r)),d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(t,["googleSearch"])!=null&&h(n,["googleSearch"],W1());const s=d(t,["googleSearchRetrieval"]);s!=null&&h(n,["googleSearchRetrieval"],J1(e,s));const o=d(t,["codeExecution"]);return o!=null&&h(n,["codeExecution"],o),n}function ef(e,t){const n={},r=d(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(a=>G1(e,a))):h(n,["functionDeclarations"],r));const i=d(t,["retrieval"]);i!=null&&h(n,["retrieval"],i),d(t,["googleSearch"])!=null&&h(n,["googleSearch"],q1());const o=d(t,["googleSearchRetrieval"]);o!=null&&h(n,["googleSearchRetrieval"],X1(e,o));const l=d(t,["codeExecution"]);return l!=null&&h(n,["codeExecution"],l),n}function Q1(e,t){const n={},r=d(t,["mode"]);r!=null&&h(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function Z1(e,t){const n={},r=d(t,["mode"]);r!=null&&h(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function e_(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],Q1(e,r)),n}function t_(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],Z1(e,r)),n}function n_(e,t){const n={},r=d(t,["voiceName"]);return r!=null&&h(n,["voiceName"],r),n}function r_(e,t){const n={},r=d(t,["voiceName"]);return r!=null&&h(n,["voiceName"],r),n}function i_(e,t){const n={},r=d(t,["prebuiltVoiceConfig"]);return r!=null&&h(n,["prebuiltVoiceConfig"],n_(e,r)),n}function s_(e,t){const n={},r=d(t,["prebuiltVoiceConfig"]);return r!=null&&h(n,["prebuiltVoiceConfig"],r_(e,r)),n}function o_(e,t){const n={},r=d(t,["voiceConfig"]);return r!=null&&h(n,["voiceConfig"],i_(e,r)),n}function l_(e,t){const n={},r=d(t,["voiceConfig"]);return r!=null&&h(n,["voiceConfig"],s_(e,r)),n}function a_(e,t){const n={},r=d(t,["includeThoughts"]);return r!=null&&h(n,["includeThoughts"],r),n}function u_(e,t){const n={},r=d(t,["includeThoughts"]);return r!=null&&h(n,["includeThoughts"],r),n}function c_(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],vs(e,Tt(e,i)));const s=d(t,["temperature"]);s!=null&&h(r,["temperature"],s);const o=d(t,["topP"]);o!=null&&h(r,["topP"],o);const l=d(t,["topK"]);l!=null&&h(r,["topK"],l);const a=d(t,["candidateCount"]);a!=null&&h(r,["candidateCount"],a);const u=d(t,["maxOutputTokens"]);u!=null&&h(r,["maxOutputTokens"],u);const c=d(t,["stopSequences"]);c!=null&&h(r,["stopSequences"],c);const f=d(t,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const p=d(t,["logprobs"]);p!=null&&h(r,["logprobs"],p);const m=d(t,["presencePenalty"]);m!=null&&h(r,["presencePenalty"],m);const w=d(t,["frequencyPenalty"]);w!=null&&h(r,["frequencyPenalty"],w);const x=d(t,["seed"]);x!=null&&h(r,["seed"],x);const S=d(t,["responseMimeType"]);S!=null&&h(r,["responseMimeType"],S);const y=d(t,["responseSchema"]);if(y!=null&&h(r,["responseSchema"],U1(e,Uy(e,y))),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");const g=d(t,["safetySettings"]);n!==void 0&&g!=null&&(Array.isArray(g)?h(n,["safetySettings"],g.map(R=>V1(e,R))):h(n,["safetySettings"],g));const v=d(t,["tools"]);n!==void 0&&v!=null&&(Array.isArray(v)?h(n,["tools"],Gr(e,Gr(e,v).map(R=>Yy(e,Hy(e,R))))):h(n,["tools"],Gr(e,v)));const T=d(t,["toolConfig"]);if(n!==void 0&&T!=null&&h(n,["toolConfig"],e_(e,T)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=d(t,["cachedContent"]);n!==void 0&&P!=null&&h(n,["cachedContent"],Hn(e,P));const k=d(t,["responseModalities"]);k!=null&&h(r,["responseModalities"],k);const I=d(t,["mediaResolution"]);I!=null&&h(r,["mediaResolution"],I);const N=d(t,["speechConfig"]);if(N!=null&&h(r,["speechConfig"],o_(e,Vy(e,N))),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=d(t,["thinkingConfig"]);return D!=null&&h(r,["thinkingConfig"],a_(e,D)),r}function f_(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],hr(e,Tt(e,i)));const s=d(t,["temperature"]);s!=null&&h(r,["temperature"],s);const o=d(t,["topP"]);o!=null&&h(r,["topP"],o);const l=d(t,["topK"]);l!=null&&h(r,["topK"],l);const a=d(t,["candidateCount"]);a!=null&&h(r,["candidateCount"],a);const u=d(t,["maxOutputTokens"]);u!=null&&h(r,["maxOutputTokens"],u);const c=d(t,["stopSequences"]);c!=null&&h(r,["stopSequences"],c);const f=d(t,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const p=d(t,["logprobs"]);p!=null&&h(r,["logprobs"],p);const m=d(t,["presencePenalty"]);m!=null&&h(r,["presencePenalty"],m);const w=d(t,["frequencyPenalty"]);w!=null&&h(r,["frequencyPenalty"],w);const x=d(t,["seed"]);x!=null&&h(r,["seed"],x);const S=d(t,["responseMimeType"]);S!=null&&h(r,["responseMimeType"],S);const y=d(t,["responseSchema"]);y!=null&&h(r,["responseSchema"],Ky(e,Uy(e,y)));const g=d(t,["routingConfig"]);g!=null&&h(r,["routingConfig"],g);const v=d(t,["safetySettings"]);n!==void 0&&v!=null&&(Array.isArray(v)?h(n,["safetySettings"],v.map(H=>H1(e,H))):h(n,["safetySettings"],v));const T=d(t,["tools"]);n!==void 0&&T!=null&&(Array.isArray(T)?h(n,["tools"],Gr(e,Gr(e,T).map(H=>ef(e,Hy(e,H))))):h(n,["tools"],Gr(e,T)));const P=d(t,["toolConfig"]);n!==void 0&&P!=null&&h(n,["toolConfig"],t_(e,P));const k=d(t,["labels"]);n!==void 0&&k!=null&&h(n,["labels"],k);const I=d(t,["cachedContent"]);n!==void 0&&I!=null&&h(n,["cachedContent"],Hn(e,I));const N=d(t,["responseModalities"]);N!=null&&h(r,["responseModalities"],N);const D=d(t,["mediaResolution"]);D!=null&&h(r,["mediaResolution"],D);const R=d(t,["speechConfig"]);R!=null&&h(r,["speechConfig"],l_(e,Vy(e,R)));const M=d(t,["audioTimestamp"]);M!=null&&h(r,["audioTimestamp"],M);const $=d(t,["thinkingConfig"]);return $!=null&&h(r,["thinkingConfig"],u_(e,$)),r}function Xh(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["_url","model"],wt(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],ke(e,ke(e,i).map(o=>vs(e,o)))):h(n,["contents"],ke(e,i)));const s=d(t,["config"]);return s!=null&&h(n,["generationConfig"],c_(e,s,n)),n}function Qh(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["_url","model"],wt(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],ke(e,ke(e,i).map(o=>hr(e,o)))):h(n,["contents"],ke(e,i)));const s=d(t,["config"]);return s!=null&&h(n,["generationConfig"],f_(e,s,n)),n}function d_(e,t,n){const r={},i=d(t,["taskType"]);n!==void 0&&i!=null&&h(n,["requests[]","taskType"],i);const s=d(t,["title"]);n!==void 0&&s!=null&&h(n,["requests[]","title"],s);const o=d(t,["outputDimensionality"]);if(n!==void 0&&o!=null&&h(n,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function h_(e,t,n){const r={},i=d(t,["taskType"]);n!==void 0&&i!=null&&h(n,["instances[]","task_type"],i);const s=d(t,["title"]);n!==void 0&&s!=null&&h(n,["instances[]","title"],s);const o=d(t,["outputDimensionality"]);n!==void 0&&o!=null&&h(n,["parameters","outputDimensionality"],o);const l=d(t,["mimeType"]);n!==void 0&&l!=null&&h(n,["instances[]","mimeType"],l);const a=d(t,["autoTruncate"]);return n!==void 0&&a!=null&&h(n,["parameters","autoTruncate"],a),r}function p_(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["_url","model"],wt(e,r));const i=d(t,["contents"]);i!=null&&h(n,["requests[]","content"],zy(e,i));const s=d(t,["config"]);s!=null&&h(n,["config"],d_(e,s,n));const o=d(t,["model"]);return o!==void 0&&h(n,["requests[]","model"],wt(e,o)),n}function m_(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["_url","model"],wt(e,r));const i=d(t,["contents"]);i!=null&&h(n,["instances[]","content"],zy(e,i));const s=d(t,["config"]);return s!=null&&h(n,["config"],h_(e,s,n)),n}function g_(e,t,n){const r={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(t,["numberOfImages"]);n!==void 0&&i!=null&&h(n,["parameters","sampleCount"],i);const s=d(t,["aspectRatio"]);n!==void 0&&s!=null&&h(n,["parameters","aspectRatio"],s);const o=d(t,["guidanceScale"]);if(n!==void 0&&o!=null&&h(n,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["safetyFilterLevel"]);n!==void 0&&l!=null&&h(n,["parameters","safetySetting"],l);const a=d(t,["personGeneration"]);n!==void 0&&a!=null&&h(n,["parameters","personGeneration"],a);const u=d(t,["includeSafetyAttributes"]);n!==void 0&&u!=null&&h(n,["parameters","includeSafetyAttributes"],u);const c=d(t,["includeRaiReason"]);n!==void 0&&c!=null&&h(n,["parameters","includeRaiReason"],c);const f=d(t,["language"]);n!==void 0&&f!=null&&h(n,["parameters","language"],f);const p=d(t,["outputMimeType"]);n!==void 0&&p!=null&&h(n,["parameters","outputOptions","mimeType"],p);const m=d(t,["outputCompressionQuality"]);if(n!==void 0&&m!=null&&h(n,["parameters","outputOptions","compressionQuality"],m),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function y_(e,t,n){const r={},i=d(t,["outputGcsUri"]);n!==void 0&&i!=null&&h(n,["parameters","storageUri"],i);const s=d(t,["negativePrompt"]);n!==void 0&&s!=null&&h(n,["parameters","negativePrompt"],s);const o=d(t,["numberOfImages"]);n!==void 0&&o!=null&&h(n,["parameters","sampleCount"],o);const l=d(t,["aspectRatio"]);n!==void 0&&l!=null&&h(n,["parameters","aspectRatio"],l);const a=d(t,["guidanceScale"]);n!==void 0&&a!=null&&h(n,["parameters","guidanceScale"],a);const u=d(t,["seed"]);n!==void 0&&u!=null&&h(n,["parameters","seed"],u);const c=d(t,["safetyFilterLevel"]);n!==void 0&&c!=null&&h(n,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);n!==void 0&&f!=null&&h(n,["parameters","personGeneration"],f);const p=d(t,["includeSafetyAttributes"]);n!==void 0&&p!=null&&h(n,["parameters","includeSafetyAttributes"],p);const m=d(t,["includeRaiReason"]);n!==void 0&&m!=null&&h(n,["parameters","includeRaiReason"],m);const w=d(t,["language"]);n!==void 0&&w!=null&&h(n,["parameters","language"],w);const x=d(t,["outputMimeType"]);n!==void 0&&x!=null&&h(n,["parameters","outputOptions","mimeType"],x);const S=d(t,["outputCompressionQuality"]);n!==void 0&&S!=null&&h(n,["parameters","outputOptions","compressionQuality"],S);const y=d(t,["addWatermark"]);n!==void 0&&y!=null&&h(n,["parameters","addWatermark"],y);const g=d(t,["enhancePrompt"]);return n!==void 0&&g!=null&&h(n,["parameters","enhancePrompt"],g),r}function x_(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["_url","model"],wt(e,r));const i=d(t,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const s=d(t,["config"]);return s!=null&&h(n,["config"],g_(e,s,n)),n}function w_(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["_url","model"],wt(e,r));const i=d(t,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const s=d(t,["config"]);return s!=null&&h(n,["config"],y_(e,s,n)),n}function v_(e,t){const n={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function C_(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],hr(e,Tt(e,i)));const s=d(t,["tools"]);n!==void 0&&s!=null&&(Array.isArray(s)?h(n,["tools"],s.map(l=>ef(e,l))):h(n,["tools"],s));const o=d(t,["generationConfig"]);return n!==void 0&&o!=null&&h(n,["generationConfig"],o),r}function __(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["_url","model"],wt(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],ke(e,ke(e,i).map(o=>vs(e,o)))):h(n,["contents"],ke(e,i)));const s=d(t,["config"]);return s!=null&&h(n,["config"],v_(e,s)),n}function S_(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["_url","model"],wt(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],ke(e,ke(e,i).map(o=>hr(e,o)))):h(n,["contents"],ke(e,i)));const s=d(t,["config"]);return s!=null&&h(n,["config"],C_(e,s,n)),n}function E_(e,t){const n={},r=d(t,["model"]);if(r!=null&&h(n,["_url","model"],wt(e,r)),d(t,["contents"])!==void 0)throw new Error("contents parameter is not supported in Gemini API.");const i=d(t,["config"]);return i!=null&&h(n,["config"],i),n}function k_(e,t){const n={},r=d(t,["model"]);r!=null&&h(n,["_url","model"],wt(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],ke(e,ke(e,i).map(o=>hr(e,o)))):h(n,["contents"],ke(e,i)));const s=d(t,["config"]);return s!=null&&h(n,["config"],s),n}function T_(e,t){const n={},r=d(t,["thought"]);r!=null&&h(n,["thought"],r);const i=d(t,["codeExecutionResult"]);i!=null&&h(n,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&h(n,["executableCode"],s);const o=d(t,["fileData"]);o!=null&&h(n,["fileData"],o);const l=d(t,["functionCall"]);l!=null&&h(n,["functionCall"],l);const a=d(t,["functionResponse"]);a!=null&&h(n,["functionResponse"],a);const u=d(t,["inlineData"]);u!=null&&h(n,["inlineData"],u);const c=d(t,["text"]);return c!=null&&h(n,["text"],c),n}function I_(e,t){const n={},r=d(t,["videoMetadata"]);r!=null&&h(n,["videoMetadata"],r);const i=d(t,["thought"]);i!=null&&h(n,["thought"],i);const s=d(t,["codeExecutionResult"]);s!=null&&h(n,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&h(n,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(n,["fileData"],l);const a=d(t,["functionCall"]);a!=null&&h(n,["functionCall"],a);const u=d(t,["functionResponse"]);u!=null&&h(n,["functionResponse"],u);const c=d(t,["inlineData"]);c!=null&&h(n,["inlineData"],c);const f=d(t,["text"]);return f!=null&&h(n,["text"],f),n}function Jy(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(s=>T_(e,s))):h(n,["parts"],r));const i=d(t,["role"]);return i!=null&&h(n,["role"],i),n}function Xy(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(s=>I_(e,s))):h(n,["parts"],r));const i=d(t,["role"]);return i!=null&&h(n,["role"],i),n}function P_(e,t){const n={},r=d(t,["citationSources"]);return r!=null&&h(n,["citations"],r),n}function A_(e,t){const n={},r=d(t,["citations"]);return r!=null&&h(n,["citations"],r),n}function N_(e,t){const n={},r=d(t,["content"]);r!=null&&h(n,["content"],Jy(e,r));const i=d(t,["citationMetadata"]);i!=null&&h(n,["citationMetadata"],P_(e,i));const s=d(t,["tokenCount"]);s!=null&&h(n,["tokenCount"],s);const o=d(t,["avgLogprobs"]);o!=null&&h(n,["avgLogprobs"],o);const l=d(t,["finishReason"]);l!=null&&h(n,["finishReason"],l);const a=d(t,["groundingMetadata"]);a!=null&&h(n,["groundingMetadata"],a);const u=d(t,["index"]);u!=null&&h(n,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&h(n,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&h(n,["safetyRatings"],f),n}function R_(e,t){const n={},r=d(t,["content"]);r!=null&&h(n,["content"],Xy(e,r));const i=d(t,["citationMetadata"]);i!=null&&h(n,["citationMetadata"],A_(e,i));const s=d(t,["finishMessage"]);s!=null&&h(n,["finishMessage"],s);const o=d(t,["avgLogprobs"]);o!=null&&h(n,["avgLogprobs"],o);const l=d(t,["finishReason"]);l!=null&&h(n,["finishReason"],l);const a=d(t,["groundingMetadata"]);a!=null&&h(n,["groundingMetadata"],a);const u=d(t,["index"]);u!=null&&h(n,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&h(n,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&h(n,["safetyRatings"],f),n}function Zh(e,t){const n={},r=d(t,["candidates"]);r!=null&&(Array.isArray(r)?h(n,["candidates"],r.map(l=>N_(e,l))):h(n,["candidates"],r));const i=d(t,["modelVersion"]);i!=null&&h(n,["modelVersion"],i);const s=d(t,["promptFeedback"]);s!=null&&h(n,["promptFeedback"],s);const o=d(t,["usageMetadata"]);return o!=null&&h(n,["usageMetadata"],o),n}function ep(e,t){const n={},r=d(t,["candidates"]);r!=null&&(Array.isArray(r)?h(n,["candidates"],r.map(u=>R_(e,u))):h(n,["candidates"],r));const i=d(t,["createTime"]);i!=null&&h(n,["createTime"],i);const s=d(t,["responseId"]);s!=null&&h(n,["responseId"],s);const o=d(t,["modelVersion"]);o!=null&&h(n,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&h(n,["promptFeedback"],l);const a=d(t,["usageMetadata"]);return a!=null&&h(n,["usageMetadata"],a),n}function M_(e,t){const n={},r=d(t,["truncated"]);r!=null&&h(n,["truncated"],r);const i=d(t,["token_count"]);return i!=null&&h(n,["tokenCount"],i),n}function b_(e,t){const n={},r=d(t,["values"]);return r!=null&&h(n,["values"],r),n}function L_(e,t){const n={},r=d(t,["values"]);r!=null&&h(n,["values"],r);const i=d(t,["statistics"]);return i!=null&&h(n,["statistics"],M_(e,i)),n}function O_(e,t){return{}}function D_(e,t){const n={},r=d(t,["billableCharacterCount"]);return r!=null&&h(n,["billableCharacterCount"],r),n}function F_(e,t){const n={},r=d(t,["embeddings"]);return r!=null&&(Array.isArray(r)?h(n,["embeddings"],r.map(s=>b_(e,s))):h(n,["embeddings"],r)),d(t,["metadata"])!=null&&h(n,["metadata"],O_()),n}function $_(e,t){const n={},r=d(t,["predictions[]","embeddings"]);r!=null&&(Array.isArray(r)?h(n,["embeddings"],r.map(s=>L_(e,s))):h(n,["embeddings"],r));const i=d(t,["metadata"]);return i!=null&&h(n,["metadata"],D_(e,i)),n}function z_(e,t){const n={},r=d(t,["bytesBase64Encoded"]);r!=null&&h(n,["imageBytes"],jy(e,r));const i=d(t,["mimeType"]);return i!=null&&h(n,["mimeType"],i),n}function B_(e,t){const n={},r=d(t,["gcsUri"]);r!=null&&h(n,["gcsUri"],r);const i=d(t,["bytesBase64Encoded"]);i!=null&&h(n,["imageBytes"],jy(e,i));const s=d(t,["mimeType"]);return s!=null&&h(n,["mimeType"],s),n}function U_(e,t){const n={},r=d(t,["_self"]);r!=null&&h(n,["image"],z_(e,r));const i=d(t,["raiFilteredReason"]);return i!=null&&h(n,["raiFilteredReason"],i),n}function V_(e,t){const n={},r=d(t,["_self"]);r!=null&&h(n,["image"],B_(e,r));const i=d(t,["raiFilteredReason"]);i!=null&&h(n,["raiFilteredReason"],i);const s=d(t,["prompt"]);return s!=null&&h(n,["enhancedPrompt"],s),n}function H_(e,t){const n={},r=d(t,["predictions"]);return r!=null&&(Array.isArray(r)?h(n,["generatedImages"],r.map(i=>U_(e,i))):h(n,["generatedImages"],r)),n}function j_(e,t){const n={},r=d(t,["predictions"]);return r!=null&&(Array.isArray(r)?h(n,["generatedImages"],r.map(i=>V_(e,i))):h(n,["generatedImages"],r)),n}function G_(e,t){const n={},r=d(t,["totalTokens"]);r!=null&&h(n,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&h(n,["cachedContentTokenCount"],i),n}function W_(e,t){const n={},r=d(t,["totalTokens"]);return r!=null&&h(n,["totalTokens"],r),n}function q_(e,t){const n={},r=d(t,["tokensInfo"]);return r!=null&&h(n,["tokensInfo"],r),n}function K_(e,t){const n={},r=d(t,["tokensInfo"]);return r!=null&&h(n,["tokensInfo"],r),n}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function J_(e,t){const n={},r=d(t,["generationConfig"]);r!==void 0&&h(n,["generationConfig"],r);const i=d(t,["responseModalities"]);i!==void 0&&h(n,["generationConfig","responseModalities"],i);const s=d(t,["speechConfig"]);s!==void 0&&h(n,["generationConfig","speechConfig"],s);const o=d(t,["systemInstruction"]);o!=null&&h(n,["systemInstruction"],vs(e,o));const l=d(t,["tools"]);return l!=null&&Array.isArray(l)&&h(n,["tools"],l.map(a=>Yy(e,a))),n}function X_(e,t){const n={},r=d(t,["generationConfig"]);r!==void 0&&h(n,["generationConfig"],r);const i=d(t,["responseModalities"]);i!==void 0?h(n,["generationConfig","responseModalities"],i):h(n,["generationConfig","responseModalities"],["AUDIO"]);const s=d(t,["speechConfig"]);s!==void 0&&h(n,["generationConfig","speechConfig"],s);const o=d(t,["systemInstruction"]);o!=null&&h(n,["systemInstruction"],hr(e,o));const l=d(t,["tools"]);return l!=null&&Array.isArray(l)&&h(n,["tools"],l.map(a=>ef(e,a))),n}function Q_(e,t){const n={},r=d(t,["config"]);r!=null&&h(n,["setup"],J_(e,r));const i=d(t,["model"]);return i!==void 0&&h(n,["setup","model"],i),n}function Z_(e,t){const n={},r=d(t,["config"]);r!=null&&h(n,["setup"],X_(e,r));const i=d(t,["model"]);return i!==void 0&&h(n,["setup","model"],i),n}function eS(e,t){const n={},r=d(t,["modelTurn"]);r!=null&&h(n,["modelTurn"],Jy(e,r));const i=d(t,["turnComplete"]);i!==void 0&&h(n,["turnComplete"],i);const s=d(t,["interrupted"]);return s!==void 0&&h(n,["interrupted"],s),n}function tS(e,t){const n={},r=d(t,["modelTurn"]);r!=null&&h(n,["modelTurn"],Xy(e,r));const i=d(t,["turnComplete"]);i!==void 0&&h(n,["turnComplete"],i);const s=d(t,["interrupted"]);return s!==void 0&&h(n,["interrupted"],s),n}function nS(e,t){const n={},r=d(t,["id"]);r!==void 0&&h(n,["id"],r);const i=d(t,["args"]);i!==void 0&&h(n,["args"],i);const s=d(t,["name"]);return s!==void 0&&h(n,["name"],s),n}function rS(e,t){const n={},r=d(t,["args"]);r!==void 0&&h(n,["args"],r);const i=d(t,["name"]);return i!==void 0&&h(n,["name"],i),n}function iS(e,t){const n={},r=d(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&h(n,["functionCalls"],r.map(i=>nS(e,i))),n}function sS(e,t){const n={},r=d(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&h(n,["functionCalls"],r.map(i=>rS(e,i))),n}function oS(e,t){const n={},r=d(t,["ids"]);return r!==void 0&&h(n,["ids"],r),n}function lS(e,t){const n={},r=d(t,["ids"]);return r!==void 0&&h(n,["ids"],r),n}function aS(e,t){const n={},r=d(t,["setupComplete"]);r!==void 0&&h(n,["setupComplete"],r);const i=d(t,["serverContent"]);i!=null&&h(n,["serverContent"],eS(e,i));const s=d(t,["toolCall"]);s!=null&&h(n,["toolCall"],iS(e,s));const o=d(t,["toolCallCancellation"]);return o!=null&&h(n,["toolCallCancellation"],oS(e,o)),n}function uS(e,t){const n={},r=d(t,["setupComplete"]);r!==void 0&&h(n,["setupComplete"],r);const i=d(t,["serverContent"]);i!=null&&h(n,["serverContent"],tS(e,i));const s=d(t,["toolCall"]);s!=null&&h(n,["toolCall"],sS(e,s));const o=d(t,["toolCallCancellation"]);return o!=null&&h(n,["toolCallCancellation"],lS(e,o)),n}async function cS(e,t,n){let r,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),e.isVertexAI()?r=uS(e,i):r=aS(e,i),t(r)}class fS{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("This SDK does not yet support the live API for **Google Vertex AI**.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let o;const l=pS(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())o=`${i}/ws/google.cloud.aiplatform.${s}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(l);else{const g=this.apiClient.getApiKey();o=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateContent?key=${g}`}let a=()=>{};const u=new Promise(g=>{a=g}),c=t.callbacks,f=function(){var g;(g=c==null?void 0:c.onopen)===null||g===void 0||g.call(c),a({})},p=this.apiClient,m={onopen:f,onmessage:g=>{cS(p,c.onmessage,g)},onerror:(n=c==null?void 0:c.onerror)!==null&&n!==void 0?n:function(g){},onclose:(r=c==null?void 0:c.onclose)!==null&&r!==void 0?r:function(g){}},w=this.webSocketFactory.create(o,hS(l),m);w.connect(),await u;let x=wt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){const g=this.apiClient.getProject(),v=this.apiClient.getLocation();x=`projects/${g}/locations/${v}/`+x}let S={};const y={model:x,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?S=Z_(this.apiClient,y):S=Q_(this.apiClient,y),w.send(JSON.stringify(S)),new dS(w,this.apiClient)}}class dS{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ke(t,n.turns),t.isVertexAI()?r=r.map(i=>hr(t,i)):r=r.map(i=>vs(t,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClientRealtimeInput(t,n){let r={};if(!("media"in n)||!n.media)throw new Error(`Failed to convert realtime input "media", type: '${typeof n.media}'`);return r={realtimeInput:{mediaChunks:[n.media]}},r}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)||(r=[n.functionResponses]),r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(Y_)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t.turns==null&&t.turnComplete==null&&(t={turnComplete:!0});const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){if(t.media==null)throw new Error("Media is required.");const n=this.tLiveClientRealtimeInput(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hS(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function pS(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mS="Content-Type",gS="User-Agent",yS="x-goog-api-client",xS="0.2.0",wS=`google-genai-sdk/${xS}`,vS="v1beta1",CS="v1beta",tp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class _S extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class np extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class SS{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:vS,i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:CS,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol="wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n){const r=[this.getRequestUrlInternal(n)];return this.clientOptions.vertexai&&!t.startsWith("projects/")&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);if(t.queryParams)for(const[s,o]of Object.entries(t.queryParams))r.searchParams.append(s,String(o));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n){if(n&&n.timeout&&n.timeout>0){const r=new AbortController,i=r.signal;setTimeout(()=>r.abort(),n.timeout),t.signal=i}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await rp(i,t.toString()),new Wy(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await rp(i,t.toString()),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return il(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:a}=yield nt(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(a);o+=u;let c=o.match(tp);for(;c;){const f=c[1];try{const p=JSON.parse(f);yield yield nt(p),o=o.slice(c[0].length),c=o.match(tp)}catch(p){throw new Error(`exception parsing stream chunk ${f}. ${p}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=wS+" "+this.clientOptions.userAgentExtra;return t[gS]=n,t[yS]=n,t[mS]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers)for(const[r,i]of Object.entries(t.headers))n.append(r,i);return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(t);i.sizeBytes=o.size;const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const a=await this.fetchUploadUrl(i,n);return s.upload(t,a,this)}async fetchUploadUrl(t,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const s={file:t},o=await this.request({path:se("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function rp(e,t,n){var r;if(e===void 0)throw new np("response is undefined");if(!e.ok){const i=e.status,s=e.statusText;let o;!((r=e.headers.get("content-type"))===null||r===void 0)&&r.includes("application/json")?o=await e.json():o={error:{message:"exception parsing response",code:e.status,status:e.statusText}};const l=`got status: ${i} ${s}. ${JSON.stringify(o)}`;throw i>=400&&i<500?new _S(l):i>=500&&i<600?new np(l):new Error(l)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ES=class extends Qc{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Gy(rl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t,n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t,n).then(r=>Mu(this.apiClient,r))}async listInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=IS(this.apiClient,t);return s=se("None",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=FS(this.apiClient),c=new Wh;return Object.assign(c,u),c})}else{const l=TS(this.apiClient,t);return s=se("files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=DS(this.apiClient,a),c=new Wh;return Object.assign(c,u),c})}}async createInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=RS(this.apiClient,t);return s=se("",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=zS(this.apiClient,a),c=new qh;return Object.assign(c,u),c})}else{const l=NS(this.apiClient,t);return s=se("upload/v1beta/files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=$S(this.apiClient,a),c=new qh;return Object.assign(c,u),c})}}async get(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=bS(this.apiClient,t);return s=se("None",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>OS(this.apiClient))}else{const l=MS(this.apiClient,t);return s=se("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>Mu(this.apiClient,a))}}};function kS(e,t,n){const r={},i=d(t,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const s=d(t,["pageToken"]);return n!==void 0&&s!=null&&h(n,["_query","pageToken"],s),r}function TS(e,t){const n={},r=d(t,["config"]);return r!=null&&h(n,["config"],kS(e,r,n)),n}function IS(e,t){const n={};if(d(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function PS(e,t){const n={},r=d(t,["details"]);r!=null&&h(n,["details"],r);const i=d(t,["message"]);i!=null&&h(n,["message"],i);const s=d(t,["code"]);return s!=null&&h(n,["code"],s),n}function AS(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["name"],r);const i=d(t,["displayName"]);i!=null&&h(n,["displayName"],i);const s=d(t,["mimeType"]);s!=null&&h(n,["mimeType"],s);const o=d(t,["sizeBytes"]);o!=null&&h(n,["sizeBytes"],o);const l=d(t,["createTime"]);l!=null&&h(n,["createTime"],l);const a=d(t,["expirationTime"]);a!=null&&h(n,["expirationTime"],a);const u=d(t,["updateTime"]);u!=null&&h(n,["updateTime"],u);const c=d(t,["sha256Hash"]);c!=null&&h(n,["sha256Hash"],c);const f=d(t,["uri"]);f!=null&&h(n,["uri"],f);const p=d(t,["downloadUri"]);p!=null&&h(n,["downloadUri"],p);const m=d(t,["state"]);m!=null&&h(n,["state"],m);const w=d(t,["source"]);w!=null&&h(n,["source"],w);const x=d(t,["videoMetadata"]);x!=null&&h(n,["videoMetadata"],x);const S=d(t,["error"]);return S!=null&&h(n,["error"],PS(e,S)),n}function NS(e,t){const n={},r=d(t,["file"]);r!=null&&h(n,["file"],AS(e,r));const i=d(t,["config"]);return i!=null&&h(n,["config"],i),n}function RS(e,t){const n={};if(d(t,["file"])!==void 0)throw new Error("file parameter is not supported in Vertex AI.");if(d(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function MS(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["_url","file"],KC(e,r));const i=d(t,["config"]);return i!=null&&h(n,["config"],i),n}function bS(e,t){const n={};if(d(t,["name"])!==void 0)throw new Error("name parameter is not supported in Vertex AI.");if(d(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function LS(e,t){const n={},r=d(t,["details"]);r!=null&&h(n,["details"],r);const i=d(t,["message"]);i!=null&&h(n,["message"],i);const s=d(t,["code"]);return s!=null&&h(n,["code"],s),n}function Mu(e,t){const n={},r=d(t,["name"]);r!=null&&h(n,["name"],r);const i=d(t,["displayName"]);i!=null&&h(n,["displayName"],i);const s=d(t,["mimeType"]);s!=null&&h(n,["mimeType"],s);const o=d(t,["sizeBytes"]);o!=null&&h(n,["sizeBytes"],o);const l=d(t,["createTime"]);l!=null&&h(n,["createTime"],l);const a=d(t,["expirationTime"]);a!=null&&h(n,["expirationTime"],a);const u=d(t,["updateTime"]);u!=null&&h(n,["updateTime"],u);const c=d(t,["sha256Hash"]);c!=null&&h(n,["sha256Hash"],c);const f=d(t,["uri"]);f!=null&&h(n,["uri"],f);const p=d(t,["downloadUri"]);p!=null&&h(n,["downloadUri"],p);const m=d(t,["state"]);m!=null&&h(n,["state"],m);const w=d(t,["source"]);w!=null&&h(n,["source"],w);const x=d(t,["videoMetadata"]);x!=null&&h(n,["videoMetadata"],x);const S=d(t,["error"]);return S!=null&&h(n,["error"],LS(e,S)),n}function OS(e,t){return{}}function DS(e,t){const n={},r=d(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const i=d(t,["files"]);return i!=null&&(Array.isArray(i)?h(n,["files"],i.map(s=>Mu(e,s))):h(n,["files"],i)),n}function FS(e,t){return{}}function $S(e,t){const n={},r=d(t,["httpHeaders"]);return r!=null&&h(n,["httpHeaders"],r),n}function zS(e,t){const n={},r=d(t,["httpHeaders"]);return r!=null&&h(n,["httpHeaders"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ip(){return new Error(`This feature requires the web or Node specific @google/genai implementation, you can fix this by either:

*Enabling conditional exports for your project [recommended]*

*Using a platform specific import* - Make sure your code imports either '@google/genai/web' or '@google/genai/node' instead of '@google/genai'.
`)}const BS=1024*1024*8;class US{async upload(t,n,r){throw ip()}async stat(t){throw ip()}async uploadBlob(t,n,r){var i,s;let o=0,l=0,a=new Wy(new Response),u="upload";for(o=t.size;l<o;){const f=Math.min(BS,o-l),p=t.slice(l,l+f);if(l+f>=o&&(u+=", finalize"),a=await r.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),l+=f,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}}class VS{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await new US().uploadBlob(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return{size:t.size,type:t.type}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HS{create(t,n,r){return new jS(t,n,r)}}class jS{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sp="x-goog-api-key";class GS{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(sp)===null&&t.append(sp,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WS="gl-node/";class Qy{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey,this.apiVersion=t.apiVersion;const r=new GS(this.apiKey);this.apiClient=new SS({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:WS+"web",uploader:new VS}),this.models=new $1(this.apiClient),this.live=new fS(this.apiClient,r,new HS),this.chats=new D1(this.models,this.apiClient),this.caches=new YC(this.apiClient),this.files=new ES(this.apiClient)}}const bu="RFC3986",Lu={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},qS="RFC1738",KS=Array.isArray,Gt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),ya=1024,YS=(e,t,n,r,i)=>{if(e.length===0)return e;let s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<s.length;l+=ya){const a=s.length>=ya?s.slice(l,l+ya):s,u=[];for(let c=0;c<a.length;++c){let f=a.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===qS&&(f===40||f===41)){u[u.length]=a.charAt(c);continue}if(f<128){u[u.length]=Gt[f];continue}if(f<2048){u[u.length]=Gt[192|f>>6]+Gt[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=Gt[224|f>>12]+Gt[128|f>>6&63]+Gt[128|f&63];continue}c+=1,f=65536+((f&1023)<<10|a.charCodeAt(c)&1023),u[u.length]=Gt[240|f>>18]+Gt[128|f>>12&63]+Gt[128|f>>6&63]+Gt[128|f&63]}o+=u.join("")}return o};function JS(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function op(e,t){if(KS(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const XS=Object.prototype.hasOwnProperty,Zy={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Kt=Array.isArray,QS=Array.prototype.push,e0=function(e,t){QS.apply(e,Kt(t)?t:[t])},ZS=Date.prototype.toISOString,Re={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:YS,encodeValuesOnly:!1,format:bu,formatter:Lu[bu],indices:!1,serializeDate(e){return ZS.call(e)},skipNulls:!1,strictNullHandling:!1};function eE(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const xa={};function t0(e,t,n,r,i,s,o,l,a,u,c,f,p,m,w,x,S,y){let g=e,v=y,T=0,P=!1;for(;(v=v.get(xa))!==void 0&&!P;){const R=v.get(e);if(T+=1,typeof R<"u"){if(R===T)throw new RangeError("Cyclic object value");P=!0}typeof v.get(xa)>"u"&&(T=0)}if(typeof u=="function"?g=u(t,g):g instanceof Date?g=p==null?void 0:p(g):n==="comma"&&Kt(g)&&(g=op(g,function(R){return R instanceof Date?p==null?void 0:p(R):R})),g===null){if(s)return a&&!x?a(t,Re.encoder,S,"key",m):t;g=""}if(eE(g)||JS(g)){if(a){const R=x?t:a(t,Re.encoder,S,"key",m);return[(w==null?void 0:w(R))+"="+(w==null?void 0:w(a(g,Re.encoder,S,"value",m)))]}return[(w==null?void 0:w(t))+"="+(w==null?void 0:w(String(g)))]}const k=[];if(typeof g>"u")return k;let I;if(n==="comma"&&Kt(g))x&&a&&(g=op(g,a)),I=[{value:g.length>0?g.join(",")||null:void 0}];else if(Kt(u))I=u;else{const R=Object.keys(g);I=c?R.sort(c):R}const N=l?String(t).replace(/\./g,"%2E"):String(t),D=r&&Kt(g)&&g.length===1?N+"[]":N;if(i&&Kt(g)&&g.length===0)return D+"[]";for(let R=0;R<I.length;++R){const M=I[R],$=typeof M=="object"&&typeof M.value<"u"?M.value:g[M];if(o&&$===null)continue;const H=f&&l?M.replace(/\./g,"%2E"):M,Z=Kt(g)?typeof n=="function"?n(D,H):D:D+(f?"."+H:"["+H+"]");y.set(e,T);const U=new WeakMap;U.set(xa,y),e0(k,t0($,Z,n,r,i,s,o,l,n==="comma"&&x&&Kt(g)?null:a,u,c,f,p,m,w,x,S,U))}return k}function tE(e=Re){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Re.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=bu;if(typeof e.format<"u"){if(!XS.call(Lu,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Lu[n];let i=Re.filter;(typeof e.filter=="function"||Kt(e.filter))&&(i=e.filter);let s;if(e.arrayFormat&&e.arrayFormat in Zy?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Re.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Re.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Re.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Re.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Re.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Re.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Re.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Re.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Re.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Re.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Re.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Re.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Re.strictNullHandling}}function nE(e,t={}){let n=e;const r=tE(t);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Kt(r.filter)&&(s=r.filter,i=s);const o=[];if(typeof n!="object"||n===null)return"";const l=Zy[r.arrayFormat],a=l==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const u=new WeakMap;for(let p=0;p<i.length;++p){const m=i[p];r.skipNulls&&n[m]===null||e0(o,t0(n[m],m,l,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=o.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),c.length>0?f+c:""}const Er="4.104.0";let lp=!1,Hi,n0,r0,Ou,i0,s0,o0,l0,a0;function rE(e,t={auto:!1}){if(lp)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Hi)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Hi}'\``);lp=t.auto,Hi=e.kind,n0=e.fetch,r0=e.FormData,Ou=e.File,i0=e.ReadableStream,s0=e.getMultipartRequestOptions,o0=e.getDefaultAgent,l0=e.fileFromPath,a0=e.isFsReadStream}class iE{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function sE({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new iE(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const u0=()=>{Hi||rE(sE(),{auto:!0})};u0();class j extends Error{}class Ve extends j{constructor(t,n,r,i){super(`${Ve.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Pl({message:r,cause:Fu(n)});const s=n==null?void 0:n.error;return t===400?new c0(t,s,r,i):t===401?new f0(t,s,r,i):t===403?new d0(t,s,r,i):t===404?new h0(t,s,r,i):t===409?new p0(t,s,r,i):t===422?new m0(t,s,r,i):t===429?new g0(t,s,r,i):t>=500?new y0(t,s,r,i):new Ve(t,s,r,i)}}class It extends Ve{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Pl extends Ve{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class tf extends Pl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class c0 extends Ve{}class f0 extends Ve{}class d0 extends Ve{}class h0 extends Ve{}class p0 extends Ve{}class m0 extends Ve{}class g0 extends Ve{}class y0 extends Ve{}class x0 extends j{constructor(){super("Could not parse response content as the length limit was reached")}}class w0 extends j{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Ys=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Kn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ft;class Al{constructor(){ft.set(this,void 0),this.buffer=new Uint8Array,Ys(this,ft,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const i=[];let s;for(;(s=oE(this.buffer,Kn(this,ft,"f")))!=null;){if(s.carriage&&Kn(this,ft,"f")==null){Ys(this,ft,s.index,"f");continue}if(Kn(this,ft,"f")!=null&&(s.index!==Kn(this,ft,"f")+1||s.carriage)){i.push(this.decodeText(this.buffer.slice(0,Kn(this,ft,"f")-1))),this.buffer=this.buffer.slice(Kn(this,ft,"f")),Ys(this,ft,null,"f");continue}const o=Kn(this,ft,"f")!==null?s.preceding-1:s.preceding,l=this.decodeText(this.buffer.slice(0,o));i.push(l),this.buffer=this.buffer.slice(s.index),Ys(this,ft,null,"f")}return i}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new j(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new j(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new j("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}ft=new WeakMap;Al.NEWLINE_CHARS=new Set([`
`,"\r"]);Al.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function oE(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function lE(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function v0(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Qt{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of aE(t,n))if(!s){if(o.data.startsWith("[DONE]")){s=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(l&&l.error)throw new Ve(void 0,l.error,void 0,I0(t.headers));yield l}else{let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event=="error")throw new Ve(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Qt(i,n)}static fromReadableStream(t,n){let r=!1;async function*i(){const o=new Al,l=v0(t);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of i())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Qt(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();t.push(o),n.push(o)}return s.shift()}});return[new Qt(()=>i(t),this.controller),new Qt(()=>i(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new i0({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:o}=await n.next();if(o)return i.close();const l=r.encode(JSON.stringify(s)+`
`);i.enqueue(l)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*aE(e,t){if(!e.body)throw t.abort(),new j("Attempted to iterate over a response with no body");const n=new cE,r=new Al,i=v0(e.body);for await(const s of uE(i))for(const o of r.decode(s)){const l=n.decode(o);l&&(yield l)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*uE(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),t=i;let s;for(;(s=lE(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}class cE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=fE(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function fE(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const C0=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",_0=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Nl(e),Nl=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",dE=e=>_0(e)||C0(e)||a0(e);async function S0(e,t,n){var i;if(e=await e,_0(e))return e;if(C0(e)){const s=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Nl(s)?[await s.arrayBuffer()]:[s];return new Ou(o,t,n)}const r=await hE(e);if(t||(t=mE(e)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new Ou(r,t,n)}async function hE(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Nl(e))t.push(await e.arrayBuffer());else if(gE(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${pE(e)}`);return t}function pE(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function mE(e){var t;return wa(e.name)||wa(e.filename)||((t=wa(e.path))==null?void 0:t.split(/[\\/]/).pop())}const wa=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},gE=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",ap=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",cr=async e=>{const t=await yE(e.body);return s0(t,e)},yE=async e=>{const t=new r0;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Du(t,n,r))),t},Du=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(dE(n)){const r=await S0(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Du(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Du(e,`${t}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Wr={},xE=function(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},wE=function(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Js;u0();async function E0(e){var o;const{response:t}=e;if(e.options.stream)return Fn("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Qt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),r=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const l=await t.json();return Fn("response",t.status,t.url,t.headers,l),k0(l,t)}const s=await t.text();return Fn("response",t.status,t.url,t.headers,s),s}function k0(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Rl extends Promise{constructor(t,n=E0){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Rl(this.responsePromise,async n=>k0(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class vE{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=t,this.maxRetries=va("maxRetries",n),this.timeout=va("timeout",r),this.httpAgent=i,this.fetch=s??n0}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...kE(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${AE()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&Nl(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:t,path:n,...i,body:s}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var x;const r={...t},{method:i,path:s,query:o,headers:l={}}=r,a=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:ap(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,u=this.calculateContentLength(a),c=this.buildURL(s,o);"timeout"in r&&va("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const f=r.httpAgent??this.httpAgent??o0(c),p=r.timeout+1e3;typeof((x=f==null?void 0:f.options)==null?void 0:x.timeout)=="number"&&p>(f.options.timeout??0)&&(f.options.timeout=p),this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const m=this.buildHeaders({options:r,headers:l,contentLength:u,retryCount:n});return{req:{method:i,...a&&{body:a},headers:m,...f&&{agent:f},signal:r.signal??null},url:c,timeout:r.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const o=this.defaultHeaders(t);return dp(s,o),dp(s,n),ap(t.body)&&Hi!=="node"&&delete s["content-type"],Qs(o,"x-stainless-retry-count")===void 0&&Qs(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),Qs(o,"x-stainless-timeout")===void 0&&Qs(n,"x-stainless-timeout")===void 0&&t.timeout&&(s["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(s,n),s}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,i){return Ve.generate(t,n,r,i)}request(t,n=null){return new Rl(this.makeRequest(t,n))}async makeRequest(t,n){var f,p;const r=await t,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:o,timeout:l}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:o,options:r}),Fn("request",o,r,s.headers),(f=r.signal)!=null&&f.aborted)throw new It;const a=new AbortController,u=await this.fetchWithTimeout(o,s,l,a).catch(Fu);if(u instanceof Error){if((p=r.signal)!=null&&p.aborted)throw new It;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new tf:new Pl({cause:u})}const c=I0(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const g=`retrying, ${n} attempts remaining`;return Fn(`response (error; ${g})`,u.status,o,c),this.retryRequest(r,n,c)}const m=await u.text().catch(g=>Fu(g).message),w=TE(m),x=w?void 0:m;throw Fn(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,c,x),this.makeStatusError(u.status,w,x,c)}return{response:u,options:r,controller:a}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new CE(this,r,t)}buildURL(t,n){const r=PE(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),i=this.defaultQuery();return P0(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new j(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,i){const{signal:s,...o}=n||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),a={signal:i.signal,...o};return a.method&&(a.method=a.method.toUpperCase()),this.fetch.call(void 0,t,a).finally(()=>{clearTimeout(l)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const l=parseFloat(s);Number.isNaN(l)||(i=l)}const o=r==null?void 0:r["retry-after"];if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await Cs(i),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Er}`}}class T0{constructor(t,n,r,i){Js.set(this,void 0),xE(this,Js,t),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new j("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[i,s]of r)t.url.searchParams.set(i,s);n.query=void 0,n.path=t.url.toString()}return await wE(this,Js,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Js=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class CE extends Rl{constructor(t,n,r){super(n,async i=>new r(t,i.response,await E0(i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const I0=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),_E={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},_e=e=>typeof e=="object"&&e!==null&&!P0(e)&&Object.keys(e).every(t=>A0(_E,t)),SE=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Er,"X-Stainless-OS":cp(Deno.build.os),"X-Stainless-Arch":up(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Er,"X-Stainless-OS":cp(process.platform),"X-Stainless-Arch":up(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=EE();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function EE(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:t,version:`${i}.${s}.${o}`}}}return null}const up=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",cp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let fp;const kE=()=>fp??(fp=SE()),TE=e=>{try{return JSON.parse(e)}catch{return}},IE=/^[a-z][a-z0-9+.-]*:/i,PE=e=>IE.test(e),Cs=e=>new Promise(t=>setTimeout(t,e)),va=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new j(`${e} must be an integer`);if(t<0)throw new j(`${e} must be a positive integer`);return t},Fu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Xs=e=>{var t,n,r,i;if(typeof process<"u")return((t=Wr==null?void 0:Wr[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:i.trim()};function P0(e){if(!e)return!0;for(const t in e)return!1;return!0}function A0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dp(e,t){for(const n in t){if(!A0(t,n))continue;const r=n.toLowerCase();if(!r)continue;const i=t[n];i===null?delete e[r]:i!==void 0&&(e[r]=i)}}const hp=new Set(["authorization","api-key"]);function Fn(e,...t){if(typeof process<"u"&&(Wr==null?void 0:Wr.DEBUG)==="true"){const n=t.map(r=>{if(!r)return r;if(r.headers){const s={...r,headers:{...r.headers}};for(const o in r.headers)hp.has(o.toLowerCase())&&(s.headers[o]="REDACTED");return s}let i=null;for(const s in r)hp.has(s.toLowerCase())&&(i??(i={...r}),i[s]="REDACTED");return i??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}const AE=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),NE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",RE=e=>typeof(e==null?void 0:e.get)=="function",Qs=(e,t)=>{var r;const n=t.toLowerCase();if(RE(e)){const i=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(s,o,l)=>o+l.toUpperCase());for(const s of[t,n,t.toUpperCase(),i]){const o=e.get(s);if(o)return o}}for(const[i,s]of Object.entries(e))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${t} header, using the first entry.`),s[0]):s},ME=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};function Ca(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Ml extends T0{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Le extends T0{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class G{constructor(t){this._client=t}}let N0=class extends G{list(t,n={},r){return _e(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,bE,{query:n,...r})}},bl=class extends G{constructor(){super(...arguments),this.messages=new N0(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return _e(t)?this.list({},t):this._client.getAPIList("/chat/completions",Ll,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Ll extends Le{}class bE extends Le{}bl.ChatCompletionsPage=Ll;bl.Messages=N0;let Ol=class extends G{constructor(){super(...arguments),this.completions=new bl(this._client)}};Ol.Completions=bl;Ol.ChatCompletionsPage=Ll;class R0 extends G{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class M0 extends G{create(t,n){return this._client.post("/audio/transcriptions",cr({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class b0 extends G{create(t,n){return this._client.post("/audio/translations",cr({body:t,...n,__metadata:{model:t.model}}))}}class _s extends G{constructor(){super(...arguments),this.transcriptions=new M0(this._client),this.translations=new b0(this._client),this.speech=new R0(this._client)}}_s.Transcriptions=M0;_s.Translations=b0;_s.Speech=R0;class nf extends G{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return _e(t)?this.list({},t):this._client.getAPIList("/batches",rf,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class rf extends Le{}nf.BatchesPage=rf;var Lt=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},xe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},$u,So,Eo,Pi,Ai,ko,Ni,on,Ri,sl,ol,kr,L0;class sf{constructor(){$u.add(this),this.controller=new AbortController,So.set(this,void 0),Eo.set(this,()=>{}),Pi.set(this,()=>{}),Ai.set(this,void 0),ko.set(this,()=>{}),Ni.set(this,()=>{}),on.set(this,{}),Ri.set(this,!1),sl.set(this,!1),ol.set(this,!1),kr.set(this,!1),Lt(this,So,new Promise((t,n)=>{Lt(this,Eo,t,"f"),Lt(this,Pi,n,"f")}),"f"),Lt(this,Ai,new Promise((t,n)=>{Lt(this,ko,t,"f"),Lt(this,Ni,n,"f")}),"f"),xe(this,So,"f").catch(()=>{}),xe(this,Ai,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},xe(this,$u,"m",L0).bind(this))},0)}_connected(){this.ended||(xe(this,Eo,"f").call(this),this._emit("connect"))}get ended(){return xe(this,Ri,"f")}get errored(){return xe(this,sl,"f")}get aborted(){return xe(this,ol,"f")}abort(){this.controller.abort()}on(t,n){return(xe(this,on,"f")[t]||(xe(this,on,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=xe(this,on,"f")[t];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(xe(this,on,"f")[t]||(xe(this,on,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Lt(this,kr,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Lt(this,kr,!0,"f"),await xe(this,Ai,"f")}_emit(t,...n){if(xe(this,Ri,"f"))return;t==="end"&&(Lt(this,Ri,!0,"f"),xe(this,ko,"f").call(this));const r=xe(this,on,"f")[t];if(r&&(xe(this,on,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!xe(this,kr,"f")&&!(r!=null&&r.length)&&Promise.reject(i),xe(this,Pi,"f").call(this,i),xe(this,Ni,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!xe(this,kr,"f")&&!(r!=null&&r.length)&&Promise.reject(i),xe(this,Pi,"f").call(this,i),xe(this,Ni,"f").call(this,i),this._emit("end")}}_emitFinal(){}}So=new WeakMap,Eo=new WeakMap,Pi=new WeakMap,Ai=new WeakMap,ko=new WeakMap,Ni=new WeakMap,on=new WeakMap,Ri=new WeakMap,sl=new WeakMap,ol=new WeakMap,kr=new WeakMap,$u=new WeakSet,L0=function(t){if(Lt(this,sl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new It),t instanceof It)return Lt(this,ol,!0,"f"),this._emit("abort",t);if(t instanceof j)return this._emit("error",t);if(t instanceof Error){const n=new j(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new j(String(t)))};var B=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ct=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ze,zu,Yt,To,Dt,nr,$r,Xn,ll,ht,Io,Po,ji,Mi,bi,pp,mp,gp,yp,xp,wp,vp;class zt extends sf{constructor(){super(...arguments),ze.add(this),zu.set(this,[]),Yt.set(this,{}),To.set(this,{}),Dt.set(this,void 0),nr.set(this,void 0),$r.set(this,void 0),Xn.set(this,void 0),ll.set(this,void 0),ht.set(this,void 0),Io.set(this,void 0),Po.set(this,void 0),ji.set(this,void 0)}[(zu=new WeakMap,Yt=new WeakMap,To=new WeakMap,Dt=new WeakMap,nr=new WeakMap,$r=new WeakMap,Xn=new WeakMap,ll=new WeakMap,ht=new WeakMap,Io=new WeakMap,Po=new WeakMap,ji=new WeakMap,ze=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new zt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Qt.fromReadableStream(t,this.controller);for await(const o of i)B(this,ze,"m",Mi).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new It;return this._addRun(B(this,ze,"m",bi).call(this))}toReadableStream(){return new Qt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,i,s){const o=new zt;return o._run(()=>o._runToolAssistantStream(t,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,i,s){var u;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...i,stream:!0},a=await t.submitToolOutputs(n,r,l,{...s,signal:this.controller.signal});this._connected();for await(const c of a)B(this,ze,"m",Mi).call(this,c);if((u=a.controller.signal)!=null&&u.aborted)throw new It;return this._addRun(B(this,ze,"m",bi).call(this))}static createThreadAssistantStream(t,n,r){const i=new zt;return i._run(()=>i._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,n,r,i){const s=new zt;return s._run(()=>s._runAssistantStream(t,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return B(this,Io,"f")}currentRun(){return B(this,Po,"f")}currentMessageSnapshot(){return B(this,Dt,"f")}currentRunStepSnapshot(){return B(this,ji,"f")}async finalRunSteps(){return await this.done(),Object.values(B(this,Yt,"f"))}async finalMessages(){return await this.done(),Object.values(B(this,To,"f"))}async finalRun(){if(await this.done(),!B(this,nr,"f"))throw Error("Final run was not received.");return B(this,nr,"f")}async _createThreadAssistantStream(t,n,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await t.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const a of o)B(this,ze,"m",Mi).call(this,a);if((l=o.controller.signal)!=null&&l.aborted)throw new It;return this._addRun(B(this,ze,"m",bi).call(this))}async _createAssistantStream(t,n,r,i){var a;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await t.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const u of l)B(this,ze,"m",Mi).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new It;return this._addRun(B(this,ze,"m",bi).call(this))}static accumulateDelta(t,n){for(const[r,i]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=i;continue}let s=t[r];if(s==null){t[r]=i;continue}if(r==="index"||r==="type"){t[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(Ca(s)&&Ca(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}for(const o of i){if(!Ca(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const a=s[l];a==null?s.push(o):s[l]=this.accumulateDelta(a,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);t[r]=s}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,i){return await this._createAssistantStream(n,t,r,i)}async _runToolAssistantStream(t,n,r,i,s){return await this._createToolAssistantStream(r,t,n,i,s)}}Mi=function(t){if(!this.ended)switch(ct(this,Io,t,"f"),B(this,ze,"m",gp).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":B(this,ze,"m",vp).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":B(this,ze,"m",mp).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":B(this,ze,"m",pp).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},bi=function(){if(this.ended)throw new j("stream has ended, this shouldn't happen");if(!B(this,nr,"f"))throw Error("Final run has not been received");return B(this,nr,"f")},pp=function(t){const[n,r]=B(this,ze,"m",xp).call(this,t,B(this,Dt,"f"));ct(this,Dt,n,"f"),B(this,To,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const i of t.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=B(this,$r,"f")){if(B(this,Xn,"f"))switch(B(this,Xn,"f").type){case"text":this._emit("textDone",B(this,Xn,"f").text,B(this,Dt,"f"));break;case"image_file":this._emit("imageFileDone",B(this,Xn,"f").image_file,B(this,Dt,"f"));break}ct(this,$r,i.index,"f")}ct(this,Xn,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(B(this,$r,"f")!==void 0){const i=t.data.content[B(this,$r,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,B(this,Dt,"f"));break;case"text":this._emit("textDone",i.text,B(this,Dt,"f"));break}}B(this,Dt,"f")&&this._emit("messageDone",t.data),ct(this,Dt,void 0,"f")}},mp=function(t){const n=B(this,ze,"m",yp).call(this,t);switch(ct(this,ji,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==B(this,ll,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(B(this,ht,"f")&&this._emit("toolCallDone",B(this,ht,"f")),ct(this,ll,s.index,"f"),ct(this,ht,n.step_details.tool_calls[s.index],"f"),B(this,ht,"f")&&this._emit("toolCallCreated",B(this,ht,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ct(this,ji,void 0,"f"),t.data.step_details.type=="tool_calls"&&B(this,ht,"f")&&(this._emit("toolCallDone",B(this,ht,"f")),ct(this,ht,void 0,"f")),this._emit("runStepDone",t.data,n);break}},gp=function(t){B(this,zu,"f").push(t),this._emit("event",t)},yp=function(t){switch(t.event){case"thread.run.step.created":return B(this,Yt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=B(this,Yt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const i=zt.accumulateDelta(n,r.delta);B(this,Yt,"f")[t.data.id]=i}return B(this,Yt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":B(this,Yt,"f")[t.data.id]=t.data;break}if(B(this,Yt,"f")[t.data.id])return B(this,Yt,"f")[t.data.id];throw new Error("No snapshot available")},xp=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=t.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=B(this,ze,"m",wp).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},wp=function(t,n){return zt.accumulateDelta(n,t)},vp=function(t){switch(ct(this,Po,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ct(this,nr,t.data,"f"),B(this,ht,"f")&&(this._emit("toolCallDone",B(this,ht,"f")),ct(this,ht,void 0,"f"));break}};class of extends G{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return _e(t)?this.list({},t):this._client.getAPIList("/assistants",lf,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class lf extends Le{}of.AssistantsPage=lf;function Cp(e){return typeof e.parse=="function"}const qr=e=>(e==null?void 0:e.role)==="assistant",O0=e=>(e==null?void 0:e.role)==="function",D0=e=>(e==null?void 0:e.role)==="tool";function af(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Ss(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function LE(e,t){return!t||!F0(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:uf(e,t)}function uf(e,t){const n=e.choices.map(r=>{var i;if(r.finish_reason==="length")throw new x0;if(r.finish_reason==="content_filter")throw new w0;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>DE(t,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?OE(t,r.message.content):null}}});return{...e,choices:n}}function OE(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function DE(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Ss(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function FE(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===t.function.name});return Ss(n)||(n==null?void 0:n.function.strict)||!1}function F0(e){var t;return af(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Ss(n)||n.type==="function"&&n.function.strict===!0))??!1}function $E(e){for(const t of e??[]){if(t.type!=="function")throw new j(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new j(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ze=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ge,Bu,al,Uu,Vu,Hu,$0,ju;const _p=10;class z0 extends sf{constructor(){super(...arguments),Ge.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(O0(t)||D0(t))&&t.content)this._emit("functionCallResult",t.content);else if(qr(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(qr(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new j("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Ze(this,Ge,"m",Bu).call(this)}async finalMessage(){return await this.done(),Ze(this,Ge,"m",al).call(this)}async finalFunctionCall(){return await this.done(),Ze(this,Ge,"m",Uu).call(this)}async finalFunctionCallResult(){return await this.done(),Ze(this,Ge,"m",Vu).call(this)}async totalUsage(){return await this.done(),Ze(this,Ge,"m",Hu).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Ze(this,Ge,"m",al).call(this);n&&this._emit("finalMessage",n);const r=Ze(this,Ge,"m",Bu).call(this);r&&this._emit("finalContent",r);const i=Ze(this,Ge,"m",Uu).call(this);i&&this._emit("finalFunctionCall",i);const s=Ze(this,Ge,"m",Vu).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Ze(this,Ge,"m",Hu).call(this))}async _createChatCompletion(t,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Ze(this,Ge,"m",$0).call(this,n);const s=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(uf(s,n))}async _runChatCompletion(t,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var p;const i="function",{function_call:s="auto",stream:o,...l}=n,a=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:u=_p}=r||{},c={};for(const m of n.functions)c[m.name||m.function.name]=m;const f=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<u;++m){const x=(p=(await this._createChatCompletion(t,{...l,function_call:s,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:p.message;if(!x)throw new j("missing message in ChatCompletion response");if(!x.function_call)return;const{name:S,arguments:y}=x.function_call,g=c[S];if(g){if(a&&a!==S){const k=`Invalid function_call: ${JSON.stringify(S)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:i,name:S,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(S)}. Available options are: ${f.map(I=>JSON.stringify(I.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:S,content:k});continue}let v;try{v=Cp(g)?await g.parse(y):y}catch(k){this._addMessage({role:i,name:S,content:k instanceof Error?k.message:String(k)});continue}const T=await g.function(v,this),P=Ze(this,Ge,"m",ju).call(this,T);if(this._addMessage({role:i,name:S,content:P}),a)return}}async _runTools(t,n,r){var m,w,x;const i="tool",{tool_choice:s="auto",stream:o,...l}=n,a=typeof s!="string"&&((m=s==null?void 0:s.function)==null?void 0:m.name),{maxChatCompletions:u=_p}=r||{},c=n.tools.map(S=>{if(Ss(S)){if(!S.$callback)throw new j("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:S.$callback,name:S.function.name,description:S.function.description||"",parameters:S.function.parameters,parse:S.$parseRaw,strict:!0}}}return S}),f={};for(const S of c)S.type==="function"&&(f[S.function.name||S.function.function.name]=S.function);const p="tools"in n?c.map(S=>S.type==="function"?{type:"function",function:{name:S.function.name||S.function.function.name,parameters:S.function.parameters,description:S.function.description,strict:S.function.strict}}:S):void 0;for(const S of n.messages)this._addMessage(S,!1);for(let S=0;S<u;++S){const g=(w=(await this._createChatCompletion(t,{...l,tool_choice:s,tools:p,messages:[...this.messages]},r)).choices[0])==null?void 0:w.message;if(!g)throw new j("missing message in ChatCompletion response");if(!((x=g.tool_calls)!=null&&x.length))return;for(const v of g.tool_calls){if(v.type!=="function")continue;const T=v.id,{name:P,arguments:k}=v.function,I=f[P];if(I){if(a&&a!==P){const M=`Invalid tool_call: ${JSON.stringify(P)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:i,tool_call_id:T,content:M});continue}}else{const M=`Invalid tool_call: ${JSON.stringify(P)}. Available options are: ${Object.keys(f).map($=>JSON.stringify($)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:T,content:M});continue}let N;try{N=Cp(I)?await I.parse(k):k}catch(M){const $=M instanceof Error?M.message:String(M);this._addMessage({role:i,tool_call_id:T,content:$});continue}const D=await I.function(N,this),R=Ze(this,Ge,"m",ju).call(this,D);if(this._addMessage({role:i,tool_call_id:T,content:R}),a)return}}}}Ge=new WeakSet,Bu=function(){return Ze(this,Ge,"m",al).call(this).content??null},al=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(qr(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new j("stream ended without producing a ChatCompletionMessage with role=assistant")},Uu=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(qr(i)&&(i!=null&&i.function_call))return i.function_call;if(qr(i)&&((t=i==null?void 0:i.tool_calls)!=null&&t.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},Vu=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(O0(n)&&n.content!=null||D0(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},Hu=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},$0=function(t){if(t.n!=null&&t.n>1)throw new j("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ju=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ds extends z0{static runFunctions(t,n,r){const i=new ds,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,s)),i}static runTools(t,n,r){const i=new ds,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,s)),i}_addMessage(t,n=!0){super._addMessage(t,n),qr(t)&&t.content&&this._emit("content",t.content)}}const B0=1,U0=2,V0=4,H0=8,j0=16,G0=32,W0=64,q0=128,K0=256,Y0=q0|K0,J0=j0|G0|Y0|W0,X0=B0|U0|J0,Q0=V0|H0,zE=X0|Q0,Oe={STR:B0,NUM:U0,ARR:V0,OBJ:H0,NULL:j0,BOOL:G0,NAN:W0,INFINITY:q0,MINUS_INFINITY:K0,INF:Y0,SPECIAL:J0,ATOM:X0,COLLECTION:Q0,ALL:zE};class BE extends Error{}class UE extends Error{}function VE(e,t=Oe.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return HE(e.trim(),t)}const HE=(e,t)=>{const n=e.length;let r=0;const i=p=>{throw new BE(`${p} at position ${r}`)},s=p=>{throw new UE(`${p} at position ${r}`)},o=()=>(f(),r>=n&&i("Unexpected end of input"),e[r]==='"'?l():e[r]==="{"?a():e[r]==="["?u():e.substring(r,r+4)==="null"||Oe.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Oe.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Oe.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Oe.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Oe.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Oe.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),l=()=>{const p=r;let m=!1;for(r++;r<n&&(e[r]!=='"'||m&&e[r-1]==="\\");)m=e[r]==="\\"?!m:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(p,++r-Number(m)))}catch(w){s(String(w))}else if(Oe.STR&t)try{return JSON.parse(e.substring(p,r-Number(m))+'"')}catch{return JSON.parse(e.substring(p,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},a=()=>{r++,f();const p={};try{for(;e[r]!=="}";){if(f(),r>=n&&Oe.OBJ&t)return p;const m=l();f(),r++;try{const w=o();Object.defineProperty(p,m,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(Oe.OBJ&t)return p;throw w}f(),e[r]===","&&r++}}catch{if(Oe.OBJ&t)return p;i("Expected '}' at end of object")}return r++,p},u=()=>{r++;const p=[];try{for(;e[r]!=="]";)p.push(o()),f(),e[r]===","&&r++}catch{if(Oe.ARR&t)return p;i("Expected ']' at end of array")}return r++,p},c=()=>{if(r===0){e==="-"&&Oe.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(m){if(Oe.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}s(String(m))}}const p=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Oe.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(e.substring(p,r))}catch{e.substring(p,r)==="-"&&Oe.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(p,e.lastIndexOf("e")))}catch(w){s(String(w))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return o()},Sp=e=>VE(e,Oe.ALL^Oe.NUM);var wr=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ae=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ne,sn,vr,wn,_a,Zs,Sa,Ea,ka,eo,Ta,Ep;class hs extends z0{constructor(t){super(),Ne.add(this),sn.set(this,void 0),vr.set(this,void 0),wn.set(this,void 0),wr(this,sn,t,"f"),wr(this,vr,[],"f")}get currentChatCompletionSnapshot(){return ae(this,wn,"f")}static fromReadableStream(t){const n=new hs(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const i=new hs(n);return i._run(()=>i._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,n,r){var o;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ae(this,Ne,"m",_a).call(this);const s=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of s)ae(this,Ne,"m",Sa).call(this,l);if((o=s.controller.signal)!=null&&o.aborted)throw new It;return this._addChatCompletion(ae(this,Ne,"m",eo).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ae(this,Ne,"m",_a).call(this),this._connected();const i=Qt.fromReadableStream(t,this.controller);let s;for await(const l of i)s&&s!==l.id&&this._addChatCompletion(ae(this,Ne,"m",eo).call(this)),ae(this,Ne,"m",Sa).call(this,l),s=l.id;if((o=i.controller.signal)!=null&&o.aborted)throw new It;return this._addChatCompletion(ae(this,Ne,"m",eo).call(this))}[(sn=new WeakMap,vr=new WeakMap,wn=new WeakMap,Ne=new WeakSet,_a=function(){this.ended||wr(this,wn,void 0,"f")},Zs=function(n){let r=ae(this,vr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ae(this,vr,"f")[n.index]=r,r)},Sa=function(n){var i,s,o,l,a,u,c,f,p,m,w,x,S,y,g;if(this.ended)return;const r=ae(this,Ne,"m",Ep).call(this,n);this._emit("chunk",n,r);for(const v of n.choices){const T=r.choices[v.index];v.delta.content!=null&&((i=T.message)==null?void 0:i.role)==="assistant"&&((s=T.message)!=null&&s.content)&&(this._emit("content",v.delta.content,T.message.content),this._emit("content.delta",{delta:v.delta.content,snapshot:T.message.content,parsed:T.message.parsed})),v.delta.refusal!=null&&((o=T.message)==null?void 0:o.role)==="assistant"&&((l=T.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:v.delta.refusal,snapshot:T.message.refusal}),((a=v.logprobs)==null?void 0:a.content)!=null&&((u=T.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=v.logprobs)==null?void 0:c.content,snapshot:((f=T.logprobs)==null?void 0:f.content)??[]}),((p=v.logprobs)==null?void 0:p.refusal)!=null&&((m=T.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(w=v.logprobs)==null?void 0:w.refusal,snapshot:((x=T.logprobs)==null?void 0:x.refusal)??[]});const P=ae(this,Ne,"m",Zs).call(this,T);T.finish_reason&&(ae(this,Ne,"m",ka).call(this,T),P.current_tool_call_index!=null&&ae(this,Ne,"m",Ea).call(this,T,P.current_tool_call_index));for(const k of v.delta.tool_calls??[])P.current_tool_call_index!==k.index&&(ae(this,Ne,"m",ka).call(this,T),P.current_tool_call_index!=null&&ae(this,Ne,"m",Ea).call(this,T,P.current_tool_call_index)),P.current_tool_call_index=k.index;for(const k of v.delta.tool_calls??[]){const I=(S=T.message.tool_calls)==null?void 0:S[k.index];I!=null&&I.type&&((I==null?void 0:I.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=I.function)==null?void 0:y.name,index:k.index,arguments:I.function.arguments,parsed_arguments:I.function.parsed_arguments,arguments_delta:((g=k.function)==null?void 0:g.arguments)??""}):(I==null||I.type,void 0))}}},Ea=function(n,r){var o,l,a;if(ae(this,Ne,"m",Zs).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const u=(a=(l=ae(this,sn,"f"))==null?void 0:l.tools)==null?void 0:a.find(c=>c.type==="function"&&c.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Ss(u)?u.$parseRaw(s.function.arguments):u!=null&&u.function.strict?JSON.parse(s.function.arguments):null})}else s.type},ka=function(n){var i,s;const r=ae(this,Ne,"m",Zs).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=ae(this,Ne,"m",Ta).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},eo=function(){if(this.ended)throw new j("stream has ended, this shouldn't happen");const n=ae(this,wn,"f");if(!n)throw new j("request ended without sending any chunks");return wr(this,wn,void 0,"f"),wr(this,vr,[],"f"),jE(n,ae(this,sn,"f"))},Ta=function(){var r;const n=(r=ae(this,sn,"f"))==null?void 0:r.response_format;return af(n)?n:null},Ep=function(n){var r,i,s,o;let l=ae(this,wn,"f");const{choices:a,...u}=n;l?Object.assign(l,u):l=wr(this,wn,{...u,choices:[]},"f");for(const{delta:c,finish_reason:f,index:p,logprobs:m=null,...w}of n.choices){let x=l.choices[p];if(x||(x=l.choices[p]={finish_reason:f,index:p,message:{},logprobs:m,...w}),m)if(!x.logprobs)x.logprobs=Object.assign({},m);else{const{content:k,refusal:I,...N}=m;Object.assign(x.logprobs,N),k&&((r=x.logprobs).content??(r.content=[]),x.logprobs.content.push(...k)),I&&((i=x.logprobs).refusal??(i.refusal=[]),x.logprobs.refusal.push(...I))}if(f&&(x.finish_reason=f,ae(this,sn,"f")&&F0(ae(this,sn,"f")))){if(f==="length")throw new x0;if(f==="content_filter")throw new w0}if(Object.assign(x,w),!c)continue;const{content:S,refusal:y,function_call:g,role:v,tool_calls:T,...P}=c;if(Object.assign(x.message,P),y&&(x.message.refusal=(x.message.refusal||"")+y),v&&(x.message.role=v),g&&(x.message.function_call?(g.name&&(x.message.function_call.name=g.name),g.arguments&&((s=x.message.function_call).arguments??(s.arguments=""),x.message.function_call.arguments+=g.arguments)):x.message.function_call=g),S&&(x.message.content=(x.message.content||"")+S,!x.message.refusal&&ae(this,Ne,"m",Ta).call(this)&&(x.message.parsed=Sp(x.message.content))),T){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:k,id:I,type:N,function:D,...R}of T){const M=(o=x.message.tool_calls)[k]??(o[k]={});Object.assign(M,R),I&&(M.id=I),N&&(M.type=N),D&&(M.function??(M.function={name:D.name??"",arguments:""})),D!=null&&D.name&&(M.function.name=D.name),D!=null&&D.arguments&&(M.function.arguments+=D.arguments,FE(ae(this,sn,"f"),M)&&(M.function.parsed_arguments=Sp(M.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Qt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function jE(e,t){const{id:n,choices:r,created:i,model:s,system_fingerprint:o,...l}=e,a={...l,id:n,choices:r.map(({message:u,finish_reason:c,index:f,logprobs:p,...m})=>{if(!c)throw new j(`missing finish_reason for choice ${f}`);const{content:w=null,function_call:x,tool_calls:S,...y}=u,g=u.role;if(!g)throw new j(`missing role for choice ${f}`);if(x){const{arguments:v,name:T}=x;if(v==null)throw new j(`missing function_call.arguments for choice ${f}`);if(!T)throw new j(`missing function_call.name for choice ${f}`);return{...m,message:{content:w,function_call:{arguments:v,name:T},role:g,refusal:u.refusal??null},finish_reason:c,index:f,logprobs:p}}return S?{...m,index:f,finish_reason:c,logprobs:p,message:{...y,role:g,content:w,refusal:u.refusal??null,tool_calls:S.map((v,T)=>{const{function:P,type:k,id:I,...N}=v,{arguments:D,name:R,...M}=P||{};if(I==null)throw new j(`missing choices[${f}].tool_calls[${T}].id
${to(e)}`);if(k==null)throw new j(`missing choices[${f}].tool_calls[${T}].type
${to(e)}`);if(R==null)throw new j(`missing choices[${f}].tool_calls[${T}].function.name
${to(e)}`);if(D==null)throw new j(`missing choices[${f}].tool_calls[${T}].function.arguments
${to(e)}`);return{...N,id:I,type:k,function:{...M,name:R,arguments:D}}})}}:{...m,message:{...y,content:w,role:g,refusal:u.refusal??null},finish_reason:c,index:f,logprobs:p}}),created:i,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return LE(a,t)}function to(e){return JSON.stringify(e)}class Kr extends hs{static fromReadableStream(t){const n=new Kr(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const i=new Kr(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,s)),i}static runTools(t,n,r){const i=new Kr(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,s)),i}}let Z0=class extends G{parse(t,n){return $E(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>uf(r,t))}runFunctions(t,n){return t.stream?Kr.runFunctions(this._client,t,n):ds.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?Kr.runTools(this._client,t,n):ds.runTools(this._client,t,n)}stream(t,n){return hs.createChatCompletion(this._client,t,n)}};class Gu extends G{constructor(){super(...arguments),this.completions=new Z0(this._client)}}(function(e){e.Completions=Z0})(Gu||(Gu={}));class ex extends G{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class tx extends G{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Dl extends G{constructor(){super(...arguments),this.sessions=new ex(this._client),this.transcriptionSessions=new tx(this._client)}}Dl.Sessions=ex;Dl.TranscriptionSessions=tx;class cf extends G{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return _e(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,ff,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class ff extends Le{}cf.MessagesPage=ff;class df extends G{retrieve(t,n,r,i={},s){return _e(i)?this.retrieve(t,n,r,{},i):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n,r={},i){return _e(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,hf,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class hf extends Le{}df.RunStepsPage=hf;let Es=class extends G{constructor(){super(...arguments),this.steps=new df(this._client)}create(t,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return _e(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,pf,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}createAndStream(t,n,r){return zt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await Cs(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(t,n,r){return zt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,i){const s=await this.submitToolOutputs(t,n,r,i);return await this.poll(t,s.id,i)}submitToolOutputsStream(t,n,r,i){return zt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,i)}};class pf extends Le{}Es.RunsPage=pf;Es.Steps=df;Es.RunStepsPage=hf;class li extends G{constructor(){super(...arguments),this.runs=new Es(this._client),this.messages=new cf(this._client)}create(t={},n){return _e(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return zt.createThreadAssistantStream(t,this._client.beta.threads,n)}}li.Runs=Es;li.RunsPage=pf;li.Messages=cf;li.MessagesPage=ff;class ai extends G{constructor(){super(...arguments),this.realtime=new Dl(this._client),this.chat=new Gu(this._client),this.assistants=new of(this._client),this.threads=new li(this._client)}}ai.Realtime=Dl;ai.Assistants=of;ai.AssistantsPage=lf;ai.Threads=li;class nx extends G{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class rx extends G{retrieve(t,n,r){return this._client.get(`/containers/${t}/files/${n}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}}let Fl=class extends G{constructor(){super(...arguments),this.content=new rx(this._client)}create(t,n,r){return this._client.post(`/containers/${t}/files`,cr({body:n,...r}))}retrieve(t,n,r){return this._client.get(`/containers/${t}/files/${n}`,r)}list(t,n={},r){return _e(n)?this.list(t,{},n):this._client.getAPIList(`/containers/${t}/files`,mf,{query:n,...r})}del(t,n,r){return this._client.delete(`/containers/${t}/files/${n}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class mf extends Le{}Fl.FileListResponsesPage=mf;Fl.Content=rx;class ks extends G{constructor(){super(...arguments),this.files=new Fl(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(`/containers/${t}`,n)}list(t={},n){return _e(t)?this.list({},t):this._client.getAPIList("/containers",gf,{query:t,...n})}del(t,n){return this._client.delete(`/containers/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class gf extends Le{}ks.ContainerListResponsesPage=gf;ks.Files=Fl;ks.FileListResponsesPage=mf;class ix extends G{create(t,n){const r=!!t.encoding_format;let i=r?t.encoding_format:"base64";r&&Fn("Request","User defined encoding_format:",t.encoding_format);const s=this._client.post("/embeddings",{body:{...t,encoding_format:i},...n});return r?s:(Fn("response","Decoding base64 embeddings to float32 array"),s._thenUnwrap(o=>(o&&o.data&&o.data.forEach(l=>{const a=l.embedding;l.embedding=ME(a)}),o)))}}class yf extends G{retrieve(t,n,r,i){return this._client.get(`/evals/${t}/runs/${n}/output_items/${r}`,i)}list(t,n,r={},i){return _e(r)?this.list(t,n,{},r):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,xf,{query:r,...i})}}class xf extends Le{}yf.OutputItemListResponsesPage=xf;class Ts extends G{constructor(){super(...arguments),this.outputItems=new yf(this._client)}create(t,n,r){return this._client.post(`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){return this._client.get(`/evals/${t}/runs/${n}`,r)}list(t,n={},r){return _e(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,wf,{query:n,...r})}del(t,n,r){return this._client.delete(`/evals/${t}/runs/${n}`,r)}cancel(t,n,r){return this._client.post(`/evals/${t}/runs/${n}`,r)}}class wf extends Le{}Ts.RunListResponsesPage=wf;Ts.OutputItems=yf;Ts.OutputItemListResponsesPage=xf;class Is extends G{constructor(){super(...arguments),this.runs=new Ts(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,r){return this._client.post(`/evals/${t}`,{body:n,...r})}list(t={},n){return _e(t)?this.list({},t):this._client.getAPIList("/evals",vf,{query:t,...n})}del(t,n){return this._client.delete(`/evals/${t}`,n)}}class vf extends Le{}Is.EvalListResponsesPage=vf;Is.Runs=Ts;Is.RunListResponsesPage=wf;let Cf=class extends G{create(t,n){return this._client.post("/files",cr({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return _e(t)?this.list({},t):this._client.getAPIList("/files",_f,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(t);for(;!o.status||!i.has(o.status);)if(await Cs(n),o=await this.retrieve(t),Date.now()-s>r)throw new tf({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return o}};class _f extends Le{}Cf.FileObjectsPage=_f;class sx extends G{}let ox=class extends G{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class Sf extends G{constructor(){super(...arguments),this.graders=new ox(this._client)}}Sf.Graders=ox;class Ef extends G{create(t,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,kf,{body:n,method:"post",...r})}retrieve(t,n={},r){return _e(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}del(t,n,r){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,r)}}class kf extends Ml{}Ef.PermissionCreateResponsesPage=kf;let $l=class extends G{constructor(){super(...arguments),this.permissions=new Ef(this._client)}};$l.Permissions=Ef;$l.PermissionCreateResponsesPage=kf;class Tf extends G{list(t,n={},r){return _e(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,If,{query:n,...r})}}class If extends Le{}Tf.FineTuningJobCheckpointsPage=If;class ui extends G{constructor(){super(...arguments),this.checkpoints=new Tf(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return _e(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Pf,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return _e(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Af,{query:n,...r})}pause(t,n){return this._client.post(`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(`/fine_tuning/jobs/${t}/resume`,n)}}class Pf extends Le{}class Af extends Le{}ui.FineTuningJobsPage=Pf;ui.FineTuningJobEventsPage=Af;ui.Checkpoints=Tf;ui.FineTuningJobCheckpointsPage=If;class jn extends G{constructor(){super(...arguments),this.methods=new sx(this._client),this.jobs=new ui(this._client),this.checkpoints=new $l(this._client),this.alpha=new Sf(this._client)}}jn.Methods=sx;jn.Jobs=ui;jn.FineTuningJobsPage=Pf;jn.FineTuningJobEventsPage=Af;jn.Checkpoints=$l;jn.Alpha=Sf;class lx extends G{}class Nf extends G{constructor(){super(...arguments),this.graderModels=new lx(this._client)}}Nf.GraderModels=lx;class ax extends G{createVariation(t,n){return this._client.post("/images/variations",cr({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",cr({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class Rf extends G{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Mf,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class Mf extends Ml{}Rf.ModelsPage=Mf;class ux extends G{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function GE(e,t){return!t||!qE(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:cx(e,t)}function cx(e,t){const n=e.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:JE(t,i)};if(i.type==="message"){const s=i.content.map(o=>o.type==="output_text"?{...o,parsed:WE(t,o.text)}:o);return{...i,content:s}}return i}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||fx(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function WE(e,t){var n,r,i,s;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=e.text)==null?void 0:i.format)?((s=e.text)==null?void 0:s.format).$parseRaw(t):JSON.parse(t)}function qE(e){var t;return!!af((t=e.text)==null?void 0:t.format)}function KE(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function YE(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function JE(e,t){const n=YE(e.tools??[],t.name);return{...t,...t,parsed_arguments:KE(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function fx(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}class dx extends G{list(t,n={},r){return _e(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,QE,{query:n,...r})}}var Cr=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},vn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},_r,no,Cn,ro,kp,Tp,Ip,Pp;class bf extends sf{constructor(t){super(),_r.add(this),no.set(this,void 0),Cn.set(this,void 0),ro.set(this,void 0),Cr(this,no,t,"f")}static createResponse(t,n,r){const i=new bf(n);return i._run(()=>i._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(t,n,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),vn(this,_r,"m",kp).call(this);let s,o=null;"response_id"in n?(s=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),o=n.starting_after??null):s=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const a of s)vn(this,_r,"m",Tp).call(this,a,o);if((l=s.controller.signal)!=null&&l.aborted)throw new It;return vn(this,_r,"m",Ip).call(this)}[(no=new WeakMap,Cn=new WeakMap,ro=new WeakMap,_r=new WeakSet,kp=function(){this.ended||Cr(this,Cn,void 0,"f")},Tp=function(n,r){if(this.ended)return;const i=(o,l)=>{(r==null||l.sequence_number>r)&&this._emit(o,l)},s=vn(this,_r,"m",Pp).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const o=s.output[n.output_index];if(!o)throw new j(`missing output at index ${n.output_index}`);if(o.type==="message"){const l=o.content[n.content_index];if(!l)throw new j(`missing content at index ${n.content_index}`);if(l.type!=="output_text")throw new j(`expected content to be 'output_text', got ${l.type}`);i("response.output_text.delta",{...n,snapshot:l.text})}break}case"response.function_call_arguments.delta":{const o=s.output[n.output_index];if(!o)throw new j(`missing output at index ${n.output_index}`);o.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:o.arguments});break}default:i(n.type,n);break}},Ip=function(){if(this.ended)throw new j("stream has ended, this shouldn't happen");const n=vn(this,Cn,"f");if(!n)throw new j("request ended without sending any events");Cr(this,Cn,void 0,"f");const r=XE(n,vn(this,no,"f"));return Cr(this,ro,r,"f"),r},Pp=function(n){let r=vn(this,Cn,"f");if(!r){if(n.type!=="response.created")throw new j(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Cr(this,Cn,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new j(`missing output at index ${n.output_index}`);i.type==="message"&&i.content.push(n.part);break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new j(`missing output at index ${n.output_index}`);if(i.type==="message"){const s=i.content[n.content_index];if(!s)throw new j(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new j(`expected content to be 'output_text', got ${s.type}`);s.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new j(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.completed":{Cr(this,Cn,n.response,"f");break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=vn(this,ro,"f");if(!t)throw new j("stream ended without producing a ChatCompletion");return t}}function XE(e,t){return GE(e,t)}class Lf extends G{constructor(){super(...arguments),this.inputItems=new dx(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&fx(r),r))}retrieve(t,n={},r){return this._client.get(`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>cx(r,t))}stream(t,n){return bf.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(`/responses/${t}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class QE extends Le{}Lf.InputItems=dx;class hx extends G{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,cr({body:n,...r}))}}class Of extends G{constructor(){super(...arguments),this.parts=new hx(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}Of.Parts=hx;const ZE=async e=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of t)i.status==="fulfilled"&&r.push(i.value);return r};class zl extends G{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return _e(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,Bl,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(t,n,{...r,headers:i}).withResponse(),o=s.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=s.response.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await Cs(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:i.id},r)}async uploadAndPoll(t,n,r){const i=await this.upload(t,n,r);return await this.poll(t,i.id,r)}content(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,Df,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Bl extends Le{}class Df extends Ml{}zl.VectorStoreFilesPage=Bl;zl.FileContentResponsesPage=Df;class px extends G{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n);return await this.poll(t,i.id,r)}listFiles(t,n,r={},i){return _e(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,Bl,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(t,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await Cs(l);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),l=this._client,a=n.values(),u=[...r];async function c(p){for(let m of p){const w=await l.files.create({file:m,purpose:"assistants"},i);u.push(w.id)}}const f=Array(o).fill(a).map(c);return await ZE(f),await this.createAndPoll(t,{file_ids:u})}}class Gn extends G{constructor(){super(...arguments),this.files=new zl(this._client),this.fileBatches=new px(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return _e(t)?this.list({},t):this._client.getAPIList("/vector_stores",Ff,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/search`,$f,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Ff extends Le{}class $f extends Ml{}Gn.VectorStoresPage=Ff;Gn.VectorStoreSearchResponsesPage=$f;Gn.Files=zl;Gn.VectorStoreFilesPage=Bl;Gn.FileContentResponsesPage=Df;Gn.FileBatches=px;var mx;class q extends vE{constructor({baseURL:t=Xs("OPENAI_BASE_URL"),apiKey:n=Xs("OPENAI_API_KEY"),organization:r=Xs("OPENAI_ORG_ID")??null,project:i=Xs("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new j("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:i,...s,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&NE())throw new j(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new nx(this),this.chat=new Ol(this),this.embeddings=new ix(this),this.files=new Cf(this),this.images=new ax(this),this.audio=new _s(this),this.moderations=new ux(this),this.models=new Rf(this),this.fineTuning=new jn(this),this.graders=new Nf(this),this.vectorStores=new Gn(this),this.beta=new ai(this),this.batches=new nf(this),this.uploads=new Of(this),this.responses=new Lf(this),this.evals=new Is(this),this.containers=new ks(this),this._options=o,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return nE(t,{arrayFormat:"brackets"})}}mx=q;q.OpenAI=mx;q.DEFAULT_TIMEOUT=6e5;q.OpenAIError=j;q.APIError=Ve;q.APIConnectionError=Pl;q.APIConnectionTimeoutError=tf;q.APIUserAbortError=It;q.NotFoundError=h0;q.ConflictError=p0;q.RateLimitError=g0;q.BadRequestError=c0;q.AuthenticationError=f0;q.InternalServerError=y0;q.PermissionDeniedError=d0;q.UnprocessableEntityError=m0;q.toFile=S0;q.fileFromPath=l0;q.Completions=nx;q.Chat=Ol;q.ChatCompletionsPage=Ll;q.Embeddings=ix;q.Files=Cf;q.FileObjectsPage=_f;q.Images=ax;q.Audio=_s;q.Moderations=ux;q.Models=Rf;q.ModelsPage=Mf;q.FineTuning=jn;q.Graders=Nf;q.VectorStores=Gn;q.VectorStoresPage=Ff;q.VectorStoreSearchResponsesPage=$f;q.Beta=ai;q.Batches=nf;q.BatchesPage=rf;q.Uploads=Of;q.Responses=Lf;q.Evals=Is;q.EvalListResponsesPage=vf;q.Containers=ks;q.ContainerListResponsesPage=gf;const Ap=`You should always follow the instructions and output a valid JSON object.
The structure of the JSON object you can found in the instructions.

And you should always end the block with a "\`\`\`" to indicate the end of the JSON object.

IMPORTANT: You must output exactly one top-level JSON object inside a single fenced code block that starts with \`\`\`json and ends with \`\`\`.
IMPORTANT: You must only output one such fenced code block per response, without any additional code blocks or text outside it.
IMPORTANT: You must only output one such fenced code block per response, without any additional code blocks or text outside it.
IMPORTANT: You must only output one such fenced code block per response, without any additional code blocks or text outside it.

<instructions>
`,Np=`Output:
</instructions>

`;function ek(e){if(!e||e.trim().length===0)throw new Error("Empty response from AI");const t=/```(?:json\s+)?([\s\S]*?)```/,n=e.match(t);if(n&&n[1]){const l=n[1].trim();if(l.startsWith("{")||l.startsWith("["))return l}const r=e.trim();if(r.startsWith("{")||r.startsWith("["))return r;const i=r.indexOf("{"),s=r.indexOf("[");let o=-1;if(i!==-1&&s!==-1?o=Math.min(i,s):i!==-1?o=i:s!==-1&&(o=s),o!==-1){let l=0,a=0,u=!1,c=!1;for(let f=o;f<r.length;f++){const p=r[f];if(c){c=!1;continue}if(p==="\\"){c=!0;continue}if(p==='"'){u=!u;continue}if(!u&&(p==="{"&&l++,p==="}"&&l--,p==="["&&a++,p==="]"&&a--,l===0&&a===0&&f>o))return r.substring(o,f+1)}return r.substring(o)}throw new Error(`Could not extract valid JSON from response. Response preview: ${e.substring(0,200)}...`)}function tk(e){try{return JSON.parse(e)}catch(t){let n=e.replace(/^\uFEFF/,"").replace(/,(\s*[}\]])/g,"$1").replace(/'/g,'"').replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/.*/g,"").replace(/([{,]\s*)([a-zA-Z_][a-zA-Z0-9_]*)(\s*:)/g,'$1"$2"$3');try{return JSON.parse(n)}catch(r){throw new Error(`Failed to parse JSON even after repair attempts. Original error: ${t}. Repaired error: ${r}`)}}}function nk(e){const t=ek(e);return tk(t)}function gx(e){var t,n;if(e.provider==="openai"){if(!((t=e.openai)!=null&&t.apiKey))throw new Error("OpenAI API Key is missing in settings.")}else if(e.provider==="gemini"&&!((n=e.gemini)!=null&&n.apiKey))throw new Error("Gemini API Key is missing (process.env.API_KEY).")}function yx(e,t=0){var r,i;const n="  ".repeat(t);if(e.type===ce.OBJECT&&e.properties){let s=`{
`;for(const[o,l]of Object.entries(e.properties)){const a=l,u=(r=e.required)!=null&&r.includes(o)?" (required)":" (optional)",c=a.enum?` Enum: ${a.enum.join(", ")}`:"";s+=`${n}  "${o}": ${a.type}${u}${c},
`}return s+=`${n}}`,s}return e.type===ce.ARRAY&&e.items?`[
${yx(e.items,t+1)}
${n}]`:((i=e.type)==null?void 0:i.toLowerCase())||"object"}const ul=async(e,t)=>{var n;if(gx(e),e.provider==="gemini"){const r=((n=e.gemini)==null?void 0:n.apiKey)||void 0,i=new Qy({apiKey:r}),s={systemInstruction:t.systemInstruction};t.jsonMode&&(s.responseMimeType="application/json",t.jsonSchema&&(s.responseSchema=t.jsonSchema));try{return(await i.models.generateContent({model:"gemini-3-flash-preview",contents:t.prompt,config:s})).text||""}catch(o){throw console.error("Gemini Error:",o),new Error(`Gemini Error: ${o.message}`)}}if(e.provider==="openai"&&e.openai){const r=new q({apiKey:e.openai.apiKey,baseURL:e.openai.baseUrl||"https://api.openai.com/v1",dangerouslyAllowBrowser:!0}),i=t.jsonMode&&t.jsonSchema?`

Expected JSON Schema Structure:
${yx(t.jsonSchema)}

Strictly follow the structure above.`:t.jsonMode?`

Output must be a valid JSON object.`:"",s=t.jsonMode?t.systemInstruction?`${Ap}${t.systemInstruction}${i}
</instructions>
${Np}`:`${Ap}${i}
</instructions>
${Np}`:t.systemInstruction,o=[];s&&o.push({role:"system",content:s}),o.push({role:"user",content:t.prompt});try{const l={messages:o,model:e.openai.model},a=await r.chat.completions.create(l);if(t.jsonMode){const u=nk(a.choices[0].message.content||"");return console.log("JSON parsed successfully",u),JSON.stringify(u)}else return a.choices[0].message.content||""}catch(l){throw console.error("OpenAI Error:",l),new Error(`OpenAI Error: ${l.message}`)}}throw new Error("Invalid Provider Configuration")};async function*rk(e,t){var n,r,i;if(gx(e),e.provider==="gemini"){const s=((n=e.gemini)==null?void 0:n.apiKey)||void 0,l=await new Qy({apiKey:s}).models.generateContentStream({model:"gemini-3-flash-preview",contents:t.prompt,config:{systemInstruction:t.systemInstruction}});for await(const a of l)a.text&&(yield a.text);return}if(e.provider==="openai"&&e.openai){const s=new q({apiKey:e.openai.apiKey,baseURL:e.openai.baseUrl||"https://api.openai.com/v1",dangerouslyAllowBrowser:!0}),o=[];t.systemInstruction&&o.push({role:"system",content:t.systemInstruction}),o.push({role:"user",content:t.prompt});const l=await s.chat.completions.create({model:e.openai.model,messages:o,stream:!0});for await(const a of l){const u=(i=(r=a.choices[0])==null?void 0:r.delta)==null?void 0:i.content;u&&(yield u)}return}}const ik=1e3,xx=`
You are an expert Visual Designer.
Your task is to analyze the "Style Request" and "Content Sample" to generate a JSON "Design System" (CSS classes).

Rules:
1. Return strictly a JSON object matching the 'DocumentDesign' schema.
2. Use valid Tailwind CSS v3 utility classes.
3. **Visual Style**:
   - **WeChat/Social**: Decorative H2s (pills, borders), relaxed leading.
   - **Tech**: Dark/Gradient themes, mono fonts.
   - **Classic**: Serif fonts, paper textures.
4. **H2 Styling**: Be creative (gradients, capsules, borders) as this is the main visual anchor.
`,sk=`
You are a Senior Content Editor.
Your task is to ENHANCE the input text segment to match a specific style (e.g., WeChat Official Account, Tech Blog).

Rules:
1. **Output strictly Markdown**. No JSON. No wrapping text like "Here is the rewritten text".
2. **Formatting**:
   - Auto-generate **H2 (##)** titles if the text lacks structure.
   - Add **relevant Emojis** to headers (e.g., "##  Title").
   - Use **bolding** for key phrases.
   - Ensure paragraphs are readable (short & punchy).
3. **Context Awareness**:
   - This is part of a larger document.
   - If 'Previous Context' is provided, ensure flow continuity.
   - Do NOT add a document main H1 title unless it is the very first segment.
`,wx={id:{type:ce.STRING},themeName:{type:ce.STRING},layoutType:{type:ce.STRING,enum:["card","flat","multi-card"]},pageBackground:{type:ce.STRING},containerBackground:{type:ce.STRING},containerShadow:{type:ce.STRING},containerMaxWidth:{type:ce.STRING},containerPadding:{type:ce.STRING},containerBorderRadius:{type:ce.STRING},fontFamily:{type:ce.STRING},baseFontSize:{type:ce.STRING},lineHeight:{type:ce.STRING},textColor:{type:ce.STRING},titleSize:{type:ce.STRING},heading1:{type:ce.STRING},heading2:{type:ce.STRING},paragraph:{type:ce.STRING},blockquote:{type:ce.STRING},highlightColor:{type:ce.STRING},dividerStyle:{type:ce.STRING}},ok={type:ce.OBJECT,properties:wx,required:["themeName","layoutType","pageBackground","containerBackground","containerShadow","containerPadding","heading1","heading2","paragraph","blockquote","textColor","fontFamily","baseFontSize","highlightColor"]},lk={type:ce.ARRAY,items:{type:ce.OBJECT,properties:wx,required:["themeName","layoutType","pageBackground","containerBackground","heading2","textColor"]}};function ak(e,t){const n=e.split(`
`),r=[];let i="";for(const s of n)i.length+s.length>t&&i.length>0&&(r.push(i),i=""),i+=s+`
`;return i.trim().length>0&&r.push(i),r}const uk=async(e,t,n="auto")=>{const r=`
    Create 2 DISTINCT design variations based on this request: "${t}".
    One should be closer to the literal request, the other should be a creative interpretation.
    Layout Preference: ${n}.
    Ensure both have different 'themeName', colors, and 'heading2' styles.
  `;try{console.log("generateContent called with prompt:",r);const i=await ul(e,{prompt:r,systemInstruction:xx,jsonMode:!0,jsonSchema:lk});let s=[];try{const o=JSON.parse(i);Array.isArray(o)?s=o:o.items&&Array.isArray(o.items)?s=o.items:o.designs&&Array.isArray(o.designs)?s=o.designs:s=[o]}catch{throw new Error("Failed to parse design JSON response")}return s.map((o,l)=>({...o,id:`gen-${Date.now()}-${l}`}))}catch(i){throw console.error("Design Variation Error",i),i}},ck=async(e,t,n,r="auto",i,s)=>{let o;if(s&&s.id!=="default")o=s,i&&i("design",o);else{const c=n.slice(0,800),f=`
        STYLE REQUEST: ${t}
        LAYOUT PREFERENCE: ${r}
        CONTENT SAMPLE: ${c}
      `;try{const p=await ul(e,{prompt:f,systemInstruction:xx,jsonMode:!0,jsonSchema:ok});o=JSON.parse(p),o.id=`gen-single-${Date.now()}`,i&&i("design",o)}catch(p){throw console.error("Design Generation Error",p),new Error("Design generation failed.")}}const l=ak(n,ik);let a="",u="";for(let c=0;c<l.length;c++){const f=l[c],p=c===0,m=`
      STYLE REQUEST: ${t}
      PREVIOUS CONTEXT (End of last segment): "${u.slice(-300)}"
      IS START OF DOCUMENT: ${p}
      
      TEXT SEGMENT TO REWRITE:
      ${f}
    `;try{const x=await ul(e,{prompt:m,systemInstruction:sk,jsonMode:!1})||f;a+=x+`

`,u=x,i&&i("content",a)}catch(w){console.error(`Chunk ${c} processing error`,w),a+=f+`

`,i&&i("content",a)}}return{design:o,content:a}},fk=`#  LayoutForge AI 

**LayoutForge** AI 

##  

### 1. 
****AI 
*     (Backgrounds, Text colors)
*     (Font families, Sizes)
*     (Shadows, Borders, Rounded corners)

### 2. 
AI **** Markdown 
*    Emoji  
*   
*    H2 

### 3. 
*   ** (Card)**
*   ** (Flat)**
*   ** (Multi-Card)**AI 

---

##  

1.  **** Markdown
2.  ****
3.  **** Auto
4.  **** ** ** 
5.  **** **HTML** 

 **`,dk={zh:{appTitle:"LayoutForge AI",contentSource:"",write:"",preview:"",config:"",livePreview:"",desktop:"",mobile:"",copyConfig:"",copyHtml:"",copied:"!",stylePrompt:"",stylePlaceholder:"...",presets:"",generate:" + ",generateStyles:" (2)",generatingStyles:"...",generating:" & ...",theme:"",styleVariations:"",selectStyle:"",presetSaas:"",presetBlog:"",presetWeChat:"",presetDocs:"",error:"",language:"",proTip:"",sourceLabel:"",layoutMode:"",modeAuto:"",modeCard:"",modeFlat:"",modeMulti:"",multiCardTip:" H1/H2 ",autoDesc:"AI",cardDesc:"",flatDesc:"",multiDesc:"",aiSettings:"",providerGemini:"Google Gemini ()",providerOpenAI:"OpenAI Compatible",apiKey:"API Key",baseUrl:"Base URL ()",modelName:"",save:""},en:{appTitle:"LayoutForge AI",contentSource:"Content Source",write:"Write",preview:"Preview",config:"Settings",livePreview:"Styled Preview",desktop:"Desktop",mobile:"Mobile",copyConfig:"Copy Config",copyHtml:"Copy for WeChat",copied:"Copied!",stylePrompt:"Design Prompt",stylePlaceholder:"e.g., Minimalist, high whitespace, serif fonts, like a premium newspaper...",presets:"Quick Styles",generate:"Generate Style + Enhance",generateStyles:"Draft Styles (x2)",generatingStyles:"Designing...",generating:"Designing & Writing...",theme:"Current Design",styleVariations:"Style Variations",selectStyle:"Apply Style",presetSaas:"Tech: Dark mode, Sans-serif",presetBlog:"Reader: Warm paper, Serif",presetWeChat:"WeChat: Decorative Headers, Batched",presetDocs:"Business: Clean white, Strong headers",error:"Failed to generate design. Please try again.",language:"Language",proTip:"Tip: Long text is processed in batches. Watch it update live!",sourceLabel:"Content & Config",layoutMode:"Layout Structure",modeAuto:"Auto",modeCard:"Single Card",modeFlat:"Seamless",modeMulti:"Multi-Card",multiCardTip:"Content splits into cards via H1/H2 headers.",autoDesc:"AI Decision",cardDesc:"Paper Style",flatDesc:"Web Style",multiDesc:"Dashboard",aiSettings:"Inference Settings",providerGemini:"Google Gemini (Default)",providerOpenAI:"OpenAI Compatible",apiKey:"API Key",baseUrl:"Base URL (Optional)",modelName:"Model Name",save:"Save Config"}};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vx=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=X.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},a)=>X.createElement("svg",{ref:a,...pk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:vx("lucide",i),...l},[...o.map(([u,c])=>X.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=X.forwardRef(({className:r,...i},s)=>X.createElement(mk,{ref:s,iconNode:t,className:vx(`lucide-${hk(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Se("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Se("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Se("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=Se("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Se("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=Se("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mk=({content:e,onChange:t,placeholder:n})=>_.jsx("textarea",{value:e,onChange:r=>t(r.target.value),className:"w-full h-full p-6 resize-none outline-none text-sm leading-relaxed text-slate-700 font-mono bg-transparent",placeholder:n||"# Enter your content here..."});function bk(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Lk=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ok=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Dk={};function bp(e,t){return(Dk.jsx?Ok:Lk).test(e)}const Fk=/[ \t\n\f\r]/g;function $k(e){return typeof e=="object"?e.type==="text"?Lp(e.value):!1:Lp(e)}function Lp(e){return e.replace(Fk,"")===""}class Ps{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ps.prototype.normal={};Ps.prototype.property={};Ps.prototype.space=void 0;function Ex(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ps(n,r,t)}function Wu(e){return e.toLowerCase()}class at{constructor(t,n){this.attribute=n,this.property=t}}at.prototype.attribute="";at.prototype.booleanish=!1;at.prototype.boolean=!1;at.prototype.commaOrSpaceSeparated=!1;at.prototype.commaSeparated=!1;at.prototype.defined=!1;at.prototype.mustUseProperty=!1;at.prototype.number=!1;at.prototype.overloadedBoolean=!1;at.prototype.property="";at.prototype.spaceSeparated=!1;at.prototype.space=void 0;let zk=0;const Y=pr(),Ie=pr(),qu=pr(),L=pr(),fe=pr(),Yr=pr(),dt=pr();function pr(){return 2**++zk}const Ku=Object.freeze(Object.defineProperty({__proto__:null,boolean:Y,booleanish:Ie,commaOrSpaceSeparated:dt,commaSeparated:Yr,number:L,overloadedBoolean:qu,spaceSeparated:fe},Symbol.toStringTag,{value:"Module"})),Ia=Object.keys(Ku);class Bf extends at{constructor(t,n,r,i){let s=-1;if(super(t,n),Op(this,"space",i),typeof r=="number")for(;++s<Ia.length;){const o=Ia[s];Op(this,Ia[s],(r&Ku[o])===Ku[o])}}}Bf.prototype.defined=!0;function Op(e,t,n){n&&(e[t]=n)}function ci(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Bf(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Wu(r)]=r,n[Wu(s.attribute)]=r}return new Ps(t,n,e.space)}const kx=ci({properties:{ariaActiveDescendant:null,ariaAtomic:Ie,ariaAutoComplete:null,ariaBusy:Ie,ariaChecked:Ie,ariaColCount:L,ariaColIndex:L,ariaColSpan:L,ariaControls:fe,ariaCurrent:null,ariaDescribedBy:fe,ariaDetails:null,ariaDisabled:Ie,ariaDropEffect:fe,ariaErrorMessage:null,ariaExpanded:Ie,ariaFlowTo:fe,ariaGrabbed:Ie,ariaHasPopup:null,ariaHidden:Ie,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:fe,ariaLevel:L,ariaLive:null,ariaModal:Ie,ariaMultiLine:Ie,ariaMultiSelectable:Ie,ariaOrientation:null,ariaOwns:fe,ariaPlaceholder:null,ariaPosInSet:L,ariaPressed:Ie,ariaReadOnly:Ie,ariaRelevant:null,ariaRequired:Ie,ariaRoleDescription:fe,ariaRowCount:L,ariaRowIndex:L,ariaRowSpan:L,ariaSelected:Ie,ariaSetSize:L,ariaSort:null,ariaValueMax:L,ariaValueMin:L,ariaValueNow:L,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Tx(e,t){return t in e?e[t]:t}function Ix(e,t){return Tx(e,t.toLowerCase())}const Bk=ci({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yr,acceptCharset:fe,accessKey:fe,action:null,allow:null,allowFullScreen:Y,allowPaymentRequest:Y,allowUserMedia:Y,alt:null,as:null,async:Y,autoCapitalize:null,autoComplete:fe,autoFocus:Y,autoPlay:Y,blocking:fe,capture:null,charSet:null,checked:Y,cite:null,className:fe,cols:L,colSpan:null,content:null,contentEditable:Ie,controls:Y,controlsList:fe,coords:L|Yr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Y,defer:Y,dir:null,dirName:null,disabled:Y,download:qu,draggable:Ie,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Y,formTarget:null,headers:fe,height:L,hidden:qu,high:L,href:null,hrefLang:null,htmlFor:fe,httpEquiv:fe,id:null,imageSizes:null,imageSrcSet:null,inert:Y,inputMode:null,integrity:null,is:null,isMap:Y,itemId:null,itemProp:fe,itemRef:fe,itemScope:Y,itemType:fe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Y,low:L,manifest:null,max:null,maxLength:L,media:null,method:null,min:null,minLength:L,multiple:Y,muted:Y,name:null,nonce:null,noModule:Y,noValidate:Y,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Y,optimum:L,pattern:null,ping:fe,placeholder:null,playsInline:Y,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Y,referrerPolicy:null,rel:fe,required:Y,reversed:Y,rows:L,rowSpan:L,sandbox:fe,scope:null,scoped:Y,seamless:Y,selected:Y,shadowRootClonable:Y,shadowRootDelegatesFocus:Y,shadowRootMode:null,shape:null,size:L,sizes:null,slot:null,span:L,spellCheck:Ie,src:null,srcDoc:null,srcLang:null,srcSet:null,start:L,step:null,style:null,tabIndex:L,target:null,title:null,translate:null,type:null,typeMustMatch:Y,useMap:null,value:Ie,width:L,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:fe,axis:null,background:null,bgColor:null,border:L,borderColor:null,bottomMargin:L,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Y,declare:Y,event:null,face:null,frame:null,frameBorder:null,hSpace:L,leftMargin:L,link:null,longDesc:null,lowSrc:null,marginHeight:L,marginWidth:L,noResize:Y,noHref:Y,noShade:Y,noWrap:Y,object:null,profile:null,prompt:null,rev:null,rightMargin:L,rules:null,scheme:null,scrolling:Ie,standby:null,summary:null,text:null,topMargin:L,valueType:null,version:null,vAlign:null,vLink:null,vSpace:L,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Y,disableRemotePlayback:Y,prefix:null,property:null,results:L,security:null,unselectable:null},space:"html",transform:Ix}),Uk=ci({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:dt,accentHeight:L,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:L,amplitude:L,arabicForm:null,ascent:L,attributeName:null,attributeType:null,azimuth:L,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:L,by:null,calcMode:null,capHeight:L,className:fe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:L,diffuseConstant:L,direction:null,display:null,dur:null,divisor:L,dominantBaseline:null,download:Y,dx:null,dy:null,edgeMode:null,editable:null,elevation:L,enableBackground:null,end:null,event:null,exponent:L,externalResourcesRequired:null,fill:null,fillOpacity:L,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yr,g2:Yr,glyphName:Yr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:L,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:L,horizOriginX:L,horizOriginY:L,id:null,ideographic:L,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:L,k:L,k1:L,k2:L,k3:L,k4:L,kernelMatrix:dt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:L,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:L,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:L,overlineThickness:L,paintOrder:null,panose1:null,path:null,pathLength:L,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:fe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:L,pointsAtY:L,pointsAtZ:L,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:dt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:dt,rev:dt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:dt,requiredFeatures:dt,requiredFonts:dt,requiredFormats:dt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:L,specularExponent:L,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:L,strikethroughThickness:L,string:null,stroke:null,strokeDashArray:dt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:L,strokeOpacity:L,strokeWidth:null,style:null,surfaceScale:L,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:dt,tabIndex:L,tableValues:null,target:null,targetX:L,targetY:L,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:dt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:L,underlineThickness:L,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:L,values:null,vAlphabetic:L,vMathematical:L,vectorEffect:null,vHanging:L,vIdeographic:L,version:null,vertAdvY:L,vertOriginX:L,vertOriginY:L,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:L,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Tx}),Px=ci({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Ax=ci({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Ix}),Nx=ci({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Vk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Hk=/[A-Z]/g,Dp=/-[a-z]/g,jk=/^data[-\w.:]+$/i;function Gk(e,t){const n=Wu(t);let r=t,i=at;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jk.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Dp,qk);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Dp.test(s)){let o=s.replace(Hk,Wk);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Bf}return new i(r,t)}function Wk(e){return"-"+e.toLowerCase()}function qk(e){return e.charAt(1).toUpperCase()}const Kk=Ex([kx,Bk,Px,Ax,Nx],"html"),Uf=Ex([kx,Uk,Px,Ax,Nx],"svg");function Yk(e){return e.join(" ").trim()}var Vf={},Fp=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Jk=/\n/g,Xk=/^\s*/,Qk=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Zk=/^:\s*/,eT=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,tT=/^[;\s]*/,nT=/^\s+|\s+$/g,rT=`
`,$p="/",zp="*",Qn="",iT="comment",sT="declaration";function oT(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(w){var x=w.match(Jk);x&&(n+=x.length);var S=w.lastIndexOf(rT);r=~S?w.length-S:r+w.length}function s(){var w={line:n,column:r};return function(x){return x.position=new o(w),u(),x}}function o(w){this.start=w,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(w){var x=new Error(t.source+":"+n+":"+r+": "+w);if(x.reason=w,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function a(w){var x=w.exec(e);if(x){var S=x[0];return i(S),e=e.slice(S.length),x}}function u(){a(Xk)}function c(w){var x;for(w=w||[];x=f();)x!==!1&&w.push(x);return w}function f(){var w=s();if(!($p!=e.charAt(0)||zp!=e.charAt(1))){for(var x=2;Qn!=e.charAt(x)&&(zp!=e.charAt(x)||$p!=e.charAt(x+1));)++x;if(x+=2,Qn===e.charAt(x-1))return l("End of comment missing");var S=e.slice(2,x-2);return r+=2,i(S),e=e.slice(x),r+=2,w({type:iT,comment:S})}}function p(){var w=s(),x=a(Qk);if(x){if(f(),!a(Zk))return l("property missing ':'");var S=a(eT),y=w({type:sT,property:Bp(x[0].replace(Fp,Qn)),value:S?Bp(S[0].replace(Fp,Qn)):Qn});return a(tT),y}}function m(){var w=[];c(w);for(var x;x=p();)x!==!1&&(w.push(x),c(w));return w}return u(),m()}function Bp(e){return e?e.replace(nT,Qn):Qn}var lT=oT,aT=Mo&&Mo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.default=cT;const uT=aT(lT);function cT(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,uT.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:l}=s;i?t(o,l,s):l&&(n=n||{},n[o]=l)}),n}var Ul={};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.camelCase=void 0;var fT=/^--[a-zA-Z0-9_-]+$/,dT=/-([a-z])/g,hT=/^[^-]+$/,pT=/^-(webkit|moz|ms|o|khtml)-/,mT=/^-(ms)-/,gT=function(e){return!e||hT.test(e)||fT.test(e)},yT=function(e,t){return t.toUpperCase()},Up=function(e,t){return"".concat(t,"-")},xT=function(e,t){return t===void 0&&(t={}),gT(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(mT,Up):e=e.replace(pT,Up),e.replace(dT,yT))};Ul.camelCase=xT;var wT=Mo&&Mo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},vT=wT(Vf),CT=Ul;function Yu(e,t){var n={};return!e||typeof e!="string"||(0,vT.default)(e,function(r,i){r&&i&&(n[(0,CT.camelCase)(r,t)]=i)}),n}Yu.default=Yu;var _T=Yu;const ST=rc(_T),Rx=Mx("end"),Hf=Mx("start");function Mx(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ET(e){const t=Hf(e),n=Rx(e);if(t&&n)return{start:t,end:n}}function Gi(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Vp(e.position):"start"in e||"end"in e?Vp(e):"line"in e||"column"in e?Ju(e):""}function Ju(e){return Hp(e&&e.line)+":"+Hp(e&&e.column)}function Vp(e){return Ju(e&&e.start)+"-"+Ju(e&&e.end)}function Hp(e){return e&&typeof e=="number"?e:1}class Ke extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?s.ruleId=r:(s.source=r.slice(0,a),s.ruleId=r.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Gi(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ke.prototype.file="";Ke.prototype.name="";Ke.prototype.reason="";Ke.prototype.message="";Ke.prototype.stack="";Ke.prototype.column=void 0;Ke.prototype.line=void 0;Ke.prototype.ancestors=void 0;Ke.prototype.cause=void 0;Ke.prototype.fatal=void 0;Ke.prototype.place=void 0;Ke.prototype.ruleId=void 0;Ke.prototype.source=void 0;const jf={}.hasOwnProperty,kT=new Map,TT=/[A-Z]/g,IT=new Set(["table","tbody","thead","tfoot","tr"]),PT=new Set(["td","th"]),bx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function AT(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=FT(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=DT(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Uf:Kk,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Lx(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Lx(e,t,n){if(t.type==="element")return NT(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return RT(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return bT(e,t,n);if(t.type==="mdxjsEsm")return MT(e,t);if(t.type==="root")return LT(e,t,n);if(t.type==="text")return OT(e,t)}function NT(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Uf,e.schema=i),e.ancestors.push(t);const s=Dx(e,t.tagName,!1),o=$T(e,t);let l=Wf(e,t);return IT.has(t.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!$k(a):!0})),Ox(e,o,s,t),Gf(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function RT(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ps(e,t.position)}function MT(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ps(e,t.position)}function bT(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Uf,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Dx(e,t.name,!0),o=zT(e,t),l=Wf(e,t);return Ox(e,o,s,t),Gf(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function LT(e,t,n){const r={};return Gf(r,Wf(e,t)),e.create(t,e.Fragment,r,n)}function OT(e,t){return t.value}function Ox(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Gf(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function DT(e,t,n){return r;function r(i,s,o,l){const u=Array.isArray(o.children)?n:t;return l?u(s,o,l):u(s,o)}}function FT(e,t){return n;function n(r,i,s,o){const l=Array.isArray(s.children),a=Hf(r);return t(i,s,o,l,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function $T(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&jf.call(t.properties,i)){const s=BT(e,i,t.properties[i]);if(s){const[o,l]=s;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&PT.has(t.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function zT(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else ps(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else ps(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Wf(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:kT;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const a=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(a){const u=i.get(a)||0;o=a+"-"+u,i.set(a,u+1)}}const l=Lx(e,s,o);l!==void 0&&n.push(l)}return n}function BT(e,t,n){const r=Gk(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?bk(n):Yk(n)),r.property==="style"){let i=typeof n=="object"?n:UT(e,String(n));return e.stylePropertyNameCase==="css"&&(i=VT(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Vk[r.property]||r.property:r.attribute,n]}}function UT(e,t){try{return ST(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ke("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=bx+"#cannot-parse-style-attribute",i}}function Dx(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const l=bp(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=bp(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return jf.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ps(e)}function ps(e,t){const n=new Ke("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=bx+"#cannot-handle-mdx-estrees-without-createevaluater",n}function VT(e){const t={};let n;for(n in e)jf.call(e,n)&&(t[HT(n)]=e[n]);return t}function HT(e){let t=e.replace(TT,jT);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function jT(e){return"-"+e.toLowerCase()}const Pa={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},GT={};function WT(e,t){const n=GT,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Fx(e,r,i)}function Fx(e,t,n){if(qT(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return jp(e.children,t,n)}return Array.isArray(e)?jp(e,t,n):""}function jp(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Fx(e[i],t,n);return r.join("")}function qT(e){return!!(e&&typeof e=="object")}const Gp=document.createElement("i");function qf(e){const t="&"+e+";";Gp.innerHTML=t;const n=Gp.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function tn(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Et(e,t){return e.length>0?(tn(e,e.length,0,t),e):t}const Wp={}.hasOwnProperty;function KT(e){const t={};let n=-1;for(;++n<e.length;)YT(t,e[n]);return t}function YT(e,t){let n;for(n in t){const i=(Wp.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Wp.call(i,o)||(i[o]=[]);const l=s[o];JT(i[o],Array.isArray(l)?l:l?[l]:[])}}}function JT(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);tn(e,0,0,r)}function $x(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Jr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xt=Wn(/[A-Za-z]/),gt=Wn(/[\dA-Za-z]/),XT=Wn(/[#-'*+\--9=?A-Z^-~]/);function Xu(e){return e!==null&&(e<32||e===127)}const Qu=Wn(/\d/),QT=Wn(/[\dA-Fa-f]/),ZT=Wn(/[!-/:-@[-`{-~]/);function W(e){return e!==null&&e<-2}function lt(e){return e!==null&&(e<0||e===32)}function re(e){return e===-2||e===-1||e===32}const eI=Wn(new RegExp("\\p{P}|\\p{S}","u")),tI=Wn(/\s/);function Wn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function fi(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&gt(e.charCodeAt(n+1))&&gt(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function he(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(a){return re(a)?(e.enter(n),l(a)):t(a)}function l(a){return re(a)&&s++<i?(e.consume(a),l):(e.exit(n),t(a))}}const nI={tokenize:rI};function rI(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),he(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return W(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),o)}}const iI={tokenize:sI},qp={tokenize:oI};function sI(e){const t=this,n=[];let r=0,i,s,o;return l;function l(v){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,a,u)(v)}return u(v)}function a(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&g();const T=t.events.length;let P=T,k;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){k=t.events[P][1].end;break}y(r);let I=T;for(;I<t.events.length;)t.events[I][1].end={...k},I++;return tn(t.events,P+1,0,t.events.slice(T)),t.events.length=I,u(v)}return l(v)}function u(v){if(r===n.length){if(!i)return p(v);if(i.currentConstruct&&i.currentConstruct.concrete)return w(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(qp,c,f)(v)}function c(v){return i&&g(),y(r),p(v)}function f(v){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(v)}function p(v){return t.containerState={},e.attempt(qp,m,w)(v)}function m(v){return r++,n.push([t.currentConstruct,t.containerState]),p(v)}function w(v){if(v===null){i&&g(),y(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(v)}function x(v){if(v===null){S(e.exit("chunkFlow"),!0),y(0),e.consume(v);return}return W(v)?(e.consume(v),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(v),x)}function S(v,T){const P=t.sliceStream(v);if(T&&P.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(P),t.parser.lazy[v.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<o&&(!i.events[k][1].end||i.events[k][1].end.offset>o))return;const I=t.events.length;let N=I,D,R;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(D){R=t.events[N][1].end;break}D=!0}for(y(r),k=I;k<t.events.length;)t.events[k][1].end={...R},k++;tn(t.events,N+1,0,t.events.slice(I)),t.events.length=k}}function y(v){let T=n.length;for(;T-- >v;){const P=n[T];t.containerState=P[1],P[0].exit.call(t,e)}n.length=v}function g(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function oI(e,t,n){return he(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Kp(e){if(e===null||lt(e)||tI(e))return 1;if(eI(e))return 2}function Kf(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Zu={name:"attention",resolveAll:lI,tokenize:aI};function lI(e,t){let n=-1,r,i,s,o,l,a,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};Yp(f,-a),Yp(p,a),o={type:a>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Et(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Et(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=Et(u,Kf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Et(u,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Et(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,tn(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function aI(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Kp(r);let s;return o;function o(a){return s=a,e.enter("attentionSequence"),l(a)}function l(a){if(a===s)return e.consume(a),l;const u=e.exit("attentionSequence"),c=Kp(a),f=!c||c===2&&i||n.includes(a),p=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?f:f&&(i||!p)),u._close=!!(s===42?p:p&&(c||!f)),t(a)}}function Yp(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const uI={name:"autolink",tokenize:cI};function cI(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(m){return Xt(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||gt(m)?(r=1,l(m)):u(m)}function l(m){return m===58?(e.consume(m),r=0,a):(m===43||m===45||m===46||gt(m))&&r++<32?(e.consume(m),l):(r=0,u(m))}function a(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Xu(m)?n(m):(e.consume(m),a)}function u(m){return m===64?(e.consume(m),c):XT(m)?(e.consume(m),u):n(m)}function c(m){return gt(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,c):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||gt(m))&&r++<63){const w=m===45?p:f;return e.consume(m),w}return n(m)}}const Vl={partial:!0,tokenize:fI};function fI(e,t,n){return r;function r(s){return re(s)?he(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||W(s)?t(s):n(s)}}const zx={continuation:{tokenize:hI},exit:pI,name:"blockQuote",tokenize:dI};function dI(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return re(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function hI(e,t,n){const r=this;return i;function i(o){return re(o)?he(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(zx,t,n)(o)}}function pI(e){e.exit("blockQuote")}const Bx={name:"characterEscape",tokenize:mI};function mI(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return ZT(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Ux={name:"characterReference",tokenize:gI};function gI(e,t,n){const r=this;let i=0,s,o;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),a}function a(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=gt,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=QT,c):(e.enter("characterReferenceValue"),s=7,o=Qu,c(f))}function c(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return o===gt&&!qf(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),c):n(f)}}const Jp={partial:!0,tokenize:xI},Xp={concrete:!0,name:"codeFenced",tokenize:yI};function yI(e,t,n){const r=this,i={partial:!0,tokenize:P};let s=0,o=0,l;return a;function a(k){return u(k)}function u(k){const I=r.events[r.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,l=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===l?(o++,e.consume(k),c):o<3?n(k):(e.exit("codeFencedFenceSequence"),re(k)?he(e,f,"whitespace")(k):f(k))}function f(k){return k===null||W(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(Jp,x,T)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||W(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):re(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),he(e,m,"whitespace")(k)):k===96&&k===l?n(k):(e.consume(k),p)}function m(k){return k===null||W(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===null||W(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===l?n(k):(e.consume(k),w)}function x(k){return e.attempt(i,T,S)(k)}function S(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),y}function y(k){return s>0&&re(k)?he(e,g,"linePrefix",s+1)(k):g(k)}function g(k){return k===null||W(k)?e.check(Jp,x,T)(k):(e.enter("codeFlowValue"),v(k))}function v(k){return k===null||W(k)?(e.exit("codeFlowValue"),g(k)):(e.consume(k),v)}function T(k){return e.exit("codeFenced"),t(k)}function P(k,I,N){let D=0;return R;function R(U){return k.enter("lineEnding"),k.consume(U),k.exit("lineEnding"),M}function M(U){return k.enter("codeFencedFence"),re(U)?he(k,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):$(U)}function $(U){return U===l?(k.enter("codeFencedFenceSequence"),H(U)):N(U)}function H(U){return U===l?(D++,k.consume(U),H):D>=o?(k.exit("codeFencedFenceSequence"),re(U)?he(k,Z,"whitespace")(U):Z(U)):N(U)}function Z(U){return U===null||W(U)?(k.exit("codeFencedFence"),I(U)):N(U)}}}function xI(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Aa={name:"codeIndented",tokenize:vI},wI={partial:!0,tokenize:CI};function vI(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),he(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?a(u):W(u)?e.attempt(wI,o,a)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||W(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function a(u){return e.exit("codeIndented"),t(u)}}function CI(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):W(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):he(e,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):W(o)?i(o):n(o)}}const _I={name:"codeText",previous:EI,resolve:SI,tokenize:kI};function SI(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function EI(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kI(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),a(f))}function a(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),a):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):W(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||W(f)?(e.exit("codeTextData"),a(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class TI{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&_i(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),_i(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),_i(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);_i(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);_i(this.left,n.reverse())}}}function _i(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Vx(e){const t={};let n=-1,r,i,s,o,l,a,u;const c=new TI(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,II(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},l=c.slice(i,n),l.unshift(r),c.splice(i,n-i+1,l))}}return tn(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function II(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,a=[],u={};let c,f,p=-1,m=n,w=0,x=0;const S=[x];for(;m;){for(;e.get(++i)[1]!==m;);s.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(x=p+1,S.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):S.pop(),p=S.length;p--;){const y=l.slice(S[p],S[p+1]),g=s.pop();a.push([g,g+y.length-1]),e.splice(g,2,y)}for(a.reverse(),p=-1;++p<a.length;)u[w+a[p][0]]=w+a[p][1],w+=a[p][1]-a[p][0]-1;return u}const PI={resolve:NI,tokenize:RI},AI={partial:!0,tokenize:MI};function NI(e){return Vx(e),e}function RI(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):W(l)?e.check(AI,o,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function MI(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),he(e,s,"linePrefix")}function s(o){if(o===null||W(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Hx(e,t,n,r,i,s,o,l,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),p):y===null||y===32||y===41||Xu(y)?n(y):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),x(y))}function p(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(l),p(y)):y===null||y===60||W(y)?n(y):(e.consume(y),y===92?w:m)}function w(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function x(y){return!c&&(y===null||y===41||lt(y))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,x):y===41?(e.consume(y),c--,x):y===null||y===32||y===40||Xu(y)?n(y):(e.consume(y),y===92?S:x)}function S(y){return y===40||y===41||y===92?(e.consume(y),x):x(y)}}function jx(e,t,n,r,i,s){const o=this;let l=0,a;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(s),c}function c(m){return l>999||m===null||m===91||m===93&&!a||m===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(s),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):W(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||W(m)||l++>999?(e.exit("chunkString"),c(m)):(e.consume(m),a||(a=!re(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),l++,f):f(m)}}function Gx(e,t,n,r,i,s){let o;return l;function l(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,a):n(p)}function a(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),u(p))}function u(p){return p===o?(e.exit(s),a(o)):p===null?n(p):W(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),he(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===o||p===null||W(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:c)}function f(p){return p===o||p===92?(e.consume(p),c):c(p)}}function Wi(e,t){let n;return r;function r(i){return W(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):re(i)?he(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const bI={name:"definition",tokenize:OI},LI={partial:!0,tokenize:DI};function OI(e,t,n){const r=this;let i;return s;function s(m){return e.enter("definition"),o(m)}function o(m){return jx.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=Jr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a):n(m)}function a(m){return lt(m)?Wi(e,u)(m):u(m)}function u(m){return Hx(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function c(m){return e.attempt(LI,f,f)(m)}function f(m){return re(m)?he(e,p,"whitespace")(m):p(m)}function p(m){return m===null||W(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function DI(e,t,n){return r;function r(l){return lt(l)?Wi(e,i)(l):n(l)}function i(l){return Gx(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return re(l)?he(e,o,"whitespace")(l):o(l)}function o(l){return l===null||W(l)?t(l):n(l)}}const FI={name:"hardBreakEscape",tokenize:$I};function $I(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return W(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const zI={name:"headingAtx",resolve:BI,tokenize:UI};function BI(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},tn(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function UI(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||lt(c)?(e.exit("atxHeadingSequence"),l(c)):n(c)}function l(c){return c===35?(e.enter("atxHeadingSequence"),a(c)):c===null||W(c)?(e.exit("atxHeading"),t(c)):re(c)?he(e,l,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function a(c){return c===35?(e.consume(c),a):(e.exit("atxHeadingSequence"),l(c))}function u(c){return c===null||c===35||lt(c)?(e.exit("atxHeadingText"),l(c)):(e.consume(c),u)}}const VI=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Qp=["pre","script","style","textarea"],HI={concrete:!0,name:"htmlFlow",resolveTo:WI,tokenize:qI},jI={partial:!0,tokenize:YI},GI={partial:!0,tokenize:KI};function WI(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function qI(e,t,n){const r=this;let i,s,o,l,a;return u;function u(E){return c(E)}function c(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),f}function f(E){return E===33?(e.consume(E),p):E===47?(e.consume(E),s=!0,x):E===63?(e.consume(E),i=3,r.interrupt?t:C):Xt(E)?(e.consume(E),o=String.fromCharCode(E),S):n(E)}function p(E){return E===45?(e.consume(E),i=2,m):E===91?(e.consume(E),i=5,l=0,w):Xt(E)?(e.consume(E),i=4,r.interrupt?t:C):n(E)}function m(E){return E===45?(e.consume(E),r.interrupt?t:C):n(E)}function w(E){const Ae="CDATA[";return E===Ae.charCodeAt(l++)?(e.consume(E),l===Ae.length?r.interrupt?t:$:w):n(E)}function x(E){return Xt(E)?(e.consume(E),o=String.fromCharCode(E),S):n(E)}function S(E){if(E===null||E===47||E===62||lt(E)){const Ae=E===47,Rt=o.toLowerCase();return!Ae&&!s&&Qp.includes(Rt)?(i=1,r.interrupt?t(E):$(E)):VI.includes(o.toLowerCase())?(i=6,Ae?(e.consume(E),y):r.interrupt?t(E):$(E)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(E):s?g(E):v(E))}return E===45||gt(E)?(e.consume(E),o+=String.fromCharCode(E),S):n(E)}function y(E){return E===62?(e.consume(E),r.interrupt?t:$):n(E)}function g(E){return re(E)?(e.consume(E),g):R(E)}function v(E){return E===47?(e.consume(E),R):E===58||E===95||Xt(E)?(e.consume(E),T):re(E)?(e.consume(E),v):R(E)}function T(E){return E===45||E===46||E===58||E===95||gt(E)?(e.consume(E),T):P(E)}function P(E){return E===61?(e.consume(E),k):re(E)?(e.consume(E),P):v(E)}function k(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),a=E,I):re(E)?(e.consume(E),k):N(E)}function I(E){return E===a?(e.consume(E),a=null,D):E===null||W(E)?n(E):(e.consume(E),I)}function N(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||lt(E)?P(E):(e.consume(E),N)}function D(E){return E===47||E===62||re(E)?v(E):n(E)}function R(E){return E===62?(e.consume(E),M):n(E)}function M(E){return E===null||W(E)?$(E):re(E)?(e.consume(E),M):n(E)}function $(E){return E===45&&i===2?(e.consume(E),Q):E===60&&i===1?(e.consume(E),le):E===62&&i===4?(e.consume(E),J):E===63&&i===3?(e.consume(E),C):E===93&&i===5?(e.consume(E),V):W(E)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(jI,ie,H)(E)):E===null||W(E)?(e.exit("htmlFlowData"),H(E)):(e.consume(E),$)}function H(E){return e.check(GI,Z,ie)(E)}function Z(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),U}function U(E){return E===null||W(E)?H(E):(e.enter("htmlFlowData"),$(E))}function Q(E){return E===45?(e.consume(E),C):$(E)}function le(E){return E===47?(e.consume(E),o="",O):$(E)}function O(E){if(E===62){const Ae=o.toLowerCase();return Qp.includes(Ae)?(e.consume(E),J):$(E)}return Xt(E)&&o.length<8?(e.consume(E),o+=String.fromCharCode(E),O):$(E)}function V(E){return E===93?(e.consume(E),C):$(E)}function C(E){return E===62?(e.consume(E),J):E===45&&i===2?(e.consume(E),C):$(E)}function J(E){return E===null||W(E)?(e.exit("htmlFlowData"),ie(E)):(e.consume(E),J)}function ie(E){return e.exit("htmlFlow"),t(E)}}function KI(e,t,n){const r=this;return i;function i(o){return W(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function YI(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Vl,t,n)}}const JI={name:"htmlText",tokenize:XI};function XI(e,t,n){const r=this;let i,s,o;return l;function l(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),a}function a(C){return C===33?(e.consume(C),u):C===47?(e.consume(C),P):C===63?(e.consume(C),v):Xt(C)?(e.consume(C),N):n(C)}function u(C){return C===45?(e.consume(C),c):C===91?(e.consume(C),s=0,w):Xt(C)?(e.consume(C),g):n(C)}function c(C){return C===45?(e.consume(C),m):n(C)}function f(C){return C===null?n(C):C===45?(e.consume(C),p):W(C)?(o=f,le(C)):(e.consume(C),f)}function p(C){return C===45?(e.consume(C),m):f(C)}function m(C){return C===62?Q(C):C===45?p(C):f(C)}function w(C){const J="CDATA[";return C===J.charCodeAt(s++)?(e.consume(C),s===J.length?x:w):n(C)}function x(C){return C===null?n(C):C===93?(e.consume(C),S):W(C)?(o=x,le(C)):(e.consume(C),x)}function S(C){return C===93?(e.consume(C),y):x(C)}function y(C){return C===62?Q(C):C===93?(e.consume(C),y):x(C)}function g(C){return C===null||C===62?Q(C):W(C)?(o=g,le(C)):(e.consume(C),g)}function v(C){return C===null?n(C):C===63?(e.consume(C),T):W(C)?(o=v,le(C)):(e.consume(C),v)}function T(C){return C===62?Q(C):v(C)}function P(C){return Xt(C)?(e.consume(C),k):n(C)}function k(C){return C===45||gt(C)?(e.consume(C),k):I(C)}function I(C){return W(C)?(o=I,le(C)):re(C)?(e.consume(C),I):Q(C)}function N(C){return C===45||gt(C)?(e.consume(C),N):C===47||C===62||lt(C)?D(C):n(C)}function D(C){return C===47?(e.consume(C),Q):C===58||C===95||Xt(C)?(e.consume(C),R):W(C)?(o=D,le(C)):re(C)?(e.consume(C),D):Q(C)}function R(C){return C===45||C===46||C===58||C===95||gt(C)?(e.consume(C),R):M(C)}function M(C){return C===61?(e.consume(C),$):W(C)?(o=M,le(C)):re(C)?(e.consume(C),M):D(C)}function $(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,H):W(C)?(o=$,le(C)):re(C)?(e.consume(C),$):(e.consume(C),Z)}function H(C){return C===i?(e.consume(C),i=void 0,U):C===null?n(C):W(C)?(o=H,le(C)):(e.consume(C),H)}function Z(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||lt(C)?D(C):(e.consume(C),Z)}function U(C){return C===47||C===62||lt(C)?D(C):n(C)}function Q(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function le(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),O}function O(C){return re(C)?he(e,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):V(C)}function V(C){return e.enter("htmlTextData"),o(C)}}const Yf={name:"labelEnd",resolveAll:tP,resolveTo:nP,tokenize:rP},QI={tokenize:iP},ZI={tokenize:sP},eP={tokenize:oP};function tP(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&tn(e,0,e.length,n),e}function nP(e,t){let n=e.length,r=0,i,s,o,l;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",a,t],["enter",u,t]],l=Et(l,e.slice(s+1,s+r+3)),l=Et(l,[["enter",c,t]]),l=Et(l,Kf(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),l=Et(l,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),l=Et(l,e.slice(o+1)),l=Et(l,[["exit",a,t]]),tn(e,s,e.length,l),e}function rP(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(Jr(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),a):n(p)}function a(p){return p===40?e.attempt(QI,c,o?c:f)(p):p===91?e.attempt(ZI,c,o?u:f)(p):o?c(p):f(p)}function u(p){return e.attempt(eP,c,f)(p)}function c(p){return t(p)}function f(p){return s._balanced=!0,n(p)}}function iP(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return lt(f)?Wi(e,s)(f):s(f)}function s(f){return f===41?c(f):Hx(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return lt(f)?Wi(e,a)(f):c(f)}function l(f){return n(f)}function a(f){return f===34||f===39||f===40?Gx(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return lt(f)?Wi(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function sP(e,t,n){const r=this;return i;function i(l){return jx.call(r,e,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Jr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function oP(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const lP={name:"labelStartImage",resolveAll:Yf.resolveAll,tokenize:aP};function aP(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const uP={name:"labelStartLink",resolveAll:Yf.resolveAll,tokenize:cP};function cP(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Na={name:"lineEnding",tokenize:fP};function fP(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),he(e,t,"linePrefix")}}const No={name:"thematicBreak",tokenize:dP};function dP(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||W(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),re(u)?he(e,l,"whitespace")(u):l(u))}}const et={continuation:{tokenize:gP},exit:xP,name:"list",tokenize:mP},hP={partial:!0,tokenize:wP},pP={partial:!0,tokenize:yP};function mP(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(m){const w=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Qu(m)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(No,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(m)}return n(m)}function a(m){return Qu(m)&&++o<10?(e.consume(m),a):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Vl,r.interrupt?n:c,e.attempt(hP,p,f))}function c(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function f(m){return re(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function gP(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Vl,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,he(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!re(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(pP,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,he(e,e.attempt(et,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function yP(e,t,n){const r=this;return he(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function xP(e){e.exit(this.containerState.type)}function wP(e,t,n){const r=this;return he(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!re(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Zp={name:"setextUnderline",resolveTo:vP,tokenize:CP};function vP(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function CP(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),re(u)?he(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||W(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const _P={tokenize:SP};function SP(e){const t=this,n=e.attempt(Vl,r,e.attempt(this.parser.constructs.flowInitial,i,he(e,e.attempt(this.parser.constructs.flow,i,e.attempt(PI,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const EP={resolveAll:qx()},kP=Wx("string"),TP=Wx("text");function Wx(e){return{resolveAll:qx(e==="text"?IP:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,l);return o;function o(c){return u(c)?s(c):l(c)}function l(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const f=i[c];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function qx(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function IP(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,l=0,a;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)a=!0,l++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const PP={42:et,43:et,45:et,48:et,49:et,50:et,51:et,52:et,53:et,54:et,55:et,56:et,57:et,62:zx},AP={91:bI},NP={[-2]:Aa,[-1]:Aa,32:Aa},RP={35:zI,42:No,45:[Zp,No],60:HI,61:Zp,95:No,96:Xp,126:Xp},MP={38:Ux,92:Bx},bP={[-5]:Na,[-4]:Na,[-3]:Na,33:lP,38:Ux,42:Zu,60:[uI,JI],91:uP,92:[FI,Bx],93:Yf,95:Zu,96:_I},LP={null:[Zu,EP]},OP={null:[42,95]},DP={null:[]},FP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:OP,contentInitial:AP,disable:DP,document:PP,flow:RP,flowInitial:NP,insideSpan:LP,string:MP,text:bP},Symbol.toStringTag,{value:"Module"}));function $P(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],l=[];const a={attempt:I(P),check:I(k),consume:g,enter:v,exit:T,interrupt:I(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:w,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let c=t.tokenize.call(u,a);return t.resolveAll&&s.push(t),u;function f(M){return o=Et(o,M),S(),o[o.length-1]!==null?[]:(N(t,0),u.events=Kf(s,u.events,u),u.events)}function p(M,$){return BP(m(M),$)}function m(M){return zP(o,M)}function w(){const{_bufferIndex:M,_index:$,line:H,column:Z,offset:U}=r;return{_bufferIndex:M,_index:$,line:H,column:Z,offset:U}}function x(M){i[M.line]=M.column,R()}function S(){let M;for(;r._index<o.length;){const $=o[r._index];if(typeof $=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<$.length;)y($.charCodeAt(r._bufferIndex));else y($)}}function y(M){c=c(M)}function g(M){W(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,R()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=M}function v(M,$){const H=$||{};return H.type=M,H.start=w(),u.events.push(["enter",H,u]),l.push(H),H}function T(M){const $=l.pop();return $.end=w(),u.events.push(["exit",$,u]),$}function P(M,$){N(M,$.from)}function k(M,$){$.restore()}function I(M,$){return H;function H(Z,U,Q){let le,O,V,C;return Array.isArray(Z)?ie(Z):"tokenize"in Z?ie([Z]):J(Z);function J(pe){return Ht;function Ht(yn){const mr=yn!==null&&pe[yn],gr=yn!==null&&pe.null,Ns=[...Array.isArray(mr)?mr:mr?[mr]:[],...Array.isArray(gr)?gr:gr?[gr]:[]];return ie(Ns)(yn)}}function ie(pe){return le=pe,O=0,pe.length===0?Q:E(pe[O])}function E(pe){return Ht;function Ht(yn){return C=D(),V=pe,pe.partial||(u.currentConstruct=pe),pe.name&&u.parser.constructs.disable.null.includes(pe.name)?Rt():pe.tokenize.call($?Object.assign(Object.create(u),$):u,a,Ae,Rt)(yn)}}function Ae(pe){return M(V,C),U}function Rt(pe){return C.restore(),++O<le.length?E(le[O]):Q}}}function N(M,$){M.resolveAll&&!s.includes(M)&&s.push(M),M.resolve&&tn(u.events,$,u.events.length-$,M.resolve(u.events.slice($),u)),M.resolveTo&&(u.events=M.resolveTo(u.events,u))}function D(){const M=w(),$=u.previous,H=u.currentConstruct,Z=u.events.length,U=Array.from(l);return{from:Z,restore:Q};function Q(){r=M,u.previous=$,u.currentConstruct=H,u.events.length=Z,l=U,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function zP(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function BP(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function UP(e){const r={constructs:KT([FP,...(e||{}).extensions||[]]),content:i(nI),defined:[],document:i(iI),flow:i(_P),lazy:{},string:i(kP),text:i(TP)};return r;function i(s){return o;function o(l){return $P(r,s,l)}}}function VP(e){for(;!Vx(e););return e}const em=/[\0\t\n\r]/g;function HP(){let e=1,t="",n=!0,r;return i;function i(s,o,l){const a=[];let u,c,f,p,m;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(em.lastIndex=f,u=em.exec(s),p=u&&u.index!==void 0?u.index:s.length,m=s.charCodeAt(p),!u){t=s.slice(f);break}if(m===10&&f===p&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),f<p&&(a.push(s.slice(f,p)),e+=p-f),m){case 0:{a.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,a.push(-2);e++<c;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return l&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const jP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function GP(e){return e.replace(jP,WP)}function WP(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return $x(n.slice(s?2:1),s?16:10)}return qf(n)||e}const Kx={}.hasOwnProperty;function qP(e,t,n){return typeof t!="string"&&(n=t,t=void 0),KP(n)(VP(UP(n).document().write(HP()(e,t,!0))))}function KP(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(sd),autolinkProtocol:D,autolinkEmail:D,atxHeading:s(nd),blockQuote:s(gr),characterEscape:D,characterReference:D,codeFenced:s(Ns),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Ns,o),codeText:s(uw,o),codeTextData:D,data:D,codeFlowValue:D,definition:s(cw),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(fw),hardBreakEscape:s(rd),hardBreakTrailing:s(rd),htmlFlow:s(id,o),htmlFlowData:D,htmlText:s(id,o),htmlTextData:D,image:s(dw),label:o,link:s(sd),listItem:s(hw),listItemValue:p,listOrdered:s(od,f),listUnordered:s(od),paragraph:s(pw),reference:E,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(nd),strong:s(mw),thematicBreak:s(yw)},exit:{atxHeading:a(),atxHeadingSequence:P,autolink:a(),autolinkEmail:mr,autolinkProtocol:yn,blockQuote:a(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:Rt,characterReferenceMarkerNumeric:Rt,characterReferenceValue:pe,characterReference:Ht,codeFenced:a(S),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:w,codeFlowValue:R,codeIndented:a(y),codeText:a(U),codeTextData:R,data:R,definition:a(),definitionDestinationString:T,definitionLabelString:g,definitionTitleString:v,emphasis:a(),hardBreakEscape:a($),hardBreakTrailing:a($),htmlFlow:a(H),htmlFlowData:R,htmlText:a(Z),htmlTextData:R,image:a(le),label:V,labelText:O,lineEnding:M,link:a(Q),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Ae,resourceDestinationString:C,resourceTitleString:J,resource:ie,setextHeading:a(N),setextHeadingLineSequence:I,setextHeadingText:k,strong:a(),thematicBreak:a()}};Yx(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(A){let F={type:"root",children:[]};const K={stack:[F],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:c,data:n},te=[];let ue=-1;for(;++ue<A.length;)if(A[ue][1].type==="listOrdered"||A[ue][1].type==="listUnordered")if(A[ue][0]==="enter")te.push(ue);else{const Mt=te.pop();ue=i(A,Mt,ue)}for(ue=-1;++ue<A.length;){const Mt=t[A[ue][0]];Kx.call(Mt,A[ue][1].type)&&Mt[A[ue][1].type].call(Object.assign({sliceSerialize:A[ue][2].sliceSerialize},K),A[ue][1])}if(K.tokenStack.length>0){const Mt=K.tokenStack[K.tokenStack.length-1];(Mt[1]||tm).call(K,void 0,Mt[0])}for(F.position={start:_n(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:_n(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},ue=-1;++ue<t.transforms.length;)F=t.transforms[ue](F)||F;return F}function i(A,F,K){let te=F-1,ue=-1,Mt=!1,qn,nn,di,hi;for(;++te<=K;){const ut=A[te];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?ue++:ue--,hi=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&(qn&&!hi&&!ue&&!di&&(di=te),hi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hi=void 0}if(!ue&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||ue===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(qn){let yr=te;for(nn=void 0;yr--;){const rn=A[yr];if(rn[1].type==="lineEnding"||rn[1].type==="lineEndingBlank"){if(rn[0]==="exit")continue;nn&&(A[nn][1].type="lineEndingBlank",Mt=!0),rn[1].type="lineEnding",nn=yr}else if(!(rn[1].type==="linePrefix"||rn[1].type==="blockQuotePrefix"||rn[1].type==="blockQuotePrefixWhitespace"||rn[1].type==="blockQuoteMarker"||rn[1].type==="listItemIndent"))break}di&&(!nn||di<nn)&&(qn._spread=!0),qn.end=Object.assign({},nn?A[nn][1].start:ut[1].end),A.splice(nn||te,0,["exit",qn,ut[2]]),te++,K++}if(ut[1].type==="listItemPrefix"){const yr={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};qn=yr,A.splice(te,0,["enter",yr,ut[2]]),te++,K++,di=void 0,hi=!0}}}return A[F][1]._spread=Mt,K}function s(A,F){return K;function K(te){l.call(this,A(te),te),F&&F.call(this,te)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(A,F,K){this.stack[this.stack.length-1].children.push(A),this.stack.push(A),this.tokenStack.push([F,K||void 0]),A.position={start:_n(F.start),end:void 0}}function a(A){return F;function F(K){A&&A.call(this,K),u.call(this,K)}}function u(A,F){const K=this.stack.pop(),te=this.tokenStack.pop();if(te)te[0].type!==A.type&&(F?F.call(this,A,te[0]):(te[1]||tm).call(this,A,te[0]));else throw new Error("Cannot close `"+A.type+"` ("+Gi({start:A.start,end:A.end})+"): its not open");K.position.end=_n(A.end)}function c(){return WT(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(A){if(this.data.expectingFirstListItemValue){const F=this.stack[this.stack.length-2];F.start=Number.parseInt(this.sliceSerialize(A),10),this.data.expectingFirstListItemValue=void 0}}function m(){const A=this.resume(),F=this.stack[this.stack.length-1];F.lang=A}function w(){const A=this.resume(),F=this.stack[this.stack.length-1];F.meta=A}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A.replace(/(\r?\n|\r)$/g,"")}function g(A){const F=this.resume(),K=this.stack[this.stack.length-1];K.label=F,K.identifier=Jr(this.sliceSerialize(A)).toLowerCase()}function v(){const A=this.resume(),F=this.stack[this.stack.length-1];F.title=A}function T(){const A=this.resume(),F=this.stack[this.stack.length-1];F.url=A}function P(A){const F=this.stack[this.stack.length-1];if(!F.depth){const K=this.sliceSerialize(A).length;F.depth=K}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function I(A){const F=this.stack[this.stack.length-1];F.depth=this.sliceSerialize(A).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function D(A){const K=this.stack[this.stack.length-1].children;let te=K[K.length-1];(!te||te.type!=="text")&&(te=gw(),te.position={start:_n(A.start),end:void 0},K.push(te)),this.stack.push(te)}function R(A){const F=this.stack.pop();F.value+=this.sliceSerialize(A),F.position.end=_n(A.end)}function M(A){const F=this.stack[this.stack.length-1];if(this.data.atHardBreak){const K=F.children[F.children.length-1];K.position.end=_n(A.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(F.type)&&(D.call(this,A),R.call(this,A))}function $(){this.data.atHardBreak=!0}function H(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function Z(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function U(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function Q(){const A=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=F,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function le(){const A=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=F,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function O(A){const F=this.sliceSerialize(A),K=this.stack[this.stack.length-2];K.label=GP(F),K.identifier=Jr(F).toLowerCase()}function V(){const A=this.stack[this.stack.length-1],F=this.resume(),K=this.stack[this.stack.length-1];if(this.data.inReference=!0,K.type==="link"){const te=A.children;K.children=te}else K.alt=F}function C(){const A=this.resume(),F=this.stack[this.stack.length-1];F.url=A}function J(){const A=this.resume(),F=this.stack[this.stack.length-1];F.title=A}function ie(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function Ae(A){const F=this.resume(),K=this.stack[this.stack.length-1];K.label=F,K.identifier=Jr(this.sliceSerialize(A)).toLowerCase(),this.data.referenceType="full"}function Rt(A){this.data.characterReferenceType=A.type}function pe(A){const F=this.sliceSerialize(A),K=this.data.characterReferenceType;let te;K?(te=$x(F,K==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):te=qf(F);const ue=this.stack[this.stack.length-1];ue.value+=te}function Ht(A){const F=this.stack.pop();F.position.end=_n(A.end)}function yn(A){R.call(this,A);const F=this.stack[this.stack.length-1];F.url=this.sliceSerialize(A)}function mr(A){R.call(this,A);const F=this.stack[this.stack.length-1];F.url="mailto:"+this.sliceSerialize(A)}function gr(){return{type:"blockquote",children:[]}}function Ns(){return{type:"code",lang:null,meta:null,value:""}}function uw(){return{type:"inlineCode",value:""}}function cw(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function fw(){return{type:"emphasis",children:[]}}function nd(){return{type:"heading",depth:0,children:[]}}function rd(){return{type:"break"}}function id(){return{type:"html",value:""}}function dw(){return{type:"image",title:null,url:"",alt:null}}function sd(){return{type:"link",title:null,url:"",children:[]}}function od(A){return{type:"list",ordered:A.type==="listOrdered",start:null,spread:A._spread,children:[]}}function hw(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}function pw(){return{type:"paragraph",children:[]}}function mw(){return{type:"strong",children:[]}}function gw(){return{type:"text",value:""}}function yw(){return{type:"thematicBreak"}}}function _n(e){return{line:e.line,column:e.column,offset:e.offset}}function Yx(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Yx(e,r):YP(e,r)}}function YP(e,t){let n;for(n in t)if(Kx.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function tm(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Gi({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Gi({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Gi({start:t.start,end:t.end})+") is still open")}function JP(e){const t=this;t.parser=n;function n(r){return qP(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function XP(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function QP(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ZP(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function eA(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tA(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nA(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=fi(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,l+=1,e.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function rA(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iA(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Jx(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function sA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Jx(e,t);const i={src:fi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function oA(e,t){const n={src:fi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function lA(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function aA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Jx(e,t);const i={href:fi(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function uA(e,t){const n={href:fi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cA(e,t,n){const r=e.all(t),i=n?fA(n):Xx(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const c=r[l];(i||l!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function fA(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Xx(n[r])}return t}function Xx(e){const t=e.spread;return t??e.children.length>1}function dA(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function hA(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pA(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function mA(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gA(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Hf(t.children[1]),a=Rx(t.children[t.children.length-1]);l&&a&&(o.position={start:l,end:a}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function yA(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let a=-1;const u=[];for(;++a<l;){const f=t.children[a],p={},m=o?o[a]:void 0;m&&(p.align=m);let w={type:"element",tagName:s,properties:p,children:[]};f&&(w.children=e.all(f),e.patch(f,w),w=e.applyData(f,w)),u.push(w)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function xA(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const nm=9,rm=32;function wA(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(im(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(im(t.slice(i),i>0,!1)),s.join("")}function im(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===nm||s===rm;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===nm||s===rm;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function vA(e,t){const n={type:"text",value:wA(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function CA(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const _A={blockquote:XP,break:QP,code:ZP,delete:eA,emphasis:tA,footnoteReference:nA,heading:rA,html:iA,imageReference:sA,image:oA,inlineCode:lA,linkReference:aA,link:uA,listItem:cA,list:dA,paragraph:hA,root:pA,strong:mA,table:gA,tableCell:xA,tableRow:yA,text:vA,thematicBreak:CA,toml:io,yaml:io,definition:io,footnoteDefinition:io};function io(){}const Qx=-1,Hl=0,qi=1,cl=2,Jf=3,Xf=4,Qf=5,Zf=6,Zx=7,ew=8,sm=typeof self=="object"?self:globalThis,SA=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Hl:case Qx:return n(o,i);case qi:{const l=n([],i);for(const a of o)l.push(r(a));return l}case cl:{const l=n({},i);for(const[a,u]of o)l[r(a)]=r(u);return l}case Jf:return n(new Date(o),i);case Xf:{const{source:l,flags:a}=o;return n(new RegExp(l,a),i)}case Qf:{const l=n(new Map,i);for(const[a,u]of o)l.set(r(a),r(u));return l}case Zf:{const l=n(new Set,i);for(const a of o)l.add(r(a));return l}case Zx:{const{name:l,message:a}=o;return n(new sm[l](a),i)}case ew:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new sm[s](o),i)};return r},om=e=>SA(new Map,e)(0),Sr="",{toString:EA}={},{keys:kA}=Object,Si=e=>{const t=typeof e;if(t!=="object"||!e)return[Hl,t];const n=EA.call(e).slice(8,-1);switch(n){case"Array":return[qi,Sr];case"Object":return[cl,Sr];case"Date":return[Jf,Sr];case"RegExp":return[Xf,Sr];case"Map":return[Qf,Sr];case"Set":return[Zf,Sr];case"DataView":return[qi,n]}return n.includes("Array")?[qi,n]:n.includes("Error")?[Zx,n]:[cl,n]},so=([e,t])=>e===Hl&&(t==="function"||t==="symbol"),TA=(e,t,n,r)=>{const i=(o,l)=>{const a=r.push(o)-1;return n.set(l,a),a},s=o=>{if(n.has(o))return n.get(o);let[l,a]=Si(o);switch(l){case Hl:{let c=o;switch(a){case"bigint":l=ew,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);c=null;break;case"undefined":return i([Qx],o)}return i([l,c],o)}case qi:{if(a){let p=o;return a==="DataView"?p=new Uint8Array(o.buffer):a==="ArrayBuffer"&&(p=new Uint8Array(o)),i([a,[...p]],o)}const c=[],f=i([l,c],o);for(const p of o)c.push(s(p));return f}case cl:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([l,c],o);for(const p of kA(o))(e||!so(Si(o[p])))&&c.push([s(p),s(o[p])]);return f}case Jf:return i([l,o.toISOString()],o);case Xf:{const{source:c,flags:f}=o;return i([l,{source:c,flags:f}],o)}case Qf:{const c=[],f=i([l,c],o);for(const[p,m]of o)(e||!(so(Si(p))||so(Si(m))))&&c.push([s(p),s(m)]);return f}case Zf:{const c=[],f=i([l,c],o);for(const p of o)(e||!so(Si(p)))&&c.push(s(p));return f}}const{message:u}=o;return i([l,{name:a,message:u}],o)};return s},lm=(e,{json:t,lossy:n}={})=>{const r=[];return TA(!(t||n),!!t,new Map,r)(e),r},fl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?om(lm(e,t)):structuredClone(e):(e,t)=>om(lm(e,t));function IA(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function PA(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function AA(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||IA,r=e.options.footnoteBackLabel||PA,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),p=fi(f.toLowerCase());let m=0;const w=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++m<=x;){w.length>0&&w.push({type:"text",value:" "});let g=typeof n=="string"?n:n(a,m);typeof g=="string"&&(g={type:"text",value:g}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,m),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const S=c[c.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const g=S.children[S.children.length-1];g&&g.type==="text"?g.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...w)}else c.push(...w);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(c,!0)};e.patch(u,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...fl(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const tw=function(e){if(e==null)return bA;if(typeof e=="function")return jl(e);if(typeof e=="object")return Array.isArray(e)?NA(e):RA(e);if(typeof e=="string")return MA(e);throw new Error("Expected function, string, or object as test")};function NA(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=tw(e[n]);return jl(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function RA(e){const t=e;return jl(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function MA(e){return jl(t);function t(n){return n&&n.type===e}}function jl(e){return t;function t(n,r,i){return!!(LA(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function bA(){return!0}function LA(e){return e!==null&&typeof e=="object"&&"type"in e}const nw=[],OA=!0,am=!1,DA="skip";function FA(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=tw(i),o=r?-1:1;l(e,void 0,[])();function l(a,u,c){const f=a&&typeof a=="object"?a:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=nw,w,x,S;if((!t||s(a,u,c[c.length-1]||void 0))&&(m=$A(n(a,c)),m[0]===am))return m;if("children"in a&&a.children){const y=a;if(y.children&&m[0]!==DA)for(x=(r?y.children.length:-1)+o,S=c.concat(y);x>-1&&x<y.children.length;){const g=y.children[x];if(w=l(g,x,S)(),w[0]===am)return w;x=typeof w[1]=="number"?w[1]:x+o}}return m}}}function $A(e){return Array.isArray(e)?e:typeof e=="number"?[OA,e]:e==null?nw:[e]}function rw(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),FA(e,s,l,i);function l(a,u){const c=u[u.length-1],f=c?c.children.indexOf(a):void 0;return o(a,f,c)}}const ec={}.hasOwnProperty,zA={};function BA(e,t){const n=t||zA,r=new Map,i=new Map,s=new Map,o={..._A,...n.handlers},l={all:u,applyData:VA,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:a,options:n,patch:UA,wrap:jA};return rw(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,p=String(c.identifier).toUpperCase();f.has(p)||f.set(p,c)}}),l;function a(c,f){const p=c.type,m=l.handlers[p];if(ec.call(l.handlers,p)&&m)return m(l,c,f);if(l.options.passThrough&&l.options.passThrough.includes(p)){if("children"in c){const{children:x,...S}=c,y=fl(S);return y.children=l.all(c),y}return fl(c)}return(l.options.unknownHandler||HA)(l,c,f)}function u(c){const f=[];if("children"in c){const p=c.children;let m=-1;for(;++m<p.length;){const w=l.one(p[m],c);if(w){if(m&&p[m-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=um(w.value)),!Array.isArray(w)&&w.type==="element")){const x=w.children[0];x&&x.type==="text"&&(x.value=um(x.value))}Array.isArray(w)?f.push(...w):f.push(w)}}}return f}}function UA(e,t){e.position&&(t.position=ET(e))}function VA(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,fl(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function HA(e,t){const n=t.data||{},r="value"in t&&!(ec.call(n,"hProperties")||ec.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jA(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function um(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function cm(e,t){const n=BA(e,t),r=n.one(e,void 0),i=AA(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function GA(e,t){return e&&"run"in e?async function(n,r){const i=cm(n,{file:r,...t});await e.run(i,r)}:function(n,r){return cm(n,{file:r,...e||t})}}function fm(e){if(e)throw e}var Ro=Object.prototype.hasOwnProperty,iw=Object.prototype.toString,dm=Object.defineProperty,hm=Object.getOwnPropertyDescriptor,pm=function(t){return typeof Array.isArray=="function"?Array.isArray(t):iw.call(t)==="[object Array]"},mm=function(t){if(!t||iw.call(t)!=="[object Object]")return!1;var n=Ro.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Ro.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Ro.call(t,i)},gm=function(t,n){dm&&n.name==="__proto__"?dm(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},ym=function(t,n){if(n==="__proto__")if(Ro.call(t,n)){if(hm)return hm(t,n).value}else return;return t[n]},WA=function e(){var t,n,r,i,s,o,l=arguments[0],a=1,u=arguments.length,c=!1;for(typeof l=="boolean"&&(c=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=ym(l,n),i=ym(t,n),l!==i&&(c&&i&&(mm(i)||(s=pm(i)))?(s?(s=!1,o=r&&pm(r)?r:[]):o=r&&mm(r)?r:{},gm(l,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&gm(l,{name:n,newValue:i}));return l};const Ra=rc(WA);function tc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function qA(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(a,...u){const c=e[++s];let f=-1;if(a){o(a);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?KA(c,l)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function KA(e,t){let n;return r;function r(...o){const l=e.length>o.length;let a;l&&o.push(i);try{a=e.apply(this,o)}catch(u){const c=u;if(l&&n)throw c;return i(c)}l||(a&&a.then&&typeof a.then=="function"?a.then(s,i):a instanceof Error?i(a):s(a))}function i(o,...l){n||(n=!0,t(o,...l))}function s(o){i(null,o)}}const qt={basename:YA,dirname:JA,extname:XA,join:QA,sep:"/"};function YA(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');As(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function JA(e){if(As(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function XA(e){As(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function QA(...e){let t=-1,n;for(;++t<e.length;)As(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ZA(n)}function ZA(e){As(e);const t=e.codePointAt(0)===47;let n=eN(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function eN(e,t){let n="",r=0,i=-1,s=0,o=-1,l,a;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function As(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const tN={cwd:nN};function nN(){return"/"}function nc(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function rN(e){if(typeof e=="string")e=new URL(e);else if(!nc(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return iN(e)}function iN(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Ma=["history","path","basename","stem","extname","dirname"];class sw{constructor(t){let n;t?nc(t)?n={path:t}:typeof t=="string"||sN(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":tN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ma.length;){const s=Ma[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Ma.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?qt.basename(this.path):void 0}set basename(t){La(t,"basename"),ba(t,"basename"),this.path=qt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?qt.dirname(this.path):void 0}set dirname(t){xm(this.basename,"dirname"),this.path=qt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?qt.extname(this.path):void 0}set extname(t){if(ba(t,"extname"),xm(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){nc(t)&&(t=rN(t)),La(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?qt.basename(this.path,this.extname):void 0}set stem(t){La(t,"stem"),ba(t,"stem"),this.path=qt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ke(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ba(e,t){if(e&&e.includes(qt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+qt.sep+"`")}function La(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function xm(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function sN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const oN=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},lN={}.hasOwnProperty;class ed extends oN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=qA()}copy(){const t=new ed;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ra(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Fa("data",this.frozen),this.namespace[t]=n,this):lN.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Fa("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=oo(t),r=this.parser||this.Parser;return Oa("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Oa("process",this.parser||this.Parser),Da("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const l=oo(t),a=r.parse(l);r.run(a,l,function(c,f,p){if(c||!f||!p)return u(c);const m=f,w=r.stringify(m,p);cN(w)?p.value=w:p.result=w,u(c,p)});function u(c,f){c||!f?o(c):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Oa("processSync",this.parser||this.Parser),Da("processSync",this.compiler||this.Compiler),this.process(t,i),vm("processSync","process",n),r;function i(s,o){n=!0,fm(s),r=o}}run(t,n,r){wm(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const a=oo(n);i.run(t,a,u);function u(c,f,p){const m=f||t;c?l(c):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),vm("runSync","run",r),i;function s(o,l){fm(o),i=l,r=!0}}stringify(t,n){this.freeze();const r=oo(n),i=this.compiler||this.Compiler;return Da("stringify",i),wm(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Fa("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;a(c,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=Ra(!0,i.settings,u.settings))}function l(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...c]);else if(c.length>0){let[m,...w]=c;const x=r[p][1];tc(x)&&tc(m)&&(m=Ra(!0,x,m)),r[p]=[u,m,...w]}}}}const aN=new ed().freeze();function Oa(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Da(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fa(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wm(e){if(!tc(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function vm(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function oo(e){return uN(e)?e:new sw(e)}function uN(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function cN(e){return typeof e=="string"||fN(e)}function fN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const dN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Cm=[],_m={allowDangerousHtml:!0},hN=/^(https?|ircs?|mailto|xmpp)$/i,pN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ow(e){const t=mN(e),n=gN(e);return yN(t.runSync(t.parse(n),n),e)}function mN(e){const t=e.rehypePlugins||Cm,n=e.remarkPlugins||Cm,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,..._m}:_m;return aN().use(JP).use(n).use(GA,r).use(t)}function gN(e){const t=e.children||"",n=new sw;return typeof t=="string"&&(n.value=t),n}function yN(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,a=t.urlTransform||xN;for(const c of pN)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+dN+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),rw(e,u),AT(e,{Fragment:_.Fragment,components:i,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function u(c,f,p){if(c.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let m;for(m in Pa)if(Object.hasOwn(Pa,m)&&Object.hasOwn(c.properties,m)){const w=c.properties[m],x=Pa[m];(x===null||x.includes(c.tagName))&&(c.properties[m]=a(String(w||""),m,c))}}if(c.type==="element"){let m=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(c,f,p)),m&&p&&typeof f=="number")return l&&c.children?p.children.splice(f,1,...c.children):p.children.splice(f,1),f}}}function xN(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||hN.test(e.slice(0,t))?e:""}const wN=({content:e})=>_.jsx("div",{className:"w-full h-full p-6 overflow-y-auto prose prose-sm prose-slate max-w-none",children:_.jsx(ow,{children:e})}),vN=({options:e,selectedId:t,onSelect:n,t:r})=>e.length===0?null:_.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[_.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[_.jsx(Ak,{className:"w-3.5 h-3.5"})," ",r.styleVariations]}),_.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map((i,s)=>{var x;const o=t===i.id||i.themeName===((x=e.find(S=>S.id===t))==null?void 0:x.themeName),l=i.layoutType==="multi-card",a=i.layoutType==="flat",u=i.layoutType==="card",c=i.pageBackground||"bg-slate-50",f=i.containerBackground||"bg-white",p=i.highlightColor||"#6366f1",m=i.fontFamily||"font-sans",w=i.textColor||"text-slate-800";return _.jsxs("div",{onClick:()=>n(i),className:`
                cursor-pointer group relative rounded-xl overflow-hidden transition-all duration-300 ease-out
                ${o?"ring-2 ring-indigo-600 ring-offset-2 shadow-lg scale-[1.02] z-10":"ring-1 ring-slate-200 hover:ring-indigo-300 hover:shadow-md hover:scale-[1.01] hover:z-10"}
              `,children:[_.jsxs("div",{className:"aspect-[16/10] w-full relative bg-slate-50 overflow-hidden select-none",children:[_.jsx("div",{className:"absolute top-0 left-0 w-[455%] h-[455%] origin-top-left transform scale-[0.22]",children:_.jsxs("div",{className:`w-full h-full ${c} ${m} ${w} flex flex-col p-12`,children:[l&&_.jsx("div",{className:"grid grid-cols-2 gap-8 h-full content-start",children:[1,2].map(S=>_.jsxs("div",{className:`${f} ${i.containerShadow} ${i.containerBorderRadius} ${i.containerPadding} h-fit`,children:[_.jsxs("h2",{className:`${i.heading2} mb-4 text-3xl`,children:["Module ",S]}),_.jsx("div",{className:`${i.paragraph} text-2xl opacity-80 line-clamp-4`,children:"Grid content showing the dashboard structure."})]},S))}),a&&_.jsxs("div",{className:`w-full h-full ${f} ${i.containerPadding} border-x border-black/5`,children:[_.jsx("div",{className:`${i.heading1} ${i.titleSize} mb-8`,children:"Doc Title"}),_.jsx("h2",{className:`${i.heading2} mb-6 text-4xl`,children:"Section Header"}),_.jsx("p",{className:`${i.paragraph} text-3xl leading-relaxed mb-6`,children:"This is a seamless layout preview suitable for web pages."}),_.jsx("hr",{className:`${i.dividerStyle} my-8`}),_.jsx("p",{className:`${i.paragraph} text-3xl leading-relaxed`,children:"Continuous reading flow visualization."})]}),u&&_.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:_.jsxs("div",{className:`${f} ${i.containerShadow} ${i.containerBorderRadius} ${i.containerPadding} w-full max-w-4xl mx-auto min-h-[500px] flex flex-col`,children:[_.jsx("div",{className:`${i.heading1} ${i.titleSize} mb-8`,children:i.themeName}),_.jsx("div",{className:"mb-6",children:_.jsx("h2",{className:`${i.heading2} text-4xl`,children:"Smart Layout"})}),_.jsxs("div",{className:`${i.paragraph} text-3xl leading-relaxed flex-1`,children:[_.jsxs("p",{className:"mb-6",children:["The quick brown fox jumps over the lazy dog. This previews your ",_.jsx("span",{style:{color:p,fontWeight:"bold"},children:"typography"})," choices."]}),_.jsx("div",{className:"p-4 border-l-8 text-2xl italic opacity-80 bg-black/5",style:{borderColor:p},children:'"Design is intelligence made visible."'})]})]})})]})}),_.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 backdrop-blur-sm text-white text-[9px] px-1.5 py-0.5 rounded flex items-center gap-1 font-medium shadow-sm",children:[_.jsx(_k,{className:"w-2.5 h-2.5"}),i.layoutType]})]}),_.jsxs("div",{className:"bg-white px-3 py-2 border-t border-slate-100 flex justify-between items-center",children:[_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-xs font-bold text-slate-800 truncate max-w-[120px]",title:i.themeName,children:i.themeName}),_.jsxs("div",{className:"flex gap-1 mt-0.5",children:[_.jsx("div",{className:"w-2 h-2 rounded-full ring-1 ring-slate-200",style:{background:p}}),_.jsx("div",{className:`w-2 h-2 rounded-full ring-1 ring-slate-200 ${c}`}),_.jsx("div",{className:`w-2 h-2 rounded-full ring-1 ring-slate-200 ${f}`})]})]}),o&&_.jsx("div",{className:"bg-indigo-600 text-white p-1 rounded-full shadow-sm animate-in zoom-in",children:_.jsx(Ao,{className:"w-3 h-3"})})]})]},s)})})]}),lw=X.createContext(void 0),td=()=>{const e=X.useContext(lw);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},CN=({children:e})=>{const[t,n]=X.useState([]),r=X.useCallback((s,o="info")=>{const l=Date.now().toString()+Math.random().toString();n(a=>[...a,{id:l,message:s,type:o}])},[]),i=X.useCallback(s=>{n(o=>o.filter(l=>l.id!==s))},[]);return _.jsxs(lw.Provider,{value:{addToast:r},children:[e,_.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none",children:t.map(s=>_.jsx(_N,{toast:s,onRemove:i},s.id))})]})},_N=({toast:e,onRemove:t})=>{const[n,r]=X.useState(!1);X.useEffect(()=>{requestAnimationFrame(()=>r(!0));const l=setTimeout(()=>{r(!1),setTimeout(()=>t(e.id),300)},4e3);return()=>clearTimeout(l)},[e.id,t]);const i=()=>{r(!1),setTimeout(()=>t(e.id),300)},s={success:"border-emerald-500 bg-white text-emerald-900",error:"border-red-500 bg-white text-red-900",info:"border-indigo-500 bg-white text-indigo-900",warning:"border-amber-500 bg-white text-amber-900"},o={success:_.jsx(gk,{className:"w-5 h-5 text-emerald-500"}),error:_.jsx(_x,{className:"w-5 h-5 text-red-500"}),info:_.jsx(Ck,{className:"w-5 h-5 text-indigo-500"}),warning:_.jsx(Nk,{className:"w-5 h-5 text-amber-500"})};return _.jsxs("div",{className:`
        pointer-events-auto
        flex items-start gap-3 p-4 rounded-xl shadow-2xl border-l-4 min-w-[320px] max-w-[400px]
        transform transition-all duration-300 ease-out
        ${s[e.type]}
        ${n?"translate-x-0 opacity-100":"translate-x-12 opacity-0"}
      `,children:[_.jsx("div",{className:"shrink-0 mt-0.5",children:o[e.type]}),_.jsx("p",{className:"flex-1 text-sm font-medium leading-relaxed font-sans",children:e.message}),_.jsx("button",{onClick:i,className:"shrink-0 text-slate-400 hover:text-slate-600 transition-colors -mr-1 -mt-1 p-1 rounded-full hover:bg-slate-100",children:_.jsx(zf,{className:"w-4 h-4"})})]})},SN=({prompt:e,setPrompt:t,designData:n,setDesignData:r,isGenerating:i,handleGenerate:s,error:o,lang:l,toggleLanguage:a,provider:u,setShowAiSettings:c,aiConfig:f,t:p})=>{const{addToast:m}=td(),[w,x]=X.useState([]),[S,y]=X.useState(!1),g=async()=>{if(e.trim()){y(!0);try{const T=await uk(f,e,"auto");x(T),m("2 style variations generated!","success")}catch(T){console.error(T),m(T.message||"Failed to generate styles","error")}finally{y(!1)}}},v=()=>_.jsxs("svg",{className:"animate-spin h-3.5 w-3.5 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return _.jsx("div",{className:"w-full h-full p-6 overflow-y-auto",children:_.jsxs("div",{className:"max-w-xl mx-auto space-y-8",children:[_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsxs("button",{onClick:()=>c(!0),className:`flex items-center gap-2 text-xs font-medium transition px-3 py-1.5 rounded-full border ${u==="openai"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:[_.jsx(Cx,{className:"w-3 h-3"}),u==="gemini"?"Gemini":"OpenAI"]}),_.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-xs font-medium text-slate-500 hover:text-indigo-600 transition bg-white border border-slate-200 hover:bg-slate-50 px-3 py-1.5 rounded-full",children:[_.jsx(vk,{className:"w-3 h-3"}),l==="zh"?"English":""]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("label",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(Mp,{className:"w-4 h-4 text-amber-500"}),p.stylePrompt]}),_.jsxs("button",{onClick:g,disabled:S||!e.trim(),className:"text-xs font-medium text-indigo-600 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition flex items-center gap-1.5",children:[S?_.jsx(v,{}):_.jsx(Rk,{className:"w-3.5 h-3.5"}),S?p.generatingStyles:p.generateStyles]})]}),_.jsx("textarea",{value:e,onChange:T=>t(T.target.value),placeholder:p.stylePlaceholder,className:"w-full p-4 text-sm border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none resize-none h-28 bg-white shadow-sm"}),_.jsx(vN,{options:w,selectedId:n.id,onSelect:r,t:p})]}),_.jsxs("button",{onClick:s,disabled:i||!e.trim(),className:`w-full py-3 px-4 rounded-xl text-white font-medium text-sm flex items-center justify-center gap-2 transition-all ${i?"bg-slate-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-lg hover:shadow-indigo-500/30 active:scale-[0.98]"}`,children:[i?_.jsx(Ik,{className:"w-4 h-4 animate-spin"}):_.jsx(Mp,{className:"w-4 h-4"}),i?p.generating:p.generate]}),o&&_.jsx("p",{className:"text-xs text-red-500 mt-2 bg-red-50 p-2 rounded border border-red-100",children:o}),_.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-100",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:p.presets}),_.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[_.jsxs("button",{onClick:()=>t("WeChat Official Account style (). Flat layout, max-w-xl. Headings (H2) should be very decorative: use colored pills (rounded-full bg-blue-50), left borders, or bottom borders. Font size slightly larger (text-[17px]) for good readability. Comfortable line height. Auto-extract key points into headers."),className:"text-left text-xs p-3 bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border-green-200 rounded-lg border text-emerald-800 transition shadow-sm group ring-1 ring-green-100",children:[_.jsx("span",{className:"font-semibold block group-hover:text-emerald-900",children:p.presetWeChat.split("")[0]}),_.jsx("span",{className:"opacity-70",children:p.presetWeChat.split("")[1]})]}),_.jsxs("button",{onClick:()=>t("Technology/SaaS style. Dark mode, monospace fonts for code, neon accents."),className:"text-left text-xs p-3 bg-white hover:bg-indigo-50 hover:border-indigo-200 rounded-lg border border-slate-200 text-slate-600 transition shadow-sm group",children:[_.jsx("span",{className:"font-semibold text-slate-800 block group-hover:text-indigo-700",children:p.presetSaas.split("")[0]}),_.jsx("span",{className:"opacity-70",children:p.presetSaas.split("")[1]})]}),_.jsxs("button",{onClick:()=>t("Classic literature style. Warm beige background, high readability serif fonts, elegant margins."),className:"text-left text-xs p-3 bg-white hover:bg-indigo-50 hover:border-indigo-200 rounded-lg border border-slate-200 text-slate-600 transition shadow-sm group",children:[_.jsx("span",{className:"font-semibold text-slate-800 block group-hover:text-indigo-700",children:p.presetBlog.split("")[0]}),_.jsx("span",{className:"opacity-70",children:p.presetBlog.split("")[1]})]})]})]}),_.jsxs("div",{className:"p-4 bg-indigo-50 text-indigo-900 rounded-xl text-xs flex items-start gap-3 border border-indigo-100",children:[_.jsx(Ek,{className:"w-4 h-4 shrink-0 mt-0.5"}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("p",{className:"font-semibold",children:[p.theme,": ",_.jsx("span",{className:"capitalize",children:n.themeName})]}),_.jsx("p",{className:"opacity-80",children:p.proTip})]})]})]})})},EN=({activeTab:e,setActiveTab:t,markdownContent:n,setMarkdownContent:r,prompt:i,setPrompt:s,isGenerating:o,handleGenerate:l,error:a,lang:u,toggleLanguage:c,designData:f,setDesignData:p,provider:m,setShowAiSettings:w,aiConfig:x,t:S})=>_.jsxs("section",{className:"flex-1 flex flex-col min-w-[350px] border-r border-slate-200 bg-white relative shadow-lg z-20",children:[_.jsxs("div",{className:"h-14 border-b border-slate-100 flex items-center justify-between px-4 bg-white sticky top-0 z-10",children:[_.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 font-bold text-lg",children:[_.jsx(kk,{className:"w-5 h-5"}),_.jsx("span",{children:S.appTitle})]}),_.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[_.jsxs("button",{onClick:()=>t("write"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all flex items-center gap-1.5 ${e==="write"?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:[_.jsx(Tk,{className:"w-3.5 h-3.5"})," ",S.write]}),_.jsxs("button",{onClick:()=>t("preview"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all flex items-center gap-1.5 ${e==="preview"?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:[_.jsx(xk,{className:"w-3.5 h-3.5"})," ",S.preview]}),_.jsxs("button",{onClick:()=>t("config"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all flex items-center gap-1.5 ${e==="config"?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:[_.jsx(Sx,{className:"w-3.5 h-3.5"})," ",S.config]})]})]}),_.jsxs("div",{className:"flex-1 overflow-hidden relative bg-slate-50/30",children:[e==="write"&&_.jsx(Mk,{content:n,onChange:r}),e==="preview"&&_.jsx(wN,{content:n}),e==="config"&&_.jsx(SN,{prompt:i,setPrompt:s,designData:f,setDesignData:p,isGenerating:o,handleGenerate:l,error:a,lang:u,toggleLanguage:c,provider:m,setShowAiSettings:w,aiConfig:x,t:S})]})]}),kN=({data:e,content:t,previewMode:n})=>{var w;const r=n==="mobile"?"w-[375px] min-h-[667px] mx-auto border-x-8 border-t-8 border-b-8 border-slate-800 rounded-[3rem] overflow-hidden bg-black shadow-2xl my-8 shrink-0":"w-full min-h-screen",i=n==="mobile"?"w-full h-full overflow-y-auto bg-white":"w-full h-full";console.log(e);const s=e.layoutType==="card",o=e.layoutType==="multi-card",l=X.useMemo(()=>{if(!o)return[t];const x=t.split(/(?=^#{1,2}\s)/gm).filter(S=>S.trim().length>0);return x.length>0?x:[t]},[t,o]),a=s||o?`${e.pageBackground} flex flex-col items-center py-8 md:py-16`:`${e.pageBackground} flex flex-col items-center`,u=o?"max-w-6xl w-full px-4":e.containerMaxWidth,c=`${e.containerBackground} ${e.containerShadow} ${e.containerPadding} ${e.containerBorderRadius}`,f=`${e.containerBackground} ${e.containerPadding} min-h-screen shadow-none rounded-none`,p=o?c:s?`w-full ${c}`:`w-full ${f}`,m={h1:({node:x,...S})=>_.jsx("h1",{className:`layout-block ${e.titleSize} ${e.heading1}`,...S}),h2:({node:x,...S})=>_.jsx("h2",{className:`layout-block ${e.heading2}`,...S}),h3:({node:x,...S})=>_.jsx("h3",{className:"layout-block text-xl font-bold mt-8 mb-4 opacity-90",...S}),p:({node:x,...S})=>_.jsx("p",{className:`layout-block ${e.paragraph}`,...S}),blockquote:({node:x,...S})=>_.jsx("blockquote",{className:`layout-block ${e.blockquote}`,...S}),ul:({node:x,...S})=>_.jsx("ul",{className:"layout-block list-disc list-inside mb-6 space-y-2 opacity-90 pl-2",...S}),ol:({node:x,...S})=>_.jsx("ol",{className:"layout-block list-decimal list-inside mb-6 space-y-2 opacity-90 pl-2",...S}),li:({node:x,...S})=>_.jsx("li",{className:"",...S}),strong:({node:x,...S})=>_.jsx("strong",{style:{color:e.highlightColor},className:"font-bold",...S}),hr:({node:x,...S})=>_.jsx("hr",{className:`layout-block ${e.dividerStyle}`,...S}),a:({node:x,...S})=>_.jsx("a",{className:"underline decoration-2 underline-offset-2 hover:opacity-80 transition",style:{color:e.highlightColor,textDecorationColor:e.highlightColor},...S}),code:({node:x,...S})=>_.jsx("code",{className:"bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded text-sm font-mono text-pink-500",...S}),pre:({node:x,...S})=>_.jsx("pre",{className:"layout-block bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto my-6 text-sm font-mono leading-relaxed",...S})};return _.jsx("div",{className:"transition-all duration-500 ease-in-out flex flex-col items-center justify-start",children:_.jsx("div",{className:r,children:_.jsxs("div",{id:"layout-preview-content",className:`${i} ${a} transition-colors duration-500`,children:[_.jsxs("div",{className:`${u} mb-8 opacity-40 px-4 flex justify-between text-xs font-mono uppercase tracking-widest mix-blend-multiply dark:mix-blend-screen`,children:[_.jsx("span",{children:e.themeName}),_.jsx("span",{className:"flex items-center gap-2",children:(w=e.layoutType)==null?void 0:w.toUpperCase()})]}),_.jsx("div",{className:`
                    ${u}
                    ${o&&n!=="mobile"?"grid grid-cols-1 md:grid-cols-2 gap-6 items-start":"flex flex-col gap-6"}
                    ${e.fontFamily}
                    ${e.textColor}
                `,children:l.map((x,S)=>_.jsx("div",{className:`
                                layout-card
                                ${p}
                                transition-all duration-500
                                ${o?"h-full":""} 
                            `,children:_.jsx("article",{id:"markdown-article",className:`${e.baseFontSize} ${e.lineHeight}`,children:_.jsx(ow,{components:m,children:x})})},S))}),_.jsx("div",{className:"mt-16 pb-8 border-t border-current opacity-20 w-1/3 flex justify-center text-xs font-mono mx-auto",children:"***"})]})})})},TN=`
You are a WeChat article layout converter.

Your job:

* Take ONE text segment (from a Markdown document) and wrap it into a single WeChat-compatible HTML "card".

Constraints:

1. Output MUST be valid HTML.
2. Output MUST contain exactly ONE top-level <section> wrapper representing a single card.
3. Use ONLY inline CSS styles; no external stylesheets or <style> tags.
4. Do NOT include <html>, <head>, or <body>. Produce only the card snippet.
5. Do NOT add explanatory text, comments, or prose outside of HTML.

Layout rules (very important):

* Use nested <section> and <p> elements similar to WeChat rich text.
* Card structure:

  * Outer <section> with max-width: 100%, margin-top: 10px, margin-bottom: 20px.
  * Inside, a flex row: left decorative bar, main content, optional right bar.
  * Main content container:

    * border-radius: 12px
    * padding: 12px 0
    * background-color: #fdfdfd
    * flex: 100 100 0%
    * overflow: hidden

Left/Right decorative bars:

* Narrow vertical rectangles:

  * width: 6px
  * height: 75px
  * background-color: {HIGHLIGHT_COLOR}
  * Use <section> wrappers like typical WeChat export HTML.
  * vertical-align: top

Text styling:

* Wrap text in <p><span>...</span></p> blocks.
* Use:

  * font-size: 15px;
  * line-height: 2;
  * font-family: PingFangSC-light, -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Microsoft YaHei", Arial, sans-serif;
  * text-align: justify
  * padding: 0 16px
* Use "white-space: normal; margin: 0; padding: 0;" on <p> tags.

Content rules:

* Preserve the original meaning and language (do NOT translate).
* Convert basic Markdown constructs:

  * Headings (#, ##) -> visually emphasized phrases inside the card (e.g. bold span or separate p with margin).
  * Lists -> paragraphs with bullet points.
* Do NOT invent extra content.
`,IN=`
You are an expert WeChat HTML/CSS Layout Engineer.
Your task is to generate the OUTER CONTAINER HTML structure for a WeChat article based on a provided "DocumentDesign" JSON.

Input:
- Design JSON (contains Tailwind classes for page background, container styling, fonts, etc.).

Output:
- A single HTML snippet representing the PAGE WRAPPER.
- Use INLINE CSS exclusively (style="...").
- Do NOT include <html>, <head>, <body> tags.
- Structure:
  <section id="wechat-wrapper" style="... (Page Background styles) ...">
     <section id="wechat-container" style="... (Container Background, Shadow, Padding, Radius, Layout settings) ...">
        <!-- Header Metadata (Theme Name) -->
        <section style="opacity:0.5; font-size:12px; margin-bottom:20px; text-align:center; font-family:sans-serif; letter-spacing: 1px;">
           {THEME_NAME}
        </section>
        
        <!-- THE CONTENT PLACEHOLDER -->
        {{CONTENT}}
        
        <!-- Footer Flourish -->
        <section style="text-align:center; margin-top:40px; opacity:0.3; font-size: 12px;">***</section>
     </section>
  </section>

Translation Rules (Tailwind -> Inline CSS):
- bg-slate-100 -> background-color: #f1f5f9;
- bg-white -> background-color: #ffffff;
- shadow-xl -> box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1);
- p-8 -> padding: 32px;
- rounded-xl -> border-radius: 12px;
- max-w-2xl -> max-width: 672px; margin: 0 auto;

IMPORTANT:
- If layoutType is 'flat', remove shadows/radius from the container and make it blend with the page.
- Ensure the wrapper has min-height: 100vh (or equivalent) to look like a full page.
- Return ONLY the HTML string with {{CONTENT}} inside.
`;function PN(e){return e?e.replace(/\r\n/g,`
`).split(/\n\s*\n/g).map(n=>n.trim()).filter(n=>n.length>0):[]}async function AN(e,t){const n=`
    Generate WeChat Wrapper HTML for this design:
    ${JSON.stringify(t,null,2)}
  `;let r="";try{r=await ul(e,{prompt:n,systemInstruction:IN,jsonMode:!1})}catch(i){console.error("Wrapper Gen Error:",i),r='<section style="padding: 20px;">{{CONTENT}}</section>'}if(r||(r='<section style="padding: 20px;">{{CONTENT}}</section>'),r=r.replace(/```html/g,"").replace(/```/g,"").trim(),!r.includes("{{CONTENT}}")){const i=r.lastIndexOf("</");i>-1?r=r.substring(0,i)+`
{{CONTENT}}
`+r.substring(i):r+=`
{{CONTENT}}`}return r}async function*NN(e,t,n,r,i){const s=TN.replace(/\{HIGHLIGHT_COLOR\}/g,t),o=`
You are converting one content segment of a Markdown document into a single WeChat card.

Context:
- Card index: ${r} of ${i}
- Highlight color (for borders and decorative bars): ${t}

Input segment (Markdown, raw):
---
${n}
---

Task:
1. Convert this SINGLE segment into ONE WeChat card HTML snippet.
2. Follow ALL layout rules from the system message.
3. Return ONLY the HTML snippet for this one card.
`,l=rk(e,{prompt:o,systemInstruction:s});for await(const a of l)yield a}async function RN(e,t,n,r,i,s){const o=PN(t),l=o.length,a=[];for(let u=0;u<l;u++){const c=o[u];let f="";r&&r(u,l);for await(const p of NN(e,n,c,u+1,l))f+=p,i&&i(u,f);a.push(f),s&&s(u,f)}return a.join(`
`)}const MN=({designData:e,previewMode:t,setPreviewMode:n,t:r,markdownContent:i,aiConfig:s})=>{const[o,l]=X.useState(null),[a,u]=X.useState(!1),{addToast:c}=td(),[f,p]=X.useState(!1),[m,w]=X.useState(null),[x,S]=X.useState(0),[y,g]=X.useState(""),[v,T]=X.useState([]),[P,k]=X.useState(null),[I,N]=X.useState(null),D=()=>{const H=JSON.stringify(e,null,2);navigator.clipboard.writeText(H).then(()=>{l("config"),c(r.copied,"success"),setTimeout(()=>l(null),2e3)})},R=async H=>{const Z=`
      <div class="rich_media_content js_underline_content" style="visibility: visible;">
        ${H}
        <section style="text-align: center; margin-top: 40px; font-size: 12px; color: #999; opacity: 0.5;">
             Generated by LayoutForge AI
        </section>
      </div>
    `;try{const U=new Blob([Z],{type:"text/html"}),Q=new Blob([i],{type:"text/plain"});return await navigator.clipboard.write([new ClipboardItem({"text/html":U,"text/plain":Q})]),l("html"),c(r.copied+" (WeChat HTML)","success"),setTimeout(()=>l(null),2500),!0}catch(U){console.warn("Clipboard API failed, trying fallback execCommand:",U);try{const Q=document.createElement("div");Q.style.cssText="position:fixed; left:-9999px; top:0; z-index:-1; opacity:0; pointer-events:none; white-space: pre-wrap;",Q.innerHTML=Z,document.body.appendChild(Q);const le=document.createRange();le.selectNode(Q);const O=window.getSelection();if(O){O.removeAllRanges(),O.addRange(le);const V=document.execCommand("copy");if(O.removeAllRanges(),document.body.removeChild(Q),V)return l("html"),c(r.copied+" (WeChat HTML)","success"),setTimeout(()=>l(null),2500),!0}}catch(Q){console.error("Fallback copy failed:",Q),c("Copy failed. Please copy manually.","error")}return!1}},M=async()=>{var H,Z;if(s.provider==="openai"&&!((H=s.openai)!=null&&H.apiKey)){c("Please configure OpenAI API Key in AI settings.","error");return}if(s.provider==="gemini"&&!((Z=s.gemini)!=null&&Z.apiKey)){c("Gemini API Key is missing.","error");return}u(!0),p(!0),k(null),N(null),w(0),S(0),T([]),g("");try{c("Generating layout structure...","info");const U=await AN(s,e);N(U.replace("{{CONTENT}}","<!-- Generating Content... -->"));const Q=e.highlightColor||"rgb(121, 115, 247)";let le="";await RN(s,i,Q,(C,J)=>{S(J),w(C),g("")},(C,J)=>{w(C),g(J)},(C,J)=>{T(E=>[...E,C]),le+=J;const ie=U.replace("{{CONTENT}}",le);N(ie)});const O=U.replace("{{CONTENT}}",le);N(O),await R(O)||c("Auto-copy blocked. Please click copy below.","info")}catch(U){console.error("Export failed",U),k(U.message||"Failed to generate layout."),c(U.message||"Export failed","error")}finally{u(!1)}},$=()=>{p(!1),k(null),N(null)};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"h-14 border-b border-slate-200/50 flex items-center justify-between px-6 bg-white/80 backdrop-blur-sm sticky top-0 z-10 shadow-sm",children:[_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:r.livePreview})}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200 mr-2",children:[_.jsx("button",{onClick:()=>n("desktop"),className:`p-1.5 rounded-md transition-all ${t==="desktop"?"bg-white shadow-sm text-indigo-600":"text-slate-400 hover:text-slate-600"}`,title:r.desktop,children:_.jsx(Sk,{className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>n("mobile"),className:`p-1.5 rounded-md transition-all ${t==="mobile"?"bg-white shadow-sm text-indigo-600":"text-slate-400 hover:text-slate-600"}`,title:r.mobile,children:_.jsx(Pk,{className:"w-4 h-4"})})]}),_.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-3 py-2 bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 text-xs font-medium rounded-lg transition shadow-sm",title:r.copyConfig,children:[o==="config"?_.jsx(Ao,{className:"w-3.5 h-3.5"}):_.jsx(Sx,{className:"w-3.5 h-3.5"}),_.jsx("span",{className:"hidden sm:inline",children:o==="config"?r.copied:"Config"})]}),_.jsx("button",{onClick:M,disabled:a,className:`flex items-center gap-2 px-3 py-2 text-white text-xs font-medium rounded-lg transition shadow-sm overflow-hidden relative ${a?"bg-slate-700 cursor-wait":"bg-slate-900 hover:bg-slate-800"}`,title:"Export for WeChat (AI Generated)",children:_.jsxs("div",{className:"relative flex items-center gap-2 z-10",children:[a?_.jsx(Rp,{className:"w-3.5 h-3.5 animate-spin"}):o==="html"?_.jsx(Ao,{className:"w-3.5 h-3.5"}):_.jsx(wk,{className:"w-3.5 h-3.5"}),_.jsx("span",{className:"hidden sm:inline",children:a?"Generating...":o==="html"?r.copied:r.copyHtml})]})})]})]}),f&&Oy.createPortal(_.jsxs("div",{className:"fixed bottom-4 right-4 w-[420px] max-h-[70vh] bg-slate-900 text-slate-100 rounded-xl shadow-2xl border border-slate-700 flex flex-col z-[100] animate-in slide-in-from-bottom-4 fade-in font-sans",children:[_.jsxs("div",{className:"flex items-center justify-between px-3 py-3 border-b border-slate-700 bg-slate-800/50 rounded-t-xl",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[P?_.jsx(_x,{className:"w-4 h-4 text-red-500"}):_.jsx(Rp,{className:`w-4 h-4 ${a?"animate-spin text-indigo-400":"text-emerald-400"}`}),_.jsx("span",{className:"text-sm font-medium",children:P?"Export Error":I&&!a?"Generation Complete":`Generating... ${x>0?`(${(m||0)+1}/${x})`:""}`})]}),_.jsx("button",{onClick:$,className:"text-slate-400 hover:text-white transition p-1.5 hover:bg-slate-700 rounded-lg",children:_.jsx(zf,{className:"w-4 h-4"})})]}),_.jsx("div",{className:"flex-1 overflow-auto p-4 bg-black/30 min-h-[200px] scrollbar-thin scrollbar-thumb-slate-700",children:P?_.jsxs("div",{className:"text-red-300 text-sm p-3 bg-red-950/30 rounded border border-red-900/50 leading-relaxed",children:[P,_.jsx("div",{className:"mt-2 text-xs opacity-70",children:"If this persists, check your API key in settings."})]}):_.jsx("pre",{className:"text-[11px] leading-relaxed whitespace-pre-wrap break-all font-mono text-emerald-400/90 font-light",children:I||"// Initializing layout engine..."})}),_.jsxs("div",{className:"px-4 py-3 border-t border-slate-700 bg-slate-800/80 rounded-b-xl flex flex-col gap-3",children:[!P&&a&&_.jsxs("div",{className:"flex justify-between items-center text-[11px] text-slate-400",children:[_.jsxs("div",{className:"flex gap-1.5 items-center",children:[_.jsx("span",{className:"mr-2",children:"Cards:"}),Array.from({length:Math.min(x||3,15)}).map((H,Z)=>_.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-colors duration-300 ${v.includes(Z)?"bg-emerald-500":m===Z&&a?"bg-indigo-500 animate-pulse":"bg-slate-700"}`},Z)),x>15&&_.jsx("span",{children:"..."})]}),_.jsxs("span",{children:[Math.round(v.length/(x||1)*100),"%"]})]}),I&&!a&&!P&&_.jsxs("button",{onClick:()=>I&&R(I),className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-medium rounded-lg transition shadow-lg shadow-indigo-900/20 flex items-center justify-center gap-2",children:[o==="html"?_.jsx(Ao,{className:"w-4 h-4"}):_.jsx(yk,{className:"w-4 h-4"}),o==="html"?"Copied to Clipboard!":"Copy Result to Clipboard"]})]})]}),document.body)]})},bN=({designData:e,markdownContent:t,previewMode:n,setPreviewMode:r,t:i,aiConfig:s})=>_.jsxs("main",{className:"flex-1 bg-slate-200 flex flex-col min-w-[350px] relative transition-all",children:[_.jsx(MN,{designData:e,previewMode:n,setPreviewMode:r,t:i,markdownContent:t,aiConfig:s}),_.jsx("div",{className:"flex-1 overflow-y-auto relative bg-slate-200/50 flex flex-col",children:_.jsx(kN,{data:e,content:t,previewMode:n})})]}),LN=({isOpen:e,onClose:t,provider:n,setProvider:r,geminiKey:i,setGeminiKey:s,openaiConfig:o,setOpenaiConfig:l,t:a})=>e?_.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[_.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(Cx,{className:"w-5 h-5 text-indigo-600"}),a.aiSettings]}),_.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 p-1 rounded-full hover:bg-slate-100",children:_.jsx(zf,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"p-6 space-y-6",children:[_.jsxs("div",{className:"space-y-3",children:[_.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-200 rounded-xl cursor-pointer hover:border-indigo-300 transition-colors",children:[_.jsx("input",{type:"radio",name:"provider",checked:n==="gemini",onChange:()=>r("gemini"),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),_.jsx("div",{className:"flex-1",children:_.jsx("span",{className:"block text-sm font-semibold text-slate-900",children:a.providerGemini})})]}),_.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-200 rounded-xl cursor-pointer hover:border-emerald-300 transition-colors",children:[_.jsx("input",{type:"radio",name:"provider",checked:n==="openai",onChange:()=>r("openai"),className:"w-4 h-4 text-emerald-600 focus:ring-emerald-500"}),_.jsx("div",{className:"flex-1",children:_.jsx("span",{className:"block text-sm font-semibold text-slate-900",children:a.providerOpenAI})})]})]}),n==="gemini"&&_.jsx("div",{className:"space-y-4 pt-4 border-t border-slate-100 animate-in slide-in-from-top-2",children:_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:[a.apiKey," (Optional)"]}),_.jsx("input",{type:"password",value:i,onChange:u=>s(u.target.value),placeholder:"Use default system key...",className:"w-full p-2.5 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"}),_.jsx("p",{className:"text-[10px] text-slate-400",children:"If you have your own Google Gemini API Key, enter it here. Otherwise, the system default key will be used."})]})}),n==="openai"&&_.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 animate-in slide-in-from-top-2",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:a.baseUrl}),_.jsx("input",{type:"text",value:o.baseUrl,onChange:u=>l(c=>({...c,baseUrl:u.target.value})),placeholder:"https://api.openai.com/v1",className:"w-full p-2.5 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:[a.apiKey," ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"password",value:o.apiKey,onChange:u=>l(c=>({...c,apiKey:u.target.value})),placeholder:"sk-...",className:"w-full p-2.5 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:a.modelName}),_.jsx("input",{type:"text",value:o.model,onChange:u=>l(c=>({...c,model:u.target.value})),placeholder:"gpt-4-turbo-preview",className:"w-full p-2.5 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"})]})]})]}),_.jsx("div",{className:"p-4 bg-slate-50 flex justify-end",children:_.jsx("button",{onClick:t,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium rounded-lg transition",children:a.save})})]})}):null,ON=()=>{const[e,t]=X.useState(jC),[n,r]=X.useState(fk),[i,s]=X.useState("desktop"),[o,l]=X.useState("write"),[a,u]=X.useState("zh"),[c,f]=X.useState(""),[p,m]=X.useState(!1),[w,x]=X.useState(null),[S,y]=X.useState(!1),[g,v]=X.useState("gemini"),[T,P]=X.useState(""),[k,I]=X.useState({apiKey:"",baseUrl:"https://api.openai.com/v1",model:"gpt-4-turbo-preview"}),N={provider:g,openai:k,gemini:{apiKey:T||void 0}},{addToast:D}=td(),R=dk[a],M=async()=>{if(!c.trim())return;m(!0),x(null);const H=(U,Q)=>{U==="design"?t(Q):U==="content"&&r(Q)},Z=e.id!=="default"?e:void 0;try{await ck(N,c,n,"auto",H,Z),D(R.generate+" "+R.copied,"success")}catch(U){const Q=U.message||R.error;x(Q),D(Q,"error")}finally{m(!1)}},$=()=>{u(H=>H==="zh"?"en":"zh")};return _.jsxs("div",{className:"h-screen w-full flex flex-col md:flex-row bg-slate-100 overflow-hidden",children:[_.jsx(EN,{activeTab:o,setActiveTab:l,markdownContent:n,setMarkdownContent:r,prompt:c,setPrompt:f,isGenerating:p,handleGenerate:M,error:w,lang:a,toggleLanguage:$,designData:e,setDesignData:t,provider:g,setShowAiSettings:y,aiConfig:N,t:R}),_.jsx(bN,{designData:e,markdownContent:n,previewMode:i,setPreviewMode:s,lang:a,t:R,aiConfig:N}),_.jsx(LN,{isOpen:S,onClose:()=>y(!1),provider:g,setProvider:v,geminiKey:T,setGeminiKey:P,openaiConfig:k,setOpenaiConfig:I,t:R})]})},DN=()=>_.jsx(CN,{children:_.jsx(ON,{})}),aw=document.getElementById("root");if(!aw)throw new Error("Could not find root element to mount to");const FN=$a.createRoot(aw);FN.render(_.jsx(bw.StrictMode,{children:_.jsx(DN,{})}));
