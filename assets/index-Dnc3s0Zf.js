(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zm={exports:{}},hl={},Bm={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=Symbol.for("react.element"),Wx=Symbol.for("react.portal"),qx=Symbol.for("react.fragment"),Kx=Symbol.for("react.strict_mode"),Yx=Symbol.for("react.profiler"),Jx=Symbol.for("react.provider"),Xx=Symbol.for("react.context"),Qx=Symbol.for("react.forward_ref"),Zx=Symbol.for("react.suspense"),ev=Symbol.for("react.memo"),tv=Symbol.for("react.lazy"),_d=Symbol.iterator;function nv(e){return e===null||typeof e!="object"?null:(e=_d&&e[_d]||e["@@iterator"],typeof e=="function"?e:null)}var Um={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vm=Object.assign,Hm={};function si(e,t,n){this.props=e,this.context=t,this.refs=Hm,this.updater=n||Um}si.prototype.isReactComponent={};si.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};si.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jm(){}jm.prototype=si.prototype;function dc(e,t,n){this.props=e,this.context=t,this.refs=Hm,this.updater=n||Um}var pc=dc.prototype=new jm;pc.constructor=dc;Vm(pc,si.prototype);pc.isPureReactComponent=!0;var Sd=Array.isArray,Gm=Object.prototype.hasOwnProperty,hc={current:null},Wm={key:!0,ref:!0,__self:!0,__source:!0};function qm(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Gm.call(t,r)&&!Wm.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:xo,type:e,key:o,ref:s,props:i,_owner:hc.current}}function rv(e,t){return{$$typeof:xo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mc(e){return typeof e=="object"&&e!==null&&e.$$typeof===xo}function iv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ed=/\/+/g;function Ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iv(""+e.key):t.toString(36)}function cs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case xo:case Wx:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ql(s,0):r,Sd(i)?(n="",e!=null&&(n=e.replace(Ed,"$&/")+"/"),cs(i,t,n,"",function(u){return u})):i!=null&&(mc(i)&&(i=rv(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ed,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Sd(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Ql(o,l);s+=cs(o,t,n,a,i)}else if(a=nv(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Ql(o,l++),s+=cs(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Lo(e,t,n){if(e==null)return e;var r=[],i=0;return cs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function ov(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},fs={transition:null},sv={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:fs,ReactCurrentOwner:hc};function Km(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Lo,forEach:function(e,t,n){Lo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lo(e,function(){t++}),t},toArray:function(e){return Lo(e,function(t){return t})||[]},only:function(e){if(!mc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=si;Q.Fragment=qx;Q.Profiler=Yx;Q.PureComponent=dc;Q.StrictMode=Kx;Q.Suspense=Zx;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sv;Q.act=Km;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vm({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=hc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Gm.call(t,a)&&!Wm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:xo,type:e.type,key:i,ref:o,props:r,_owner:s}};Q.createContext=function(e){return e={$$typeof:Xx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jx,_context:e},e.Consumer=e};Q.createElement=qm;Q.createFactory=function(e){var t=qm.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Qx,render:e}};Q.isValidElement=mc;Q.lazy=function(e){return{$$typeof:tv,_payload:{_status:-1,_result:e},_init:ov}};Q.memo=function(e,t){return{$$typeof:ev,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=fs.transition;fs.transition={};try{e()}finally{fs.transition=t}};Q.unstable_act=Km;Q.useCallback=function(e,t){return Ze.current.useCallback(e,t)};Q.useContext=function(e){return Ze.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Ze.current.useEffect(e,t)};Q.useId=function(){return Ze.current.useId()};Q.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Ze.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};Q.useRef=function(e){return Ze.current.useRef(e)};Q.useState=function(e){return Ze.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Ze.current.useTransition()};Q.version="18.3.1";Bm.exports=Q;var se=Bm.exports;const Ti=fc(se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=se,av=Symbol.for("react.element"),uv=Symbol.for("react.fragment"),cv=Object.prototype.hasOwnProperty,fv=lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dv={key:!0,ref:!0,__self:!0,__source:!0};function Ym(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)cv.call(t,r)&&!dv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:av,type:e,key:o,ref:s,props:i,_owner:fv.current}}hl.Fragment=uv;hl.jsx=Ym;hl.jsxs=Ym;zm.exports=hl;var _=zm.exports,Ga={},Jm={exports:{}},Et={},Xm={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,U){var C=F.length;F.push(U);e:for(;0<C;){var K=C-1>>>1,X=F[K];if(0<i(X,U))F[K]=U,F[C]=X,C=K;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],C=F.pop();if(C!==U){F[0]=C;e:for(var K=0,X=F.length,E=X>>>1;K<E;){var re=2*(K+1)-1,De=F[re],ee=re+1,dt=F[ee];if(0>i(De,C))ee<X&&0>i(dt,De)?(F[K]=dt,F[ee]=C,K=ee):(F[K]=De,F[re]=C,K=re);else if(ee<X&&0>i(dt,C))F[K]=dt,F[ee]=C,K=ee;else break e}}return U}function i(F,U){var C=F.sortIndex-U.sortIndex;return C!==0?C:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,m=3,h=!1,w=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(F){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=F)r(u),U.sortIndex=U.expirationTime,t(a,U);else break;U=n(u)}}function T(F){if(x=!1,v(F),!w)if(n(a)!==null)w=!0,xe(I);else{var U=n(u);U!==null&&ve(T,U.startTime-F)}}function I(F,U){w=!1,x&&(x=!1,y(N),N=-1),h=!0;var C=m;try{for(v(U),f=n(a);f!==null&&(!(f.expirationTime>U)||F&&!R());){var K=f.callback;if(typeof K=="function"){f.callback=null,m=f.priorityLevel;var X=K(f.expirationTime<=U);U=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(a)&&r(a),v(U)}else r(a);f=n(a)}if(f!==null)var E=!0;else{var re=n(u);re!==null&&ve(T,re.startTime-U),E=!1}return E}finally{f=null,m=C,h=!1}}var k=!1,P=null,N=-1,O=5,M=-1;function R(){return!(e.unstable_now()-M<O)}function $(){if(P!==null){var F=e.unstable_now();M=F;var U=!0;try{U=P(!0,F)}finally{U?W():(k=!1,P=null)}}else k=!1}var W;if(typeof g=="function")W=function(){g($)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,J=ne.port2;ne.port1.onmessage=$,W=function(){J.postMessage(null)}}else W=function(){S($,0)};function xe(F){P=F,k||(k=!0,W())}function ve(F,U){N=S(function(){F(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){w||h||(w=!0,xe(I))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(F){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var C=m;m=U;try{return F()}finally{m=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var C=m;m=F;try{return U()}finally{m=C}},e.unstable_scheduleCallback=function(F,U,C){var K=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?K+C:K):C=K,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=C+X,F={id:c++,callback:U,priorityLevel:F,startTime:C,expirationTime:X,sortIndex:-1},C>K?(F.sortIndex=C,t(u,F),n(a)===null&&F===n(u)&&(x?(y(N),N=-1):x=!0,ve(T,C-K))):(F.sortIndex=X,t(a,F),w||h||(w=!0,xe(I))),F},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(F){var U=m;return function(){var C=m;m=U;try{return F.apply(this,arguments)}finally{m=C}}}})(Qm);Xm.exports=Qm;var pv=Xm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=se,_t=pv;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zm=new Set,Xi={};function hr(e,t){Zr(e,t),Zr(e+"Capture",t)}function Zr(e,t){for(Xi[e]=t,e=0;e<t.length;e++)Zm.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wa=Object.prototype.hasOwnProperty,mv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kd={},Td={};function gv(e){return Wa.call(Td,e)?!0:Wa.call(kd,e)?!1:mv.test(e)?Td[e]=!0:(kd[e]=!0,!1)}function yv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wv(e,t,n,r){if(t===null||typeof t>"u"||yv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var gc=/[\-:]([a-z])/g;function yc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gc,yc);He[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gc,yc);He[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gc,yc);He[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function wc(e,t,n,r){var i=He.hasOwnProperty(t)?He[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wv(t,n,i,r)&&(n=null),r||i===null?gv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xn=hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oo=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),xc=Symbol.for("react.strict_mode"),qa=Symbol.for("react.profiler"),eg=Symbol.for("react.provider"),tg=Symbol.for("react.context"),vc=Symbol.for("react.forward_ref"),Ka=Symbol.for("react.suspense"),Ya=Symbol.for("react.suspense_list"),Cc=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),ng=Symbol.for("react.offscreen"),Id=Symbol.iterator;function gi(e){return e===null||typeof e!="object"?null:(e=Id&&e[Id]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Zl;function Ii(e){if(Zl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zl=t&&t[1]||""}return`
`+Zl+e}var ea=!1;function ta(e,t){if(!e||ea)return"";ea=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{ea=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ii(e):""}function xv(e){switch(e.tag){case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 2:case 15:return e=ta(e.type,!1),e;case 11:return e=ta(e.type.render,!1),e;case 1:return e=ta(e.type,!0),e;default:return""}}function Ja(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Pr:return"Portal";case qa:return"Profiler";case xc:return"StrictMode";case Ka:return"Suspense";case Ya:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tg:return(e.displayName||"Context")+".Consumer";case eg:return(e._context.displayName||"Context")+".Provider";case vc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cc:return t=e.displayName||null,t!==null?t:Ja(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return Ja(e(t))}catch{}}return null}function vv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ja(t);case 8:return t===xc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cv(e){var t=rg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Do(e){e._valueTracker||(e._valueTracker=Cv(e))}function ig(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=rg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xa(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function og(e,t){t=t.checked,t!=null&&wc(e,"checked",t,!1)}function Qa(e,t){og(e,t);var n=Un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Za(e,t.type,n):t.hasOwnProperty("defaultValue")&&Za(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ad(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Za(e,t,n){(t!=="number"||Os(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pi=Array.isArray;function Ur(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Un(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function eu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(Pi(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Un(n)}}function sg(e,t){var n=Un(t.value),r=Un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fo,ag=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fo=Fo||document.createElement("div"),Fo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_v=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(e){_v.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fi[t]=Fi[e]})});function ug(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fi.hasOwnProperty(e)&&Fi[e]?(""+t).trim():t+"px"}function cg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ug(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Sv=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nu(e,t){if(t){if(Sv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function ru(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ou=null,Vr=null,Hr=null;function Md(e){if(e=_o(e)){if(typeof ou!="function")throw Error(b(280));var t=e.stateNode;t&&(t=xl(t),ou(e.stateNode,e.type,t))}}function fg(e){Vr?Hr?Hr.push(e):Hr=[e]:Vr=e}function dg(){if(Vr){var e=Vr,t=Hr;if(Hr=Vr=null,Md(e),t)for(e=0;e<t.length;e++)Md(t[e])}}function pg(e,t){return e(t)}function hg(){}var na=!1;function mg(e,t,n){if(na)return e(t,n);na=!0;try{return pg(e,t,n)}finally{na=!1,(Vr!==null||Hr!==null)&&(hg(),dg())}}function Zi(e,t){var n=e.stateNode;if(n===null)return null;var r=xl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var su=!1;if(mn)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){su=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{su=!1}function Ev(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var $i=!1,Ds=null,Fs=!1,lu=null,kv={onError:function(e){$i=!0,Ds=e}};function Tv(e,t,n,r,i,o,s,l,a){$i=!1,Ds=null,Ev.apply(kv,arguments)}function Iv(e,t,n,r,i,o,s,l,a){if(Tv.apply(this,arguments),$i){if($i){var u=Ds;$i=!1,Ds=null}else throw Error(b(198));Fs||(Fs=!0,lu=u)}}function mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bd(e){if(mr(e)!==e)throw Error(b(188))}function Pv(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return bd(i),e;if(o===r)return bd(i),t;o=o.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function yg(e){return e=Pv(e),e!==null?wg(e):null}function wg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wg(e);if(t!==null)return t;e=e.sibling}return null}var xg=_t.unstable_scheduleCallback,Ld=_t.unstable_cancelCallback,Av=_t.unstable_shouldYield,Nv=_t.unstable_requestPaint,Pe=_t.unstable_now,Rv=_t.unstable_getCurrentPriorityLevel,Sc=_t.unstable_ImmediatePriority,vg=_t.unstable_UserBlockingPriority,$s=_t.unstable_NormalPriority,Mv=_t.unstable_LowPriority,Cg=_t.unstable_IdlePriority,ml=null,nn=null;function bv(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Dv,Lv=Math.log,Ov=Math.LN2;function Dv(e){return e>>>=0,e===0?32:31-(Lv(e)/Ov|0)|0}var $o=64,zo=4194304;function Ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Ai(l):(o&=s,o!==0&&(r=Ai(o)))}else s=n&~i,s!==0?r=Ai(s):o!==0&&(r=Ai(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),i=1<<n,r|=e[n],t&=~i;return r}function Fv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $v(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-jt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=Fv(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function au(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _g(){var e=$o;return $o<<=1,!($o&4194240)&&($o=64),e}function ra(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function zv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-jt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ec(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var le=0;function Sg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Eg,kc,kg,Tg,Ig,uu=!1,Bo=[],Mn=null,bn=null,Ln=null,eo=new Map,to=new Map,Pn=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Od(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(t.pointerId)}}function wi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=_o(t),t!==null&&kc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Uv(e,t,n,r,i){switch(t){case"focusin":return Mn=wi(Mn,e,t,n,r,i),!0;case"dragenter":return bn=wi(bn,e,t,n,r,i),!0;case"mouseover":return Ln=wi(Ln,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return eo.set(o,wi(eo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,to.set(o,wi(to.get(o)||null,e,t,n,r,i)),!0}return!1}function Pg(e){var t=nr(e.target);if(t!==null){var n=mr(t);if(n!==null){if(t=n.tag,t===13){if(t=gg(n),t!==null){e.blockedOn=t,Ig(e.priority,function(){kg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);iu=r,n.target.dispatchEvent(r),iu=null}else return t=_o(n),t!==null&&kc(t),e.blockedOn=n,!1;t.shift()}return!0}function Dd(e,t,n){ds(e)&&n.delete(t)}function Vv(){uu=!1,Mn!==null&&ds(Mn)&&(Mn=null),bn!==null&&ds(bn)&&(bn=null),Ln!==null&&ds(Ln)&&(Ln=null),eo.forEach(Dd),to.forEach(Dd)}function xi(e,t){e.blockedOn===t&&(e.blockedOn=null,uu||(uu=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,Vv)))}function no(e){function t(i){return xi(i,e)}if(0<Bo.length){xi(Bo[0],e);for(var n=1;n<Bo.length;n++){var r=Bo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mn!==null&&xi(Mn,e),bn!==null&&xi(bn,e),Ln!==null&&xi(Ln,e),eo.forEach(t),to.forEach(t),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)Pg(n),n.blockedOn===null&&Pn.shift()}var jr=xn.ReactCurrentBatchConfig,Bs=!0;function Hv(e,t,n,r){var i=le,o=jr.transition;jr.transition=null;try{le=1,Tc(e,t,n,r)}finally{le=i,jr.transition=o}}function jv(e,t,n,r){var i=le,o=jr.transition;jr.transition=null;try{le=4,Tc(e,t,n,r)}finally{le=i,jr.transition=o}}function Tc(e,t,n,r){if(Bs){var i=cu(e,t,n,r);if(i===null)pa(e,t,r,Us,n),Od(e,r);else if(Uv(i,e,t,n,r))r.stopPropagation();else if(Od(e,r),t&4&&-1<Bv.indexOf(e)){for(;i!==null;){var o=_o(i);if(o!==null&&Eg(o),o=cu(e,t,n,r),o===null&&pa(e,t,r,Us,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else pa(e,t,r,null,n)}}var Us=null;function cu(e,t,n,r){if(Us=null,e=_c(r),e=nr(e),e!==null)if(t=mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Us=e,null}function Ag(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rv()){case Sc:return 1;case vg:return 4;case $s:case Mv:return 16;case Cg:return 536870912;default:return 16}default:return 16}}var Nn=null,Ic=null,ps=null;function Ng(){if(ps)return ps;var e,t=Ic,n=t.length,r,i="value"in Nn?Nn.value:Nn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return ps=i.slice(e,1<r?1-r:void 0)}function hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uo(){return!0}function Fd(){return!1}function kt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uo:Fd,this.isPropagationStopped=Fd,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),t}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=kt(li),Co=Ee({},li,{view:0,detail:0}),Gv=kt(Co),ia,oa,vi,gl=Ee({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(ia=e.screenX-vi.screenX,oa=e.screenY-vi.screenY):oa=ia=0,vi=e),ia)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),$d=kt(gl),Wv=Ee({},gl,{dataTransfer:0}),qv=kt(Wv),Kv=Ee({},Co,{relatedTarget:0}),sa=kt(Kv),Yv=Ee({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Jv=kt(Yv),Xv=Ee({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qv=kt(Xv),Zv=Ee({},li,{data:0}),zd=kt(Zv),eC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nC[e])?!!t[e]:!1}function Ac(){return rC}var iC=Ee({},Co,{key:function(e){if(e.key){var t=eC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ac,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oC=kt(iC),sC=Ee({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=kt(sC),lC=Ee({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ac}),aC=kt(lC),uC=Ee({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),cC=kt(uC),fC=Ee({},gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dC=kt(fC),pC=[9,13,27,32],Nc=mn&&"CompositionEvent"in window,zi=null;mn&&"documentMode"in document&&(zi=document.documentMode);var hC=mn&&"TextEvent"in window&&!zi,Rg=mn&&(!Nc||zi&&8<zi&&11>=zi),Ud=" ",Vd=!1;function Mg(e,t){switch(e){case"keyup":return pC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function mC(e,t){switch(e){case"compositionend":return bg(t);case"keypress":return t.which!==32?null:(Vd=!0,Ud);case"textInput":return e=t.data,e===Ud&&Vd?null:e;default:return null}}function gC(e,t){if(Nr)return e==="compositionend"||!Nc&&Mg(e,t)?(e=Ng(),ps=Ic=Nn=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rg&&t.locale!=="ko"?null:t.data;default:return null}}var yC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yC[e.type]:t==="textarea"}function Lg(e,t,n,r){fg(r),t=Vs(t,"onChange"),0<t.length&&(n=new Pc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bi=null,ro=null;function wC(e){Gg(e,0)}function yl(e){var t=br(e);if(ig(t))return e}function xC(e,t){if(e==="change")return t}var Og=!1;if(mn){var la;if(mn){var aa="oninput"in document;if(!aa){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),aa=typeof jd.oninput=="function"}la=aa}else la=!1;Og=la&&(!document.documentMode||9<document.documentMode)}function Gd(){Bi&&(Bi.detachEvent("onpropertychange",Dg),ro=Bi=null)}function Dg(e){if(e.propertyName==="value"&&yl(ro)){var t=[];Lg(t,ro,e,_c(e)),mg(wC,t)}}function vC(e,t,n){e==="focusin"?(Gd(),Bi=t,ro=n,Bi.attachEvent("onpropertychange",Dg)):e==="focusout"&&Gd()}function CC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yl(ro)}function _C(e,t){if(e==="click")return yl(t)}function SC(e,t){if(e==="input"||e==="change")return yl(t)}function EC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:EC;function io(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wa.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function Wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qd(e,t){var n=Wd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wd(n)}}function Fg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $g(){for(var e=window,t=Os();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Os(e.document)}return t}function Rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kC(e){var t=$g(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fg(n.ownerDocument.documentElement,n)){if(r!==null&&Rc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=qd(n,o);var s=qd(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TC=mn&&"documentMode"in document&&11>=document.documentMode,Rr=null,fu=null,Ui=null,du=!1;function Kd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;du||Rr==null||Rr!==Os(r)||(r=Rr,"selectionStart"in r&&Rc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ui&&io(Ui,r)||(Ui=r,r=Vs(fu,"onSelect"),0<r.length&&(t=new Pc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rr)))}function Vo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mr={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionend:Vo("Transition","TransitionEnd")},ua={},zg={};mn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function wl(e){if(ua[e])return ua[e];if(!Mr[e])return e;var t=Mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zg)return ua[e]=t[n];return e}var Bg=wl("animationend"),Ug=wl("animationiteration"),Vg=wl("animationstart"),Hg=wl("transitionend"),jg=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(e,t){jg.set(e,t),hr(t,[e])}for(var ca=0;ca<Yd.length;ca++){var fa=Yd[ca],IC=fa.toLowerCase(),PC=fa[0].toUpperCase()+fa.slice(1);Hn(IC,"on"+PC)}Hn(Bg,"onAnimationEnd");Hn(Ug,"onAnimationIteration");Hn(Vg,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(Hg,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Jd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Iv(r,t,void 0,e),e.currentTarget=null}function Gg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Jd(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Jd(i,l,u),o=a}}}if(Fs)throw e=lu,Fs=!1,lu=null,e}function he(e,t){var n=t[yu];n===void 0&&(n=t[yu]=new Set);var r=e+"__bubble";n.has(r)||(Wg(t,e,2,!1),n.add(r))}function da(e,t,n){var r=0;t&&(r|=4),Wg(n,e,r,t)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function oo(e){if(!e[Ho]){e[Ho]=!0,Zm.forEach(function(n){n!=="selectionchange"&&(AC.has(n)||da(n,!1,e),da(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ho]||(t[Ho]=!0,da("selectionchange",!1,t))}}function Wg(e,t,n,r){switch(Ag(t)){case 1:var i=Hv;break;case 4:i=jv;break;default:i=Tc}n=i.bind(null,t,n,e),i=void 0,!su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function pa(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=nr(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}mg(function(){var u=o,c=_c(n),f=[];e:{var m=jg.get(e);if(m!==void 0){var h=Pc,w=e;switch(e){case"keypress":if(hs(n)===0)break e;case"keydown":case"keyup":h=oC;break;case"focusin":w="focus",h=sa;break;case"focusout":w="blur",h=sa;break;case"beforeblur":case"afterblur":h=sa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=aC;break;case Bg:case Ug:case Vg:h=Jv;break;case Hg:h=cC;break;case"scroll":h=Gv;break;case"wheel":h=dC;break;case"copy":case"cut":case"paste":h=Qv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Bd}var x=(t&4)!==0,S=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var g=u,v;g!==null;){v=g;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,y!==null&&(T=Zi(g,y),T!=null&&x.push(so(g,T,v)))),S)break;g=g.return}0<x.length&&(m=new h(m,w,null,n,c),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==iu&&(w=n.relatedTarget||n.fromElement)&&(nr(w)||w[gn]))break e;if((h||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=u,w=w?nr(w):null,w!==null&&(S=mr(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=u),h!==w)){if(x=$d,T="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Bd,T="onPointerLeave",y="onPointerEnter",g="pointer"),S=h==null?m:br(h),v=w==null?m:br(w),m=new x(T,g+"leave",h,n,c),m.target=S,m.relatedTarget=v,T=null,nr(c)===u&&(x=new x(y,g+"enter",w,n,c),x.target=v,x.relatedTarget=S,T=x),S=T,h&&w)t:{for(x=h,y=w,g=0,v=x;v;v=vr(v))g++;for(v=0,T=y;T;T=vr(T))v++;for(;0<g-v;)x=vr(x),g--;for(;0<v-g;)y=vr(y),v--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=vr(x),y=vr(y)}x=null}else x=null;h!==null&&Xd(f,m,h,x,!1),w!==null&&S!==null&&Xd(f,S,w,x,!0)}}e:{if(m=u?br(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var I=xC;else if(Hd(m))if(Og)I=SC;else{I=CC;var k=vC}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=_C);if(I&&(I=I(e,u))){Lg(f,I,n,c);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Za(m,"number",m.value)}switch(k=u?br(u):window,e){case"focusin":(Hd(k)||k.contentEditable==="true")&&(Rr=k,fu=u,Ui=null);break;case"focusout":Ui=fu=Rr=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,Kd(f,n,c);break;case"selectionchange":if(TC)break;case"keydown":case"keyup":Kd(f,n,c)}var P;if(Nc)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Nr?Mg(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Rg&&n.locale!=="ko"&&(Nr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Nr&&(P=Ng()):(Nn=c,Ic="value"in Nn?Nn.value:Nn.textContent,Nr=!0)),k=Vs(u,N),0<k.length&&(N=new zd(N,e,null,n,c),f.push({event:N,listeners:k}),P?N.data=P:(P=bg(n),P!==null&&(N.data=P)))),(P=hC?mC(e,n):gC(e,n))&&(u=Vs(u,"onBeforeInput"),0<u.length&&(c=new zd("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=P))}Gg(f,t)})}function so(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zi(e,n),o!=null&&r.unshift(so(e,o,i)),o=Zi(e,t),o!=null&&r.push(so(e,o,i))),e=e.return}return r}function vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xd(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Zi(n,o),a!=null&&s.unshift(so(n,a,l))):i||(a=Zi(n,o),a!=null&&s.push(so(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var NC=/\r\n?/g,RC=/\u0000|\uFFFD/g;function Qd(e){return(typeof e=="string"?e:""+e).replace(NC,`
`).replace(RC,"")}function jo(e,t,n){if(t=Qd(t),Qd(e)!==t&&n)throw Error(b(425))}function Hs(){}var pu=null,hu=null;function mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gu=typeof setTimeout=="function"?setTimeout:void 0,MC=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,bC=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(e){return Zd.resolve(null).then(e).catch(LC)}:gu;function LC(e){setTimeout(function(){throw e})}function ha(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),no(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);no(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ep(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),Zt="__reactFiber$"+ai,lo="__reactProps$"+ai,gn="__reactContainer$"+ai,yu="__reactEvents$"+ai,OC="__reactListeners$"+ai,DC="__reactHandles$"+ai;function nr(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ep(e);e!==null;){if(n=e[Zt])return n;e=ep(e)}return t}e=n,n=e.parentNode}return null}function _o(e){return e=e[Zt]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function xl(e){return e[lo]||null}var wu=[],Lr=-1;function jn(e){return{current:e}}function me(e){0>Lr||(e.current=wu[Lr],wu[Lr]=null,Lr--)}function de(e,t){Lr++,wu[Lr]=e.current,e.current=t}var Vn={},Ye=jn(Vn),lt=jn(!1),ar=Vn;function ei(e,t){var n=e.type.contextTypes;if(!n)return Vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function at(e){return e=e.childContextTypes,e!=null}function js(){me(lt),me(Ye)}function tp(e,t,n){if(Ye.current!==Vn)throw Error(b(168));de(Ye,t),de(lt,n)}function qg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(b(108,vv(e)||"Unknown",i));return Ee({},n,r)}function Gs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,ar=Ye.current,de(Ye,e),de(lt,lt.current),!0}function np(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=qg(e,t,ar),r.__reactInternalMemoizedMergedChildContext=e,me(lt),me(Ye),de(Ye,e)):me(lt),de(lt,n)}var fn=null,vl=!1,ma=!1;function Kg(e){fn===null?fn=[e]:fn.push(e)}function FC(e){vl=!0,Kg(e)}function Gn(){if(!ma&&fn!==null){ma=!0;var e=0,t=le;try{var n=fn;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,vl=!1}catch(i){throw fn!==null&&(fn=fn.slice(e+1)),xg(Sc,Gn),i}finally{le=t,ma=!1}}return null}var Or=[],Dr=0,Ws=null,qs=0,It=[],Pt=0,ur=null,dn=1,pn="";function Qn(e,t){Or[Dr++]=qs,Or[Dr++]=Ws,Ws=e,qs=t}function Yg(e,t,n){It[Pt++]=dn,It[Pt++]=pn,It[Pt++]=ur,ur=e;var r=dn;e=pn;var i=32-jt(r)-1;r&=~(1<<i),n+=1;var o=32-jt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,dn=1<<32-jt(t)+i|n<<i|r,pn=o+e}else dn=1<<o|n<<i|r,pn=e}function Mc(e){e.return!==null&&(Qn(e,1),Yg(e,1,0))}function bc(e){for(;e===Ws;)Ws=Or[--Dr],Or[Dr]=null,qs=Or[--Dr],Or[Dr]=null;for(;e===ur;)ur=It[--Pt],It[Pt]=null,pn=It[--Pt],It[Pt]=null,dn=It[--Pt],It[Pt]=null}var Ct=null,xt=null,ye=!1,Vt=null;function Jg(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,xt=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ur!==null?{id:dn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ct=e,xt=null,!0):!1;default:return!1}}function xu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vu(e){if(ye){var t=xt;if(t){var n=t;if(!rp(e,t)){if(xu(e))throw Error(b(418));t=On(n.nextSibling);var r=Ct;t&&rp(e,t)?Jg(r,n):(e.flags=e.flags&-4097|2,ye=!1,Ct=e)}}else{if(xu(e))throw Error(b(418));e.flags=e.flags&-4097|2,ye=!1,Ct=e}}}function ip(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Go(e){if(e!==Ct)return!1;if(!ye)return ip(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mu(e.type,e.memoizedProps)),t&&(t=xt)){if(xu(e))throw Xg(),Error(b(418));for(;t;)Jg(e,t),t=On(t.nextSibling)}if(ip(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=On(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=Ct?On(e.stateNode.nextSibling):null;return!0}function Xg(){for(var e=xt;e;)e=On(e.nextSibling)}function ti(){xt=Ct=null,ye=!1}function Lc(e){Vt===null?Vt=[e]:Vt.push(e)}var $C=xn.ReactCurrentBatchConfig;function Ci(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function Wo(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function op(e){var t=e._init;return t(e._payload)}function Qg(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=zn(y,g),y.index=0,y.sibling=null,y}function o(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,v,T){return g===null||g.tag!==6?(g=_a(v,y.mode,T),g.return=y,g):(g=i(g,v),g.return=y,g)}function a(y,g,v,T){var I=v.type;return I===Ar?c(y,g,v.props.children,T,v.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Tn&&op(I)===g.type)?(T=i(g,v.props),T.ref=Ci(y,g,v),T.return=y,T):(T=Cs(v.type,v.key,v.props,null,y.mode,T),T.ref=Ci(y,g,v),T.return=y,T)}function u(y,g,v,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Sa(v,y.mode,T),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function c(y,g,v,T,I){return g===null||g.tag!==7?(g=lr(v,y.mode,T,I),g.return=y,g):(g=i(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=_a(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Oo:return v=Cs(g.type,g.key,g.props,null,y.mode,v),v.ref=Ci(y,null,g),v.return=y,v;case Pr:return g=Sa(g,y.mode,v),g.return=y,g;case Tn:var T=g._init;return f(y,T(g._payload),v)}if(Pi(g)||gi(g))return g=lr(g,y.mode,v,null),g.return=y,g;Wo(y,g)}return null}function m(y,g,v,T){var I=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:l(y,g,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Oo:return v.key===I?a(y,g,v,T):null;case Pr:return v.key===I?u(y,g,v,T):null;case Tn:return I=v._init,m(y,g,I(v._payload),T)}if(Pi(v)||gi(v))return I!==null?null:c(y,g,v,T,null);Wo(y,v)}return null}function h(y,g,v,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(v)||null,l(g,y,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Oo:return y=y.get(T.key===null?v:T.key)||null,a(g,y,T,I);case Pr:return y=y.get(T.key===null?v:T.key)||null,u(g,y,T,I);case Tn:var k=T._init;return h(y,g,v,k(T._payload),I)}if(Pi(T)||gi(T))return y=y.get(v)||null,c(g,y,T,I,null);Wo(g,T)}return null}function w(y,g,v,T){for(var I=null,k=null,P=g,N=g=0,O=null;P!==null&&N<v.length;N++){P.index>N?(O=P,P=null):O=P.sibling;var M=m(y,P,v[N],T);if(M===null){P===null&&(P=O);break}e&&P&&M.alternate===null&&t(y,P),g=o(M,g,N),k===null?I=M:k.sibling=M,k=M,P=O}if(N===v.length)return n(y,P),ye&&Qn(y,N),I;if(P===null){for(;N<v.length;N++)P=f(y,v[N],T),P!==null&&(g=o(P,g,N),k===null?I=P:k.sibling=P,k=P);return ye&&Qn(y,N),I}for(P=r(y,P);N<v.length;N++)O=h(P,y,N,v[N],T),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?N:O.key),g=o(O,g,N),k===null?I=O:k.sibling=O,k=O);return e&&P.forEach(function(R){return t(y,R)}),ye&&Qn(y,N),I}function x(y,g,v,T){var I=gi(v);if(typeof I!="function")throw Error(b(150));if(v=I.call(v),v==null)throw Error(b(151));for(var k=I=null,P=g,N=g=0,O=null,M=v.next();P!==null&&!M.done;N++,M=v.next()){P.index>N?(O=P,P=null):O=P.sibling;var R=m(y,P,M.value,T);if(R===null){P===null&&(P=O);break}e&&P&&R.alternate===null&&t(y,P),g=o(R,g,N),k===null?I=R:k.sibling=R,k=R,P=O}if(M.done)return n(y,P),ye&&Qn(y,N),I;if(P===null){for(;!M.done;N++,M=v.next())M=f(y,M.value,T),M!==null&&(g=o(M,g,N),k===null?I=M:k.sibling=M,k=M);return ye&&Qn(y,N),I}for(P=r(y,P);!M.done;N++,M=v.next())M=h(P,y,N,M.value,T),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?N:M.key),g=o(M,g,N),k===null?I=M:k.sibling=M,k=M);return e&&P.forEach(function($){return t(y,$)}),ye&&Qn(y,N),I}function S(y,g,v,T){if(typeof v=="object"&&v!==null&&v.type===Ar&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Oo:e:{for(var I=v.key,k=g;k!==null;){if(k.key===I){if(I=v.type,I===Ar){if(k.tag===7){n(y,k.sibling),g=i(k,v.props.children),g.return=y,y=g;break e}}else if(k.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Tn&&op(I)===k.type){n(y,k.sibling),g=i(k,v.props),g.ref=Ci(y,k,v),g.return=y,y=g;break e}n(y,k);break}else t(y,k);k=k.sibling}v.type===Ar?(g=lr(v.props.children,y.mode,T,v.key),g.return=y,y=g):(T=Cs(v.type,v.key,v.props,null,y.mode,T),T.ref=Ci(y,g,v),T.return=y,y=T)}return s(y);case Pr:e:{for(k=v.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=Sa(v,y.mode,T),g.return=y,y=g}return s(y);case Tn:return k=v._init,S(y,g,k(v._payload),T)}if(Pi(v))return w(y,g,v,T);if(gi(v))return x(y,g,v,T);Wo(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,v),g.return=y,y=g):(n(y,g),g=_a(v,y.mode,T),g.return=y,y=g),s(y)):n(y,g)}return S}var ni=Qg(!0),Zg=Qg(!1),Ks=jn(null),Ys=null,Fr=null,Oc=null;function Dc(){Oc=Fr=Ys=null}function Fc(e){var t=Ks.current;me(Ks),e._currentValue=t}function Cu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gr(e,t){Ys=e,Oc=Fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(Oc!==e)if(e={context:e,memoizedValue:t,next:null},Fr===null){if(Ys===null)throw Error(b(308));Fr=e,Ys.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var rr=null;function $c(e){rr===null?rr=[e]:rr.push(e)}function ey(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,$c(t)):(n.next=i.next,i.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var In=!1;function zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ty(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yn(e,n)}return i=r.interleaved,i===null?(t.next=t,$c(r)):(t.next=i.next,i.next=t),r.interleaved=t,yn(e,n)}function ms(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ec(e,n)}}function sp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Js(e,t,n,r){var i=e.updateQueue;In=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,c=u=a=null,l=o;do{var m=l.lane,h=l.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,h=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(h,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(h,f,m):w,m==null)break e;f=Ee({},f,m);break e;case 2:In=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=f):c=c.next=h,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);fr|=s,e.lanes=s,e.memoizedState=f}}function lp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var So={},rn=jn(So),ao=jn(So),uo=jn(So);function ir(e){if(e===So)throw Error(b(174));return e}function Bc(e,t){switch(de(uo,t),de(ao,e),de(rn,So),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tu(t,e)}me(rn),de(rn,t)}function ri(){me(rn),me(ao),me(uo)}function ny(e){ir(uo.current);var t=ir(rn.current),n=tu(t,e.type);t!==n&&(de(ao,e),de(rn,n))}function Uc(e){ao.current===e&&(me(rn),me(ao))}var _e=jn(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=[];function Vc(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var gs=xn.ReactCurrentDispatcher,ya=xn.ReactCurrentBatchConfig,cr=0,Se=null,be=null,$e=null,Qs=!1,Vi=!1,co=0,zC=0;function Ge(){throw Error(b(321))}function Hc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function jc(e,t,n,r,i,o){if(cr=o,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gs.current=e===null||e.memoizedState===null?HC:jC,e=n(r,i),Vi){o=0;do{if(Vi=!1,co=0,25<=o)throw Error(b(301));o+=1,$e=be=null,t.updateQueue=null,gs.current=GC,e=n(r,i)}while(Vi)}if(gs.current=Zs,t=be!==null&&be.next!==null,cr=0,$e=be=Se=null,Qs=!1,t)throw Error(b(300));return e}function Gc(){var e=co!==0;return co=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Se.memoizedState=$e=e:$e=$e.next=e,$e}function Ot(){if(be===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=$e===null?Se.memoizedState:$e.next;if(t!==null)$e=t,be=e;else{if(e===null)throw Error(b(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},$e===null?Se.memoizedState=$e=e:$e=$e.next=e}return $e}function fo(e,t){return typeof t=="function"?t(e):t}function wa(e){var t=Ot(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=be,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((cr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,Se.lanes|=c,fr|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Wt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Se.lanes|=o,fr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=Ot(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Wt(o,t.memoizedState)||(st=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ry(){}function iy(e,t){var n=Se,r=Ot(),i=t(),o=!Wt(r.memoizedState,i);if(o&&(r.memoizedState=i,st=!0),r=r.queue,Wc(ly.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,po(9,sy.bind(null,n,r,i,t),void 0,null),ze===null)throw Error(b(349));cr&30||oy(n,t,i)}return i}function oy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sy(e,t,n,r){t.value=n,t.getSnapshot=r,ay(t)&&uy(e)}function ly(e,t,n){return n(function(){ay(t)&&uy(e)})}function ay(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function uy(e){var t=yn(e,1);t!==null&&Gt(t,e,1,-1)}function ap(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t.queue=e,e=e.dispatch=VC.bind(null,Se,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cy(){return Ot().memoizedState}function ys(e,t,n,r){var i=Yt();Se.flags|=e,i.memoizedState=po(1|t,n,void 0,r===void 0?null:r)}function Cl(e,t,n,r){var i=Ot();r=r===void 0?null:r;var o=void 0;if(be!==null){var s=be.memoizedState;if(o=s.destroy,r!==null&&Hc(r,s.deps)){i.memoizedState=po(t,n,o,r);return}}Se.flags|=e,i.memoizedState=po(1|t,n,o,r)}function up(e,t){return ys(8390656,8,e,t)}function Wc(e,t){return Cl(2048,8,e,t)}function fy(e,t){return Cl(4,2,e,t)}function dy(e,t){return Cl(4,4,e,t)}function py(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hy(e,t,n){return n=n!=null?n.concat([e]):null,Cl(4,4,py.bind(null,t,e),n)}function qc(){}function my(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gy(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yy(e,t,n){return cr&21?(Wt(n,t)||(n=_g(),Se.lanes|=n,fr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function BC(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=ya.transition;ya.transition={};try{e(!1),t()}finally{le=n,ya.transition=r}}function wy(){return Ot().memoizedState}function UC(e,t,n){var r=$n(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xy(e))vy(t,n);else if(n=ey(e,t,n,r),n!==null){var i=Qe();Gt(n,e,r,i),Cy(n,t,r)}}function VC(e,t,n){var r=$n(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xy(e))vy(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Wt(l,s)){var a=t.interleaved;a===null?(i.next=i,$c(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=ey(e,t,i,r),n!==null&&(i=Qe(),Gt(n,e,r,i),Cy(n,t,r))}}function xy(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function vy(e,t){Vi=Qs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ec(e,n)}}var Zs={readContext:Lt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},HC={readContext:Lt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:up,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ys(4194308,4,py.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return ys(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=UC.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:ap,useDebugValue:qc,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=ap(!1),t=e[0];return e=BC.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,i=Yt();if(ye){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ze===null)throw Error(b(349));cr&30||oy(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,up(ly.bind(null,r,o,e),[e]),r.flags|=2048,po(9,sy.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Yt(),t=ze.identifierPrefix;if(ye){var n=pn,r=dn;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jC={readContext:Lt,useCallback:my,useContext:Lt,useEffect:Wc,useImperativeHandle:hy,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:gy,useReducer:wa,useRef:cy,useState:function(){return wa(fo)},useDebugValue:qc,useDeferredValue:function(e){var t=Ot();return yy(t,be.memoizedState,e)},useTransition:function(){var e=wa(fo)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:ry,useSyncExternalStore:iy,useId:wy,unstable_isNewReconciler:!1},GC={readContext:Lt,useCallback:my,useContext:Lt,useEffect:Wc,useImperativeHandle:hy,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:gy,useReducer:xa,useRef:cy,useState:function(){return xa(fo)},useDebugValue:qc,useDeferredValue:function(e){var t=Ot();return be===null?t.memoizedState=e:yy(t,be.memoizedState,e)},useTransition:function(){var e=xa(fo)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:ry,useSyncExternalStore:iy,useId:wy,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _u(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _l={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qe(),i=$n(e),o=hn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Dn(e,o,i),t!==null&&(Gt(t,e,i,r),ms(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qe(),i=$n(e),o=hn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Dn(e,o,i),t!==null&&(Gt(t,e,i,r),ms(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qe(),r=$n(e),i=hn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Dn(e,i,r),t!==null&&(Gt(t,e,r,n),ms(t,e,r))}};function cp(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!io(n,r)||!io(i,o):!0}function _y(e,t,n){var r=!1,i=Vn,o=t.contextType;return typeof o=="object"&&o!==null?o=Lt(o):(i=at(t)?ar:Ye.current,r=t.contextTypes,o=(r=r!=null)?ei(e,i):Vn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_l,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_l.enqueueReplaceState(t,t.state,null)}function Su(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},zc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Lt(o):(o=at(t)?ar:Ye.current,i.context=ei(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(_u(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&_l.enqueueReplaceState(i,i.state,null),Js(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,t){try{var n="",r=t;do n+=xv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function va(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Eu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var WC=typeof WeakMap=="function"?WeakMap:Map;function Sy(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tl||(tl=!0,Lu=r),Eu(e,t)},n}function Ey(e,t,n){n=hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Eu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Eu(e,t),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function dp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new WC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=s1.bind(null,e,t,n),t.then(e,e))}function pp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,Dn(n,t,1))),n.lanes|=1),e)}var qC=xn.ReactCurrentOwner,st=!1;function Xe(e,t,n,r){t.child=e===null?Zg(t,null,n,r):ni(t,e.child,n,r)}function mp(e,t,n,r,i){n=n.render;var o=t.ref;return Gr(t,i),r=jc(e,t,n,r,o,i),n=Gc(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wn(e,t,i)):(ye&&n&&Mc(t),t.flags|=1,Xe(e,t,r,i),t.child)}function gp(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!tf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ky(e,t,o,r,i)):(e=Cs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:io,n(s,r)&&e.ref===t.ref)return wn(e,t,i)}return t.flags|=1,e=zn(o,r),e.ref=t.ref,e.return=t,t.child=e}function ky(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(io(o,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,wn(e,t,i)}return ku(e,t,n,r,i)}function Ty(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(zr,wt),wt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(zr,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(zr,wt),wt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,de(zr,wt),wt|=r;return Xe(e,t,i,n),t.child}function Iy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ku(e,t,n,r,i){var o=at(n)?ar:Ye.current;return o=ei(t,o),Gr(t,i),n=jc(e,t,n,r,o,i),r=Gc(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wn(e,t,i)):(ye&&r&&Mc(t),t.flags|=1,Xe(e,t,n,i),t.child)}function yp(e,t,n,r,i){if(at(n)){var o=!0;Gs(t)}else o=!1;if(Gr(t,i),t.stateNode===null)ws(e,t),_y(t,n,r),Su(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=at(n)?ar:Ye.current,u=ei(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&fp(t,s,r,u),In=!1;var m=t.memoizedState;s.state=m,Js(t,r,s,i),a=t.memoizedState,l!==r||m!==a||lt.current||In?(typeof c=="function"&&(_u(t,n,c,r),a=t.memoizedState),(l=In||cp(t,n,l,r,m,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ty(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:zt(t.type,l),s.props=u,f=t.pendingProps,m=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Lt(a):(a=at(n)?ar:Ye.current,a=ei(t,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||m!==a)&&fp(t,s,r,a),In=!1,m=t.memoizedState,s.state=m,Js(t,r,s,i);var w=t.memoizedState;l!==f||m!==w||lt.current||In?(typeof h=="function"&&(_u(t,n,h,r),w=t.memoizedState),(u=In||cp(t,n,u,r,m,w,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,o,i)}function Tu(e,t,n,r,i,o){Iy(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&np(t,n,!1),wn(e,t,o);r=t.stateNode,qC.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ni(t,e.child,null,o),t.child=ni(t,null,l,o)):Xe(e,t,l,o),t.memoizedState=r.state,i&&np(t,n,!0),t.child}function Py(e){var t=e.stateNode;t.pendingContext?tp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tp(e,t.context,!1),Bc(e,t.containerInfo)}function wp(e,t,n,r,i){return ti(),Lc(i),t.flags|=256,Xe(e,t,n,r),t.child}var Iu={dehydrated:null,treeContext:null,retryLane:0};function Pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ay(e,t,n){var r=t.pendingProps,i=_e.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),de(_e,i&1),e===null)return vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=kl(s,r,0,null),e=lr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Pu(n),t.memoizedState=Iu,e):Kc(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return KC(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=zn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=zn(l,o):(o=lr(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Pu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Iu,r}return o=e.child,e=o.sibling,r=zn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kc(e,t){return t=kl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qo(e,t,n,r){return r!==null&&Lc(r),ni(t,e.child,null,n),e=Kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KC(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=va(Error(b(422))),qo(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=kl({mode:"visible",children:r.children},i,0,null),o=lr(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ni(t,e.child,null,s),t.child.memoizedState=Pu(s),t.memoizedState=Iu,o);if(!(t.mode&1))return qo(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(b(419)),r=va(o,r,void 0),qo(e,t,s,r)}if(l=(s&e.childLanes)!==0,st||l){if(r=ze,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yn(e,i),Gt(r,e,i,-1))}return ef(),r=va(Error(b(421))),qo(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=l1.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,xt=On(i.nextSibling),Ct=t,ye=!0,Vt=null,e!==null&&(It[Pt++]=dn,It[Pt++]=pn,It[Pt++]=ur,dn=e.id,pn=e.overflow,ur=t),t=Kc(t,r.children),t.flags|=4096,t)}function xp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cu(e.return,t,n)}function Ca(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ny(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Xe(e,t,r.children,n),r=_e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,n,t);else if(e.tag===19)xp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(_e,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Xs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ca(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ca(t,!0,n,null,o);break;case"together":Ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function YC(e,t,n){switch(t.tag){case 3:Py(t),ti();break;case 5:ny(t);break;case 1:at(t.type)&&Gs(t);break;case 4:Bc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;de(Ks,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?Ay(e,t,n):(de(_e,_e.current&1),e=wn(e,t,n),e!==null?e.sibling:null);de(_e,_e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ny(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(_e,_e.current),r)break;return null;case 22:case 23:return t.lanes=0,Ty(e,t,n)}return wn(e,t,n)}var Ry,Au,My,by;Ry=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Au=function(){};My=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ir(rn.current);var o=null;switch(n){case"input":i=Xa(e,i),r=Xa(e,r),o=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),o=[];break;case"textarea":i=eu(e,i),r=eu(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hs)}nu(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&he("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};by=function(e,t,n,r){n!==r&&(t.flags|=4)};function _i(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function JC(e,t,n){var r=t.pendingProps;switch(bc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return at(t.type)&&js(),We(t),null;case 3:return r=t.stateNode,ri(),me(lt),me(Ye),Vc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Go(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(Fu(Vt),Vt=null))),Au(e,t),We(t),null;case 5:Uc(t);var i=ir(uo.current);if(n=t.type,e!==null&&t.stateNode!=null)My(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return We(t),null}if(e=ir(rn.current),Go(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Zt]=t,r[lo]=o,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(i=0;i<Ni.length;i++)he(Ni[i],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Pd(r,o),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},he("invalid",r);break;case"textarea":Nd(r,o),he("invalid",r)}nu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&jo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&jo(r.textContent,l,e),i=["children",""+l]):Xi.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&he("scroll",r)}switch(n){case"input":Do(r),Ad(r,o,!0);break;case"textarea":Do(r),Rd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hs)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Zt]=t,e[lo]=r,Ry(e,t,!1,!1),t.stateNode=e;e:{switch(s=ru(n,r),n){case"dialog":he("cancel",e),he("close",e),i=r;break;case"iframe":case"object":case"embed":he("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ni.length;i++)he(Ni[i],e);i=r;break;case"source":he("error",e),i=r;break;case"img":case"image":case"link":he("error",e),he("load",e),i=r;break;case"details":he("toggle",e),i=r;break;case"input":Pd(e,r),i=Xa(e,r),he("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),he("invalid",e);break;case"textarea":Nd(e,r),i=eu(e,r),he("invalid",e);break;default:i=r}nu(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?cg(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ag(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Qi(e,a):typeof a=="number"&&Qi(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xi.hasOwnProperty(o)?a!=null&&o==="onScroll"&&he("scroll",e):a!=null&&wc(e,o,a,s))}switch(n){case"input":Do(e),Ad(e,r,!1);break;case"textarea":Do(e),Rd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Un(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ur(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Hs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)by(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=ir(uo.current),ir(rn.current),Go(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(o=r.nodeValue!==n)&&(e=Ct,e!==null))switch(e.tag){case 3:jo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return We(t),null;case 13:if(me(_e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&xt!==null&&t.mode&1&&!(t.flags&128))Xg(),ti(),t.flags|=98560,o=!1;else if(o=Go(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(b(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(b(317));o[Zt]=t}else ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),o=!1}else Vt!==null&&(Fu(Vt),Vt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Le===0&&(Le=3):ef())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return ri(),Au(e,t),e===null&&oo(t.stateNode.containerInfo),We(t),null;case 10:return Fc(t.type._context),We(t),null;case 17:return at(t.type)&&js(),We(t),null;case 19:if(me(_e),o=t.memoizedState,o===null)return We(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)_i(o,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Xs(e),s!==null){for(t.flags|=128,_i(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(_e,_e.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pe()>oi&&(t.flags|=128,r=!0,_i(o,!1),t.lanes=4194304)}else{if(!r)if(e=Xs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_i(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ye)return We(t),null}else 2*Pe()-o.renderingStartTime>oi&&n!==1073741824&&(t.flags|=128,r=!0,_i(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,n=_e.current,de(_e,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Zc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function XC(e,t){switch(bc(t),t.tag){case 1:return at(t.type)&&js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ri(),me(lt),me(Ye),Vc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uc(t),null;case 13:if(me(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(_e),null;case 4:return ri(),null;case 10:return Fc(t.type._context),null;case 22:case 23:return Zc(),null;case 24:return null;default:return null}}var Ko=!1,Ke=!1,QC=typeof WeakSet=="function"?WeakSet:Set,z=null;function $r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function Nu(e,t,n){try{n()}catch(r){Te(e,t,r)}}var vp=!1;function ZC(e,t){if(pu=Bs,e=$g(),Rc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=e,m=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=s),m===o&&++c===r&&(a=s),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(hu={focusedElem:e,selectionRange:n},Bs=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,S=w.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:zt(t.type,x),S);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(T){Te(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return w=vp,vp=!1,w}function Hi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nu(t,n,o)}i=i.next}while(i!==r)}}function Sl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ru(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ly(e){var t=e.alternate;t!==null&&(e.alternate=null,Ly(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[lo],delete t[yu],delete t[OC],delete t[DC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oy(e){return e.tag===5||e.tag===3||e.tag===4}function Cp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hs));else if(r!==4&&(e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}function bu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}var Be=null,Ut=!1;function Cn(e,t,n){for(n=n.child;n!==null;)Dy(e,t,n),n=n.sibling}function Dy(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ml,n)}catch{}switch(n.tag){case 5:Ke||$r(n,t);case 6:var r=Be,i=Ut;Be=null,Cn(e,t,n),Be=r,Ut=i,Be!==null&&(Ut?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Ut?(e=Be,n=n.stateNode,e.nodeType===8?ha(e.parentNode,n):e.nodeType===1&&ha(e,n),no(e)):ha(Be,n.stateNode));break;case 4:r=Be,i=Ut,Be=n.stateNode.containerInfo,Ut=!0,Cn(e,t,n),Be=r,Ut=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Nu(n,t,s),i=i.next}while(i!==r)}Cn(e,t,n);break;case 1:if(!Ke&&($r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,t,l)}Cn(e,t,n);break;case 21:Cn(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,Cn(e,t,n),Ke=r):Cn(e,t,n);break;default:Cn(e,t,n)}}function _p(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new QC),t.forEach(function(r){var i=a1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Be=l.stateNode,Ut=!1;break e;case 3:Be=l.stateNode.containerInfo,Ut=!0;break e;case 4:Be=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(Be===null)throw Error(b(160));Dy(o,s,i),Be=null,Ut=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Te(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fy(t,e),t=t.sibling}function Fy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),qt(e),r&4){try{Hi(3,e,e.return),Sl(3,e)}catch(x){Te(e,e.return,x)}try{Hi(5,e,e.return)}catch(x){Te(e,e.return,x)}}break;case 1:Ft(t,e),qt(e),r&512&&n!==null&&$r(n,n.return);break;case 5:if(Ft(t,e),qt(e),r&512&&n!==null&&$r(n,n.return),e.flags&32){var i=e.stateNode;try{Qi(i,"")}catch(x){Te(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&og(i,o),ru(l,s);var u=ru(l,o);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?cg(i,f):c==="dangerouslySetInnerHTML"?ag(i,f):c==="children"?Qi(i,f):wc(i,c,f,u)}switch(l){case"input":Qa(i,o);break;case"textarea":sg(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Ur(i,!!o.multiple,h,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ur(i,!!o.multiple,o.defaultValue,!0):Ur(i,!!o.multiple,o.multiple?[]:"",!1))}i[lo]=o}catch(x){Te(e,e.return,x)}}break;case 6:if(Ft(t,e),qt(e),r&4){if(e.stateNode===null)throw Error(b(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(x){Te(e,e.return,x)}}break;case 3:if(Ft(t,e),qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{no(t.containerInfo)}catch(x){Te(e,e.return,x)}break;case 4:Ft(t,e),qt(e);break;case 13:Ft(t,e),qt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Xc=Pe())),r&4&&_p(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(u=Ke)||c,Ft(t,e),Ke=u):Ft(t,e),qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(z=e,c=e.child;c!==null;){for(f=z=c;z!==null;){switch(m=z,h=m.child,m.tag){case 0:case 11:case 14:case 15:Hi(4,m,m.return);break;case 1:$r(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Te(r,n,x)}}break;case 5:$r(m,m.return);break;case 22:if(m.memoizedState!==null){Ep(f);continue}}h!==null?(h.return=m,z=h):Ep(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ug("display",s))}catch(x){Te(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Te(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ft(t,e),qt(e),r&4&&_p(e);break;case 21:break;default:Ft(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Oy(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qi(i,""),r.flags&=-33);var o=Cp(e);bu(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Cp(e);Mu(e,l,s);break;default:throw Error(b(161))}}catch(a){Te(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function e1(e,t,n){z=e,$y(e)}function $y(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var i=z,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ko;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ke;l=Ko;var u=Ke;if(Ko=s,(Ke=a)&&!u)for(z=i;z!==null;)s=z,a=s.child,s.tag===22&&s.memoizedState!==null?kp(i):a!==null?(a.return=s,z=a):kp(i);for(;o!==null;)z=o,$y(o),o=o.sibling;z=i,Ko=l,Ke=u}Sp(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,z=o):Sp(e)}}function Sp(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Sl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&lp(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lp(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&no(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Ke||t.flags&512&&Ru(t)}catch(m){Te(t,t.return,m)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function Ep(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function kp(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sl(4,t)}catch(a){Te(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Te(t,i,a)}}var o=t.return;try{Ru(t)}catch(a){Te(t,o,a)}break;case 5:var s=t.return;try{Ru(t)}catch(a){Te(t,s,a)}}}catch(a){Te(t,t.return,a)}if(t===e){z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,z=l;break}z=t.return}}var t1=Math.ceil,el=xn.ReactCurrentDispatcher,Yc=xn.ReactCurrentOwner,bt=xn.ReactCurrentBatchConfig,te=0,ze=null,Ne=null,Ve=0,wt=0,zr=jn(0),Le=0,ho=null,fr=0,El=0,Jc=0,ji=null,it=null,Xc=0,oi=1/0,cn=null,tl=!1,Lu=null,Fn=null,Yo=!1,Rn=null,nl=0,Gi=0,Ou=null,xs=-1,vs=0;function Qe(){return te&6?Pe():xs!==-1?xs:xs=Pe()}function $n(e){return e.mode&1?te&2&&Ve!==0?Ve&-Ve:$C.transition!==null?(vs===0&&(vs=_g()),vs):(e=le,e!==0||(e=window.event,e=e===void 0?16:Ag(e.type)),e):1}function Gt(e,t,n,r){if(50<Gi)throw Gi=0,Ou=null,Error(b(185));vo(e,n,r),(!(te&2)||e!==ze)&&(e===ze&&(!(te&2)&&(El|=n),Le===4&&An(e,Ve)),ut(e,r),n===1&&te===0&&!(t.mode&1)&&(oi=Pe()+500,vl&&Gn()))}function ut(e,t){var n=e.callbackNode;$v(e,t);var r=zs(e,e===ze?Ve:0);if(r===0)n!==null&&Ld(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ld(n),t===1)e.tag===0?FC(Tp.bind(null,e)):Kg(Tp.bind(null,e)),bC(function(){!(te&6)&&Gn()}),n=null;else{switch(Sg(r)){case 1:n=Sc;break;case 4:n=vg;break;case 16:n=$s;break;case 536870912:n=Cg;break;default:n=$s}n=Wy(n,zy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zy(e,t){if(xs=-1,vs=0,te&6)throw Error(b(327));var n=e.callbackNode;if(Wr()&&e.callbackNode!==n)return null;var r=zs(e,e===ze?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rl(e,r);else{t=r;var i=te;te|=2;var o=Uy();(ze!==e||Ve!==t)&&(cn=null,oi=Pe()+500,sr(e,t));do try{i1();break}catch(l){By(e,l)}while(!0);Dc(),el.current=o,te=i,Ne!==null?t=0:(ze=null,Ve=0,t=Le)}if(t!==0){if(t===2&&(i=au(e),i!==0&&(r=i,t=Du(e,i))),t===1)throw n=ho,sr(e,0),An(e,r),ut(e,Pe()),n;if(t===6)An(e,r);else{if(i=e.current.alternate,!(r&30)&&!n1(i)&&(t=rl(e,r),t===2&&(o=au(e),o!==0&&(r=o,t=Du(e,o))),t===1))throw n=ho,sr(e,0),An(e,r),ut(e,Pe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:Zn(e,it,cn);break;case 3:if(An(e,r),(r&130023424)===r&&(t=Xc+500-Pe(),10<t)){if(zs(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Qe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gu(Zn.bind(null,e,it,cn),t);break}Zn(e,it,cn);break;case 4:if(An(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-jt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t1(r/1960))-r,10<r){e.timeoutHandle=gu(Zn.bind(null,e,it,cn),r);break}Zn(e,it,cn);break;case 5:Zn(e,it,cn);break;default:throw Error(b(329))}}}return ut(e,Pe()),e.callbackNode===n?zy.bind(null,e):null}function Du(e,t){var n=ji;return e.current.memoizedState.isDehydrated&&(sr(e,t).flags|=256),e=rl(e,t),e!==2&&(t=it,it=n,t!==null&&Fu(t)),e}function Fu(e){it===null?it=e:it.push.apply(it,e)}function n1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t){for(t&=~Jc,t&=~El,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function Tp(e){if(te&6)throw Error(b(327));Wr();var t=zs(e,0);if(!(t&1))return ut(e,Pe()),null;var n=rl(e,t);if(e.tag!==0&&n===2){var r=au(e);r!==0&&(t=r,n=Du(e,r))}if(n===1)throw n=ho,sr(e,0),An(e,t),ut(e,Pe()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,it,cn),ut(e,Pe()),null}function Qc(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(oi=Pe()+500,vl&&Gn())}}function dr(e){Rn!==null&&Rn.tag===0&&!(te&6)&&Wr();var t=te;te|=1;var n=bt.transition,r=le;try{if(bt.transition=null,le=1,e)return e()}finally{le=r,bt.transition=n,te=t,!(te&6)&&Gn()}}function Zc(){wt=zr.current,me(zr)}function sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,MC(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(bc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&js();break;case 3:ri(),me(lt),me(Ye),Vc();break;case 5:Uc(r);break;case 4:ri();break;case 13:me(_e);break;case 19:me(_e);break;case 10:Fc(r.type._context);break;case 22:case 23:Zc()}n=n.return}if(ze=e,Ne=e=zn(e.current,null),Ve=wt=t,Le=0,ho=null,Jc=El=fr=0,it=ji=null,rr!==null){for(t=0;t<rr.length;t++)if(n=rr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}rr=null}return e}function By(e,t){do{var n=Ne;try{if(Dc(),gs.current=Zs,Qs){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qs=!1}if(cr=0,$e=be=Se=null,Vi=!1,co=0,Yc.current=null,n===null||n.return===null){Le=1,ho=t,Ne=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=Ve,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=pp(s);if(h!==null){h.flags&=-257,hp(h,s,l,o,t),h.mode&1&&dp(o,u,t),t=h,a=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(a),t.updateQueue=x}else w.add(a);break e}else{if(!(t&1)){dp(o,u,t),ef();break e}a=Error(b(426))}}else if(ye&&l.mode&1){var S=pp(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),hp(S,s,l,o,t),Lc(ii(a,l));break e}}o=a=ii(a,l),Le!==4&&(Le=2),ji===null?ji=[o]:ji.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Sy(o,a,t);sp(o,y);break e;case 1:l=a;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fn===null||!Fn.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=Ey(o,l,t);sp(o,T);break e}}o=o.return}while(o!==null)}Hy(n)}catch(I){t=I,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Uy(){var e=el.current;return el.current=Zs,e===null?Zs:e}function ef(){(Le===0||Le===3||Le===2)&&(Le=4),ze===null||!(fr&268435455)&&!(El&268435455)||An(ze,Ve)}function rl(e,t){var n=te;te|=2;var r=Uy();(ze!==e||Ve!==t)&&(cn=null,sr(e,t));do try{r1();break}catch(i){By(e,i)}while(!0);if(Dc(),te=n,el.current=r,Ne!==null)throw Error(b(261));return ze=null,Ve=0,Le}function r1(){for(;Ne!==null;)Vy(Ne)}function i1(){for(;Ne!==null&&!Av();)Vy(Ne)}function Vy(e){var t=Gy(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?Hy(e):Ne=t,Yc.current=null}function Hy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=XC(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ne=null;return}}else if(n=JC(n,t,wt),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Le===0&&(Le=5)}function Zn(e,t,n){var r=le,i=bt.transition;try{bt.transition=null,le=1,o1(e,t,n,r)}finally{bt.transition=i,le=r}return null}function o1(e,t,n,r){do Wr();while(Rn!==null);if(te&6)throw Error(b(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zv(e,o),e===ze&&(Ne=ze=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yo||(Yo=!0,Wy($s,function(){return Wr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=bt.transition,bt.transition=null;var s=le;le=1;var l=te;te|=4,Yc.current=null,ZC(e,n),Fy(n,e),kC(hu),Bs=!!pu,hu=pu=null,e.current=n,e1(n),Nv(),te=l,le=s,bt.transition=o}else e.current=n;if(Yo&&(Yo=!1,Rn=e,nl=i),o=e.pendingLanes,o===0&&(Fn=null),bv(n.stateNode),ut(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tl)throw tl=!1,e=Lu,Lu=null,e;return nl&1&&e.tag!==0&&Wr(),o=e.pendingLanes,o&1?e===Ou?Gi++:(Gi=0,Ou=e):Gi=0,Gn(),null}function Wr(){if(Rn!==null){var e=Sg(nl),t=bt.transition,n=le;try{if(bt.transition=null,le=16>e?16:e,Rn===null)var r=!1;else{if(e=Rn,Rn=null,nl=0,te&6)throw Error(b(331));var i=te;for(te|=4,z=e.current;z!==null;){var o=z,s=o.child;if(z.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:Hi(8,c,o)}var f=c.child;if(f!==null)f.return=c,z=f;else for(;z!==null;){c=z;var m=c.sibling,h=c.return;if(Ly(c),c===u){z=null;break}if(m!==null){m.return=h,z=m;break}z=h}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,z=s;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,z=y;break e}z=o.return}}var g=e.current;for(z=g;z!==null;){s=z;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,z=v;else e:for(s=g;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sl(9,l)}}catch(I){Te(l,l.return,I)}if(l===s){z=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,z=T;break e}z=l.return}}if(te=i,Gn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ml,e)}catch{}r=!0}return r}finally{le=n,bt.transition=t}}return!1}function Ip(e,t,n){t=ii(n,t),t=Sy(e,t,1),e=Dn(e,t,1),t=Qe(),e!==null&&(vo(e,1,t),ut(e,t))}function Te(e,t,n){if(e.tag===3)Ip(e,e,n);else for(;t!==null;){if(t.tag===3){Ip(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){e=ii(n,e),e=Ey(t,e,1),t=Dn(t,e,1),e=Qe(),t!==null&&(vo(t,1,e),ut(t,e));break}}t=t.return}}function s1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ve&n)===n&&(Le===4||Le===3&&(Ve&130023424)===Ve&&500>Pe()-Xc?sr(e,0):Jc|=n),ut(e,t)}function jy(e,t){t===0&&(e.mode&1?(t=zo,zo<<=1,!(zo&130023424)&&(zo=4194304)):t=1);var n=Qe();e=yn(e,t),e!==null&&(vo(e,t,n),ut(e,n))}function l1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jy(e,n)}function a1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),jy(e,n)}var Gy;Gy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,YC(e,t,n);st=!!(e.flags&131072)}else st=!1,ye&&t.flags&1048576&&Yg(t,qs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ws(e,t),e=t.pendingProps;var i=ei(t,Ye.current);Gr(t,n),i=jc(null,t,r,e,i,n);var o=Gc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(o=!0,Gs(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zc(t),i.updater=_l,t.stateNode=i,i._reactInternals=t,Su(t,r,e,n),t=Tu(null,t,r,!0,o,n)):(t.tag=0,ye&&o&&Mc(t),Xe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ws(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=c1(r),e=zt(r,e),i){case 0:t=ku(null,t,r,e,n);break e;case 1:t=yp(null,t,r,e,n);break e;case 11:t=mp(null,t,r,e,n);break e;case 14:t=gp(null,t,r,zt(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),ku(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),yp(e,t,r,i,n);case 3:e:{if(Py(t),e===null)throw Error(b(387));r=t.pendingProps,o=t.memoizedState,i=o.element,ty(e,t),Js(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ii(Error(b(423)),t),t=wp(e,t,r,n,i);break e}else if(r!==i){i=ii(Error(b(424)),t),t=wp(e,t,r,n,i);break e}else for(xt=On(t.stateNode.containerInfo.firstChild),Ct=t,ye=!0,Vt=null,n=Zg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ti(),r===i){t=wn(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return ny(t),e===null&&vu(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,mu(r,i)?s=null:o!==null&&mu(r,o)&&(t.flags|=32),Iy(e,t),Xe(e,t,s,n),t.child;case 6:return e===null&&vu(t),null;case 13:return Ay(e,t,n);case 4:return Bc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ni(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),mp(e,t,r,i,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,de(Ks,r._currentValue),r._currentValue=s,o!==null)if(Wt(o.value,s)){if(o.children===i.children&&!lt.current){t=wn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=hn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cu(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(b(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cu(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Gr(t,n),i=Lt(i),r=r(i),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,i=zt(r,t.pendingProps),i=zt(r.type,i),gp(e,t,r,i,n);case 15:return ky(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),ws(e,t),t.tag=1,at(r)?(e=!0,Gs(t)):e=!1,Gr(t,n),_y(t,r,i),Su(t,r,i,n),Tu(null,t,r,!0,e,n);case 19:return Ny(e,t,n);case 22:return Ty(e,t,n)}throw Error(b(156,t.tag))};function Wy(e,t){return xg(e,t)}function u1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new u1(e,t,n,r)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function c1(e){if(typeof e=="function")return tf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vc)return 11;if(e===Cc)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cs(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")tf(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ar:return lr(n.children,i,o,t);case xc:s=8,i|=8;break;case qa:return e=Nt(12,n,t,i|2),e.elementType=qa,e.lanes=o,e;case Ka:return e=Nt(13,n,t,i),e.elementType=Ka,e.lanes=o,e;case Ya:return e=Nt(19,n,t,i),e.elementType=Ya,e.lanes=o,e;case ng:return kl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case eg:s=10;break e;case tg:s=9;break e;case vc:s=11;break e;case Cc:s=14;break e;case Tn:s=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=Nt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function lr(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function kl(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=ng,e.lanes=n,e.stateNode={isHidden:!1},e}function _a(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Sa(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function f1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nf(e,t,n,r,i,o,s,l,a){return e=new f1(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zc(o),e}function d1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qy(e){if(!e)return Vn;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(at(n))return qg(e,n,t)}return t}function Ky(e,t,n,r,i,o,s,l,a){return e=nf(n,r,!0,e,i,o,s,l,a),e.context=qy(null),n=e.current,r=Qe(),i=$n(n),o=hn(r,i),o.callback=t??null,Dn(n,o,i),e.current.lanes=i,vo(e,i,r),ut(e,r),e}function Tl(e,t,n,r){var i=t.current,o=Qe(),s=$n(i);return n=qy(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dn(i,t,s),e!==null&&(Gt(e,i,s,o),ms(e,i,s)),s}function il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rf(e,t){Pp(e,t),(e=e.alternate)&&Pp(e,t)}function p1(){return null}var Yy=typeof reportError=="function"?reportError:function(e){console.error(e)};function of(e){this._internalRoot=e}Il.prototype.render=of.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));Tl(e,t,null,null)};Il.prototype.unmount=of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){Tl(null,e,null,null)}),t[gn]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&Pg(e)}};function sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ap(){}function h1(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=il(s);o.call(u)}}var s=Ky(t,r,e,0,null,!1,!1,"",Ap);return e._reactRootContainer=s,e[gn]=s.current,oo(e.nodeType===8?e.parentNode:e),dr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=il(a);l.call(u)}}var a=nf(e,0,!1,null,null,!1,!1,"",Ap);return e._reactRootContainer=a,e[gn]=a.current,oo(e.nodeType===8?e.parentNode:e),dr(function(){Tl(t,a,n,r)}),a}function Al(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=il(s);l.call(a)}}Tl(t,s,e,i)}else s=h1(n,t,e,i,r);return il(s)}Eg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ai(t.pendingLanes);n!==0&&(Ec(t,n|1),ut(t,Pe()),!(te&6)&&(oi=Pe()+500,Gn()))}break;case 13:dr(function(){var r=yn(e,1);if(r!==null){var i=Qe();Gt(r,e,1,i)}}),rf(e,1)}};kc=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=Qe();Gt(t,e,134217728,n)}rf(e,134217728)}};kg=function(e){if(e.tag===13){var t=$n(e),n=yn(e,t);if(n!==null){var r=Qe();Gt(n,e,t,r)}rf(e,t)}};Tg=function(){return le};Ig=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};ou=function(e,t,n){switch(t){case"input":if(Qa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xl(r);if(!i)throw Error(b(90));ig(r),Qa(r,i)}}}break;case"textarea":sg(e,n);break;case"select":t=n.value,t!=null&&Ur(e,!!n.multiple,t,!1)}};pg=Qc;hg=dr;var m1={usingClientEntryPoint:!1,Events:[_o,br,xl,fg,dg,Qc]},Si={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g1={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yg(e),e===null?null:e.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance||p1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{ml=Jo.inject(g1),nn=Jo}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m1;Et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sf(t))throw Error(b(200));return d1(e,t,null,n)};Et.createRoot=function(e,t){if(!sf(e))throw Error(b(299));var n=!1,r="",i=Yy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nf(e,1,!1,null,null,n,!1,r,i),e[gn]=t.current,oo(e.nodeType===8?e.parentNode:e),new of(t)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=yg(t),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return dr(e)};Et.hydrate=function(e,t,n){if(!Pl(t))throw Error(b(200));return Al(null,e,t,!0,n)};Et.hydrateRoot=function(e,t,n){if(!sf(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Yy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Ky(t,null,e,1,n??null,i,!1,o,s),e[gn]=t.current,oo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Il(t)};Et.render=function(e,t,n){if(!Pl(t))throw Error(b(200));return Al(null,e,t,!1,n)};Et.unmountComponentAtNode=function(e){if(!Pl(e))throw Error(b(40));return e._reactRootContainer?(dr(function(){Al(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};Et.unstable_batchedUpdates=Qc;Et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pl(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return Al(e,t,n,!1,r)};Et.version="18.3.1-next-f1338f8080-20240426";function Jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jy)}catch(e){console.error(e)}}Jy(),Jm.exports=Et;var Xy=Jm.exports,Np=Xy;Ga.createRoot=Np.createRoot,Ga.hydrateRoot=Np.hydrateRoot;const y1=`#  LayoutForge AI 

**LayoutForge** AI 

##  

### 1. 
"****"AI 
*     (Backgrounds, Text colors)
*     (Font families, Sizes)
*     (Shadows, Borders, Rounded corners)

### 2. 
AI **** Markdown 
*    Emoji  
*   
*    H2 

### 3. 
*   ** (Card)**
*   ** (Flat)**
*   ** (Multi-Card)**AI 

### 4.  AI 
*   **Google Gemini**
*   **OpenAI Compatible** OpenAI API 
    * OpenAI GPT-4/GPT-3.5
    * Azure OpenAI
    *  OpenAI API 
*   **** JSON 
    *    JSON
    *    JSON 
    *   

---

##  

1.  **** Markdown
2.  ****""""
3.  **** Auto
4.  ** AI** AI  API
5.  **** **" "** 
6.  **** **"HTML"** 

##  

""
*    AI Gemini  OpenAI Compatible
*    Base URL
*    API Key 

>  ****OpenAI Compatible  APILayoutForge 

 **`,lf={zh:{appTitle:"LayoutForge AI",contentSource:"",write:"",preview:"",config:"",livePreview:"",desktop:"",mobile:"",copyConfig:"",copyHtml:"",copied:"!",stylePrompt:"",stylePlaceholder:"...",presets:"",generate:" + ",generateStyles:" (2)",generatingStyles:"...",generating:" & ...",theme:"",styleVariations:"",selectStyle:"",presetSaas:"",presetBlog:"",presetWeChat:"",presetDocs:"",error:"",language:"",proTip:"",sourceLabel:"",layoutMode:"",modeAuto:"",modeCard:"",modeFlat:"",modeMulti:"",multiCardTip:" H1/H2 ",autoDesc:"AI",cardDesc:"",flatDesc:"",multiDesc:"",aiSettings:"",providerGemini:"Google Gemini ()",providerOpenAI:"OpenAI Compatible",apiKey:"API Key",baseUrl:"Base URL ()",modelName:"",save:""},en:{appTitle:"LayoutForge AI",contentSource:"Content Source",write:"Write",preview:"Preview",config:"Settings",livePreview:"Styled Preview",desktop:"Desktop",mobile:"Mobile",copyConfig:"Copy Config",copyHtml:"Copy for WeChat",copied:"Copied!",stylePrompt:"Design Prompt",stylePlaceholder:"e.g., Minimalist, high whitespace, serif fonts, like a premium newspaper...",presets:"Quick Styles",generate:"Generate Style + Enhance",generateStyles:"Draft Styles (x2)",generatingStyles:"Designing...",generating:"Designing & Writing...",theme:"Current Design",styleVariations:"Style Variations",selectStyle:"Apply Style",presetSaas:"Tech: Dark mode, Sans-serif",presetBlog:"Reader: Warm paper, Serif",presetWeChat:"WeChat: Decorative Headers, Batched",presetDocs:"Business: Clean white, Strong headers",error:"Failed to generate design. Please try again.",language:"Language",proTip:"Tip: Long text is processed in batches. Watch it update live!",sourceLabel:"Content & Config",layoutMode:"Layout Structure",modeAuto:"Auto",modeCard:"Single Card",modeFlat:"Seamless",modeMulti:"Multi-Card",multiCardTip:"Content splits into cards via H1/H2 headers.",autoDesc:"AI Decision",cardDesc:"Paper Style",flatDesc:"Web Style",multiDesc:"Dashboard",aiSettings:"Inference Settings",providerGemini:"Google Gemini (Default)",providerOpenAI:"OpenAI Compatible",apiKey:"API Key",baseUrl:"Base URL (Optional)",modelName:"Model Name",save:"Save Config"}};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qy=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=se.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...l},a)=>se.createElement("svg",{ref:a,...x1,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Qy("lucide",i),...l},[...s.map(([u,c])=>se.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const n=se.forwardRef(({className:r,...i},o)=>se.createElement(v1,{ref:o,iconNode:t,className:Qy(`lucide-${w1(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ge("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ge("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=ge("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ge("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=ge("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=ge("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=ge("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uf{}function oe(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(e,t,n){for(let o=0;o<t.length-1;o++){const s=t[o];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in e))if(Array.isArray(n))e[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[l])){const a=e[l];if(Array.isArray(n))for(let u=0;u<a.length;u++){const c=a[u];p(c,t.slice(o+1),n[u])}else for(const u of a)p(u,t.slice(o+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in e||(e[l]=[{}]);const a=e[l];p(a[0],t.slice(o+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function d(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const o=e[i];return Array.isArray(o)?o.map(s=>d(s,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function St(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function n0(e,t){const n=St(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function bp(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function mo(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>bp(e,n)):[bp(e,t)]}function r0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function z1(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function cf(e){return!(e==null||z1(e))}function i0(e){return e==null||Array.isArray(e)&&e.length===0?!1:e.every(cf)}function Rt(e,t){if(t==null)throw new Error("ContentUnion is required");return r0(t)?t:cf(t)?{role:"user",parts:mo(e,t)}:{role:"model",parts:mo(e,t)}}function o0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Rt(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Rt(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Rt(e,n)):[Rt(e,t)]}function Ss(e,t,n){n.length!==0&&(i0(n)?t.push({role:"user",parts:mo(e,n)}):t.push({role:"model",parts:mo(e,n)}),n.length=0)}function B1(e,t,n,r){cf(r)===i0(n)||(Ss(e,t,n),n.length=0),n.push(r)}function Ie(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t))return[Rt(e,t)];const n=[],r=[];for(const i of t)if(r0(i))Ss(e,n,r),n.push(i);else if(typeof i=="string"||typeof i=="object"&&!Array.isArray(i))B1(e,n,r,i);else if(Array.isArray(i))Ss(e,n,r),n.push({role:"user",parts:mo(e,i)});else throw new Error(`Unsupported content type: ${typeof i}`);return Ss(e,n,r),n}function s0(e,t){if(!e.isVertexAI()&&("title"in t&&delete t.title,"default"in t))throw new Error("Default value is not supported in the response schema for the Gemini API.");if("anyOf"in t){if(!e.isVertexAI())throw new Error("AnyOf is not supported in the response schema for the Gemini API.");if(t.anyOf!==void 0)for(const n of t.anyOf)s0(e,n)}}function l0(e,t){return s0(e,t),t}function a0(e,t){if(typeof t=="object"&&"voiceConfig"in t)return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function u0(e,t){return t}function qr(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function U1(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Wn(e,t){if(typeof t!="string")throw new Error("name must be a string");return U1(e,t,"cachedContents")}function c0(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function V1(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ol;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ol||(ol={}));class f0{constructor(t,n,r,i){this.pageInternal=[],this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lp;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Lp||(Lp={}));var Op;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Op||(Op={}));var ce;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(ce||(ce={}));var Dp;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Dp||(Dp={}));var Fp;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Fp||(Fp={}));var $p;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})($p||($p={}));var zp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(zp||(zp={}));var Bp;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL"})(Bp||(Bp={}));var Up;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Up||(Up={}));var Vp;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Vp||(Vp={}));var Hp;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Hp||(Hp={}));var jp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.ACTIVE="ACTIVE",e.ERROR="ERROR"})(jp||(jp={}));var Gp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Gp||(Gp={}));var Wp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Wp||(Wp={}));var qp;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qp||(qp={}));var Kp;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Kp||(Kp={}));var Yp;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Yp||(Yp={}));var Jp;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(Jp||(Jp={}));var Xp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Xp||(Xp={}));var Qp;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Qp||(Qp={}));var Zp;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Zp||(Zp={}));var eh;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(eh||(eh={}));var th;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(th||(th={}));var nh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(nh||(nh={}));class Xo{get text(){var t,n,r,i,o,s,l,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const m of(a=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[h,w]of Object.entries(m))h!=="text"&&h!=="thought"&&(w!==null||w!==void 0)&&f.push(h);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;c=!0,u+=m.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get functionCalls(){var t,n,r,i,o,s,l,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(a=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,i,o,s,l,a,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(a=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,i,o,s,l,a,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(a=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class rh{}class ih{}class oh{}class sh{}class lh{}class ah{}class uh{}class d0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class ch{}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H1 extends uf{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new f0(ol.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=c_(this.apiClient,t);return o=oe("cachedContents",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>ks(this.apiClient,a))}else{const l=u_(this.apiClient,t);return o=oe("cachedContents",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>Es(this.apiClient,a))}}async get(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=d_(this.apiClient,t);return o=oe("{name}",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>ks(this.apiClient,a))}else{const l=f_(this.apiClient,t);return o=oe("{name}",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>Es(this.apiClient,a))}}async delete(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=h_(this.apiClient,t);return o=oe("{name}",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=E_(this.apiClient),c=new lh;return Object.assign(c,u),c})}else{const l=p_(this.apiClient,t);return o=oe("{name}",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=S_(this.apiClient),c=new lh;return Object.assign(c,u),c})}}async update(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=w_(this.apiClient,t);return o=oe("{name}",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>ks(this.apiClient,a))}else{const l=y_(this.apiClient,t);return o=oe("{name}",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>Es(this.apiClient,a))}}async listInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=__(this.apiClient,t);return o=oe("cachedContents",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=T_(this.apiClient,a),c=new ah;return Object.assign(c,u),c})}else{const l=C_(this.apiClient,t);return o=oe("cachedContents",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=k_(this.apiClient,a),c=new ah;return Object.assign(c,u),c})}}}function j1(e,t){const n={};if(d(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=d(t,["thought"]);r!=null&&p(n,["thought"],r);const i=d(t,["codeExecutionResult"]);i!=null&&p(n,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&p(n,["executableCode"],o);const s=d(t,["fileData"]);s!=null&&p(n,["fileData"],s);const l=d(t,["functionCall"]);l!=null&&p(n,["functionCall"],l);const a=d(t,["functionResponse"]);a!=null&&p(n,["functionResponse"],a);const u=d(t,["inlineData"]);u!=null&&p(n,["inlineData"],u);const c=d(t,["text"]);return c!=null&&p(n,["text"],c),n}function G1(e,t){const n={},r=d(t,["videoMetadata"]);r!=null&&p(n,["videoMetadata"],r);const i=d(t,["thought"]);i!=null&&p(n,["thought"],i);const o=d(t,["codeExecutionResult"]);o!=null&&p(n,["codeExecutionResult"],o);const s=d(t,["executableCode"]);s!=null&&p(n,["executableCode"],s);const l=d(t,["fileData"]);l!=null&&p(n,["fileData"],l);const a=d(t,["functionCall"]);a!=null&&p(n,["functionCall"],a);const u=d(t,["functionResponse"]);u!=null&&p(n,["functionResponse"],u);const c=d(t,["inlineData"]);c!=null&&p(n,["inlineData"],c);const f=d(t,["text"]);return f!=null&&p(n,["text"],f),n}function fh(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?p(n,["parts"],r.map(o=>j1(e,o))):p(n,["parts"],r));const i=d(t,["role"]);return i!=null&&p(n,["role"],i),n}function dh(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?p(n,["parts"],r.map(o=>G1(e,o))):p(n,["parts"],r));const i=d(t,["role"]);return i!=null&&p(n,["role"],i),n}function W1(e,t){const n={},r=d(t,["example"]);r!=null&&p(n,["example"],r);const i=d(t,["pattern"]);i!=null&&p(n,["pattern"],i);const o=d(t,["minimum"]);o!=null&&p(n,["minimum"],o);const s=d(t,["default"]);s!=null&&p(n,["default"],s);const l=d(t,["anyOf"]);l!=null&&p(n,["anyOf"],l);const a=d(t,["maxLength"]);a!=null&&p(n,["maxLength"],a);const u=d(t,["title"]);u!=null&&p(n,["title"],u);const c=d(t,["minLength"]);c!=null&&p(n,["minLength"],c);const f=d(t,["minProperties"]);f!=null&&p(n,["minProperties"],f);const m=d(t,["maximum"]);m!=null&&p(n,["maximum"],m);const h=d(t,["maxProperties"]);h!=null&&p(n,["maxProperties"],h);const w=d(t,["description"]);w!=null&&p(n,["description"],w);const x=d(t,["enum"]);x!=null&&p(n,["enum"],x);const S=d(t,["format"]);S!=null&&p(n,["format"],S);const y=d(t,["items"]);y!=null&&p(n,["items"],y);const g=d(t,["maxItems"]);g!=null&&p(n,["maxItems"],g);const v=d(t,["minItems"]);v!=null&&p(n,["minItems"],v);const T=d(t,["nullable"]);T!=null&&p(n,["nullable"],T);const I=d(t,["properties"]);I!=null&&p(n,["properties"],I);const k=d(t,["propertyOrdering"]);k!=null&&p(n,["propertyOrdering"],k);const P=d(t,["required"]);P!=null&&p(n,["required"],P);const N=d(t,["type"]);return N!=null&&p(n,["type"],N),n}function q1(e,t){const n={};if(d(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=d(t,["description"]);r!=null&&p(n,["description"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["parameters"]);return o!=null&&p(n,["parameters"],o),n}function K1(e,t){const n={},r=d(t,["response"]);r!=null&&p(n,["response"],W1(e,r));const i=d(t,["description"]);i!=null&&p(n,["description"],i);const o=d(t,["name"]);o!=null&&p(n,["name"],o);const s=d(t,["parameters"]);return s!=null&&p(n,["parameters"],s),n}function Y1(e,t){return{}}function J1(e,t){return{}}function X1(e,t){const n={},r=d(t,["mode"]);r!=null&&p(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&p(n,["dynamicThreshold"],i),n}function Q1(e,t){const n={},r=d(t,["mode"]);r!=null&&p(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&p(n,["dynamicThreshold"],i),n}function Z1(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&p(n,["dynamicRetrievalConfig"],X1(e,r)),n}function e_(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&p(n,["dynamicRetrievalConfig"],Q1(e,r)),n}function t_(e,t){const n={},r=d(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?p(n,["functionDeclarations"],r.map(l=>q1(e,l))):p(n,["functionDeclarations"],r)),d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(t,["googleSearch"])!=null&&p(n,["googleSearch"],Y1());const o=d(t,["googleSearchRetrieval"]);o!=null&&p(n,["googleSearchRetrieval"],Z1(e,o));const s=d(t,["codeExecution"]);return s!=null&&p(n,["codeExecution"],s),n}function n_(e,t){const n={},r=d(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?p(n,["functionDeclarations"],r.map(a=>K1(e,a))):p(n,["functionDeclarations"],r));const i=d(t,["retrieval"]);i!=null&&p(n,["retrieval"],i),d(t,["googleSearch"])!=null&&p(n,["googleSearch"],J1());const s=d(t,["googleSearchRetrieval"]);s!=null&&p(n,["googleSearchRetrieval"],e_(e,s));const l=d(t,["codeExecution"]);return l!=null&&p(n,["codeExecution"],l),n}function r_(e,t){const n={},r=d(t,["mode"]);r!=null&&p(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&p(n,["allowedFunctionNames"],i),n}function i_(e,t){const n={},r=d(t,["mode"]);r!=null&&p(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&p(n,["allowedFunctionNames"],i),n}function o_(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&p(n,["functionCallingConfig"],r_(e,r)),n}function s_(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&p(n,["functionCallingConfig"],i_(e,r)),n}function l_(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&p(n,["ttl"],i);const o=d(t,["expireTime"]);n!==void 0&&o!=null&&p(n,["expireTime"],o);const s=d(t,["displayName"]);n!==void 0&&s!=null&&p(n,["displayName"],s);const l=d(t,["contents"]);n!==void 0&&l!=null&&(Array.isArray(l)?p(n,["contents"],Ie(e,Ie(e,l).map(f=>fh(e,f)))):p(n,["contents"],Ie(e,l)));const a=d(t,["systemInstruction"]);n!==void 0&&a!=null&&p(n,["systemInstruction"],fh(e,Rt(e,a)));const u=d(t,["tools"]);n!==void 0&&u!=null&&(Array.isArray(u)?p(n,["tools"],u.map(f=>t_(e,f))):p(n,["tools"],u));const c=d(t,["toolConfig"]);return n!==void 0&&c!=null&&p(n,["toolConfig"],o_(e,c)),r}function a_(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&p(n,["ttl"],i);const o=d(t,["expireTime"]);n!==void 0&&o!=null&&p(n,["expireTime"],o);const s=d(t,["displayName"]);n!==void 0&&s!=null&&p(n,["displayName"],s);const l=d(t,["contents"]);n!==void 0&&l!=null&&(Array.isArray(l)?p(n,["contents"],Ie(e,Ie(e,l).map(f=>dh(e,f)))):p(n,["contents"],Ie(e,l)));const a=d(t,["systemInstruction"]);n!==void 0&&a!=null&&p(n,["systemInstruction"],dh(e,Rt(e,a)));const u=d(t,["tools"]);n!==void 0&&u!=null&&(Array.isArray(u)?p(n,["tools"],u.map(f=>n_(e,f))):p(n,["tools"],u));const c=d(t,["toolConfig"]);return n!==void 0&&c!=null&&p(n,["toolConfig"],s_(e,c)),r}function u_(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],n0(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],l_(e,i,n)),n}function c_(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],n0(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],a_(e,i,n)),n}function f_(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],Wn(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],i),n}function d_(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],Wn(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],i),n}function p_(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],Wn(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],i),n}function h_(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],Wn(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],i),n}function m_(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&p(n,["ttl"],i);const o=d(t,["expireTime"]);return n!==void 0&&o!=null&&p(n,["expireTime"],o),r}function g_(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&p(n,["ttl"],i);const o=d(t,["expireTime"]);return n!==void 0&&o!=null&&p(n,["expireTime"],o),r}function y_(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],Wn(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],m_(e,i,n)),n}function w_(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],Wn(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],g_(e,i,n)),n}function x_(e,t,n){const r={},i=d(t,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(t,["pageToken"]);return n!==void 0&&o!=null&&p(n,["_query","pageToken"],o),r}function v_(e,t,n){const r={},i=d(t,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(t,["pageToken"]);return n!==void 0&&o!=null&&p(n,["_query","pageToken"],o),r}function C_(e,t){const n={},r=d(t,["config"]);return r!=null&&p(n,["config"],x_(e,r,n)),n}function __(e,t){const n={},r=d(t,["config"]);return r!=null&&p(n,["config"],v_(e,r,n)),n}function Es(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["name"],r);const i=d(t,["displayName"]);i!=null&&p(n,["displayName"],i);const o=d(t,["model"]);o!=null&&p(n,["model"],o);const s=d(t,["createTime"]);s!=null&&p(n,["createTime"],s);const l=d(t,["updateTime"]);l!=null&&p(n,["updateTime"],l);const a=d(t,["expireTime"]);a!=null&&p(n,["expireTime"],a);const u=d(t,["usageMetadata"]);return u!=null&&p(n,["usageMetadata"],u),n}function ks(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["name"],r);const i=d(t,["displayName"]);i!=null&&p(n,["displayName"],i);const o=d(t,["model"]);o!=null&&p(n,["model"],o);const s=d(t,["createTime"]);s!=null&&p(n,["createTime"],s);const l=d(t,["updateTime"]);l!=null&&p(n,["updateTime"],l);const a=d(t,["expireTime"]);a!=null&&p(n,["expireTime"],a);const u=d(t,["usageMetadata"]);return u!=null&&p(n,["usageMetadata"],u),n}function S_(e,t){return{}}function E_(e,t){return{}}function k_(e,t){const n={},r=d(t,["nextPageToken"]);r!=null&&p(n,["nextPageToken"],r);const i=d(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?p(n,["cachedContents"],i.map(o=>Es(e,o))):p(n,["cachedContents"],i)),n}function T_(e,t){const n={},r=d(t,["nextPageToken"]);r!=null&&p(n,["nextPageToken"],r);const i=d(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?p(n,["cachedContents"],i.map(o=>ks(e,o))):p(n,["cachedContents"],i)),n}function ph(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ot(e){return this instanceof ot?(this.v=e,this):new ot(e)}function sl(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(w){return Promise.resolve(w).then(h,f)}}function l(h,w){r[h]&&(i[h]=function(x){return new Promise(function(S,y){o.push([h,x,S,y])>1||a(h,x)})},w&&(i[h]=w(i[h])))}function a(h,w){try{u(r[h](w))}catch(x){m(o[0][3],x)}}function u(h){h.value instanceof ot?Promise.resolve(h.value.v).then(c,f):m(o[0][2],h)}function c(h){a("next",h)}function f(h){a("throw",h)}function m(h,w){h(w),o.shift(),o.length&&a(o[0][0],o[0][1])}}function $u(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ph=="function"?ph(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(l,a){s=e[o](s),i(l,a,s.done,s.value)})}}function i(o,s,l,a){Promise.resolve(a).then(function(u){o({value:u,done:l})},s)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I_(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:p0(n)}function p0(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function P_(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function A_(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,i=e[0];for(;r<n;)if(e[r].role==="user")i=e[r],r++;else{const o=[];let s=!0;for(;r<n&&e[r].role==="model";)o.push(e[r]),s&&!p0(e[r])&&(s=!1),r++;s&&(t.push(i),t.push(...o))}return t}class N_{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new R_(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}let R_=class{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),P_(o)}async sendMessage(t){var n;await this.sendPromise;const r=Rt(this.apiClient,t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s;const a=(s=(o=(await i).candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,u=a?[a]:[];this.recordHistory(r,u)})(),await this.sendPromise,i}async sendMessageStream(t){var n;await this.sendPromise;const r=Rt(this.apiClient,t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){return t?A_(this.history):this.history}processStreamResponse(t,n){var r,i;return sl(this,arguments,function*(){var s,l,a,u;const c=[];try{for(var f=!0,m=$u(t),h;h=yield ot(m.next()),s=h.done,!s;f=!0){u=h.value,f=!1;const w=u;if(I_(w)){const x=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;x!==void 0&&c.push(x)}yield yield ot(w)}}catch(w){l={error:w}}finally{try{!f&&!s&&(a=m.return)&&(yield ot(a.call(m)))}finally{if(l)throw l.error}}this.recordHistory(n,c)})}recordHistory(t,n){let r=[];n.length>0&&n.every(i=>i.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}};/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let M_=class extends uf{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n)}async generateContentInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=mh(this.apiClient,t);return o=oe("{model}:generateContent",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=yh(this.apiClient,a),c=new Xo;return Object.assign(c,u),c})}else{const l=hh(this.apiClient,t);return o=oe("{model}:generateContent",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=gh(this.apiClient,a),c=new Xo;return Object.assign(c,u),c})}}async generateContentStreamInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=mh(this.apiClient,t);o=oe("{model}:streamGenerateContent?alt=sse",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const a=this.apiClient;return i=a.requestStream({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}),i.then(function(u){return sl(this,arguments,function*(){var c,f,m,h;try{for(var w=!0,x=$u(u),S;S=yield ot(x.next()),c=S.done,!c;w=!0){h=S.value,w=!1;const g=yh(a,h),v=new Xo;Object.assign(v,g),yield yield ot(v)}}catch(y){f={error:y}}finally{try{!w&&!c&&(m=x.return)&&(yield ot(m.call(x)))}finally{if(f)throw f.error}}})})}else{const l=hh(this.apiClient,t);o=oe("{model}:streamGenerateContent?alt=sse",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const a=this.apiClient;return i=a.requestStream({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}),i.then(function(u){return sl(this,arguments,function*(){var c,f,m,h;try{for(var w=!0,x=$u(u),S;S=yield ot(x.next()),c=S.done,!c;w=!0){h=S.value,w=!1;const g=gh(a,h),v=new Xo;Object.assign(v,g),yield yield ot(v)}}catch(y){f={error:y}}finally{try{!w&&!c&&(m=x.return)&&(yield ot(m.call(x)))}finally{if(f)throw f.error}}})})}}async embedContent(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=uS(this.apiClient,t);return o=oe("{model}:predict",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=MS(this.apiClient,a),c=new rh;return Object.assign(c,u),c})}else{const l=aS(this.apiClient,t);return o=oe("{model}:batchEmbedContents",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=RS(this.apiClient,a),c=new rh;return Object.assign(c,u),c})}}async generateImages(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=pS(this.apiClient,t);return o=oe("{model}:predict",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=$S(this.apiClient,a),c=new ih;return Object.assign(c,u),c})}else{const l=dS(this.apiClient,t);return o=oe("{model}:predict",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=FS(this.apiClient,a),c=new ih;return Object.assign(c,u),c})}}async countTokens(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=yS(this.apiClient,t);return o=oe("{model}:countTokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=BS(this.apiClient,a),c=new oh;return Object.assign(c,u),c})}else{const l=gS(this.apiClient,t);return o=oe("{model}:countTokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=zS(this.apiClient,a),c=new oh;return Object.assign(c,u),c})}}async computeTokens(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=xS(this.apiClient,t);return o=oe("{model}:computeTokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=VS(this.apiClient,a),c=new sh;return Object.assign(c,u),c})}else{const l=wS(this.apiClient,t);return o=oe("None",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=US(this.apiClient,a),c=new sh;return Object.assign(c,u),c})}}};function b_(e,t){const n={};if(d(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=d(t,["thought"]);r!=null&&p(n,["thought"],r);const i=d(t,["codeExecutionResult"]);i!=null&&p(n,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&p(n,["executableCode"],o);const s=d(t,["fileData"]);s!=null&&p(n,["fileData"],s);const l=d(t,["functionCall"]);l!=null&&p(n,["functionCall"],l);const a=d(t,["functionResponse"]);a!=null&&p(n,["functionResponse"],a);const u=d(t,["inlineData"]);u!=null&&p(n,["inlineData"],u);const c=d(t,["text"]);return c!=null&&p(n,["text"],c),n}function L_(e,t){const n={},r=d(t,["videoMetadata"]);r!=null&&p(n,["videoMetadata"],r);const i=d(t,["thought"]);i!=null&&p(n,["thought"],i);const o=d(t,["codeExecutionResult"]);o!=null&&p(n,["codeExecutionResult"],o);const s=d(t,["executableCode"]);s!=null&&p(n,["executableCode"],s);const l=d(t,["fileData"]);l!=null&&p(n,["fileData"],l);const a=d(t,["functionCall"]);a!=null&&p(n,["functionCall"],a);const u=d(t,["functionResponse"]);u!=null&&p(n,["functionResponse"],u);const c=d(t,["inlineData"]);c!=null&&p(n,["inlineData"],c);const f=d(t,["text"]);return f!=null&&p(n,["text"],f),n}function Eo(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?p(n,["parts"],r.map(o=>b_(e,o))):p(n,["parts"],r));const i=d(t,["role"]);return i!=null&&p(n,["role"],i),n}function gr(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?p(n,["parts"],r.map(o=>L_(e,o))):p(n,["parts"],r));const i=d(t,["role"]);return i!=null&&p(n,["role"],i),n}function O_(e,t){const n={};if(d(t,["example"])!==void 0)throw new Error("example parameter is not supported in Gemini API.");if(d(t,["pattern"])!==void 0)throw new Error("pattern parameter is not supported in Gemini API.");if(d(t,["minimum"])!==void 0)throw new Error("minimum parameter is not supported in Gemini API.");if(d(t,["default"])!==void 0)throw new Error("default parameter is not supported in Gemini API.");if(d(t,["anyOf"])!==void 0)throw new Error("anyOf parameter is not supported in Gemini API.");if(d(t,["maxLength"])!==void 0)throw new Error("maxLength parameter is not supported in Gemini API.");if(d(t,["title"])!==void 0)throw new Error("title parameter is not supported in Gemini API.");if(d(t,["minLength"])!==void 0)throw new Error("minLength parameter is not supported in Gemini API.");if(d(t,["minProperties"])!==void 0)throw new Error("minProperties parameter is not supported in Gemini API.");if(d(t,["maximum"])!==void 0)throw new Error("maximum parameter is not supported in Gemini API.");if(d(t,["maxProperties"])!==void 0)throw new Error("maxProperties parameter is not supported in Gemini API.");const r=d(t,["description"]);r!=null&&p(n,["description"],r);const i=d(t,["enum"]);i!=null&&p(n,["enum"],i);const o=d(t,["format"]);o!=null&&p(n,["format"],o);const s=d(t,["items"]);s!=null&&p(n,["items"],s);const l=d(t,["maxItems"]);l!=null&&p(n,["maxItems"],l);const a=d(t,["minItems"]);a!=null&&p(n,["minItems"],a);const u=d(t,["nullable"]);u!=null&&p(n,["nullable"],u);const c=d(t,["properties"]);c!=null&&p(n,["properties"],c);const f=d(t,["propertyOrdering"]);f!=null&&p(n,["propertyOrdering"],f);const m=d(t,["required"]);m!=null&&p(n,["required"],m);const h=d(t,["type"]);return h!=null&&p(n,["type"],h),n}function h0(e,t){const n={},r=d(t,["example"]);r!=null&&p(n,["example"],r);const i=d(t,["pattern"]);i!=null&&p(n,["pattern"],i);const o=d(t,["minimum"]);o!=null&&p(n,["minimum"],o);const s=d(t,["default"]);s!=null&&p(n,["default"],s);const l=d(t,["anyOf"]);l!=null&&p(n,["anyOf"],l);const a=d(t,["maxLength"]);a!=null&&p(n,["maxLength"],a);const u=d(t,["title"]);u!=null&&p(n,["title"],u);const c=d(t,["minLength"]);c!=null&&p(n,["minLength"],c);const f=d(t,["minProperties"]);f!=null&&p(n,["minProperties"],f);const m=d(t,["maximum"]);m!=null&&p(n,["maximum"],m);const h=d(t,["maxProperties"]);h!=null&&p(n,["maxProperties"],h);const w=d(t,["description"]);w!=null&&p(n,["description"],w);const x=d(t,["enum"]);x!=null&&p(n,["enum"],x);const S=d(t,["format"]);S!=null&&p(n,["format"],S);const y=d(t,["items"]);y!=null&&p(n,["items"],y);const g=d(t,["maxItems"]);g!=null&&p(n,["maxItems"],g);const v=d(t,["minItems"]);v!=null&&p(n,["minItems"],v);const T=d(t,["nullable"]);T!=null&&p(n,["nullable"],T);const I=d(t,["properties"]);I!=null&&p(n,["properties"],I);const k=d(t,["propertyOrdering"]);k!=null&&p(n,["propertyOrdering"],k);const P=d(t,["required"]);P!=null&&p(n,["required"],P);const N=d(t,["type"]);return N!=null&&p(n,["type"],N),n}function D_(e,t){const n={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["category"]);r!=null&&p(n,["category"],r);const i=d(t,["threshold"]);return i!=null&&p(n,["threshold"],i),n}function F_(e,t){const n={},r=d(t,["method"]);r!=null&&p(n,["method"],r);const i=d(t,["category"]);i!=null&&p(n,["category"],i);const o=d(t,["threshold"]);return o!=null&&p(n,["threshold"],o),n}function $_(e,t){const n={};if(d(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=d(t,["description"]);r!=null&&p(n,["description"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["parameters"]);return o!=null&&p(n,["parameters"],o),n}function z_(e,t){const n={},r=d(t,["response"]);r!=null&&p(n,["response"],h0(e,r));const i=d(t,["description"]);i!=null&&p(n,["description"],i);const o=d(t,["name"]);o!=null&&p(n,["name"],o);const s=d(t,["parameters"]);return s!=null&&p(n,["parameters"],s),n}function B_(e,t){return{}}function U_(e,t){return{}}function V_(e,t){const n={},r=d(t,["mode"]);r!=null&&p(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&p(n,["dynamicThreshold"],i),n}function H_(e,t){const n={},r=d(t,["mode"]);r!=null&&p(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&p(n,["dynamicThreshold"],i),n}function j_(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&p(n,["dynamicRetrievalConfig"],V_(e,r)),n}function G_(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&p(n,["dynamicRetrievalConfig"],H_(e,r)),n}function m0(e,t){const n={},r=d(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?p(n,["functionDeclarations"],r.map(l=>$_(e,l))):p(n,["functionDeclarations"],r)),d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(t,["googleSearch"])!=null&&p(n,["googleSearch"],B_());const o=d(t,["googleSearchRetrieval"]);o!=null&&p(n,["googleSearchRetrieval"],j_(e,o));const s=d(t,["codeExecution"]);return s!=null&&p(n,["codeExecution"],s),n}function ff(e,t){const n={},r=d(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?p(n,["functionDeclarations"],r.map(a=>z_(e,a))):p(n,["functionDeclarations"],r));const i=d(t,["retrieval"]);i!=null&&p(n,["retrieval"],i),d(t,["googleSearch"])!=null&&p(n,["googleSearch"],U_());const s=d(t,["googleSearchRetrieval"]);s!=null&&p(n,["googleSearchRetrieval"],G_(e,s));const l=d(t,["codeExecution"]);return l!=null&&p(n,["codeExecution"],l),n}function W_(e,t){const n={},r=d(t,["mode"]);r!=null&&p(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&p(n,["allowedFunctionNames"],i),n}function q_(e,t){const n={},r=d(t,["mode"]);r!=null&&p(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&p(n,["allowedFunctionNames"],i),n}function K_(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&p(n,["functionCallingConfig"],W_(e,r)),n}function Y_(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&p(n,["functionCallingConfig"],q_(e,r)),n}function J_(e,t){const n={},r=d(t,["voiceName"]);return r!=null&&p(n,["voiceName"],r),n}function X_(e,t){const n={},r=d(t,["voiceName"]);return r!=null&&p(n,["voiceName"],r),n}function Q_(e,t){const n={},r=d(t,["prebuiltVoiceConfig"]);return r!=null&&p(n,["prebuiltVoiceConfig"],J_(e,r)),n}function Z_(e,t){const n={},r=d(t,["prebuiltVoiceConfig"]);return r!=null&&p(n,["prebuiltVoiceConfig"],X_(e,r)),n}function eS(e,t){const n={},r=d(t,["voiceConfig"]);return r!=null&&p(n,["voiceConfig"],Q_(e,r)),n}function tS(e,t){const n={},r=d(t,["voiceConfig"]);return r!=null&&p(n,["voiceConfig"],Z_(e,r)),n}function nS(e,t){const n={},r=d(t,["includeThoughts"]);return r!=null&&p(n,["includeThoughts"],r),n}function rS(e,t){const n={},r=d(t,["includeThoughts"]);return r!=null&&p(n,["includeThoughts"],r),n}function iS(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Eo(e,Rt(e,i)));const o=d(t,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(t,["topP"]);s!=null&&p(r,["topP"],s);const l=d(t,["topK"]);l!=null&&p(r,["topK"],l);const a=d(t,["candidateCount"]);a!=null&&p(r,["candidateCount"],a);const u=d(t,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(t,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(t,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const m=d(t,["logprobs"]);m!=null&&p(r,["logprobs"],m);const h=d(t,["presencePenalty"]);h!=null&&p(r,["presencePenalty"],h);const w=d(t,["frequencyPenalty"]);w!=null&&p(r,["frequencyPenalty"],w);const x=d(t,["seed"]);x!=null&&p(r,["seed"],x);const S=d(t,["responseMimeType"]);S!=null&&p(r,["responseMimeType"],S);const y=d(t,["responseSchema"]);if(y!=null&&p(r,["responseSchema"],O_(e,l0(e,y))),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");const g=d(t,["safetySettings"]);n!==void 0&&g!=null&&(Array.isArray(g)?p(n,["safetySettings"],g.map(M=>D_(e,M))):p(n,["safetySettings"],g));const v=d(t,["tools"]);n!==void 0&&v!=null&&(Array.isArray(v)?p(n,["tools"],qr(e,qr(e,v).map(M=>m0(e,u0(e,M))))):p(n,["tools"],qr(e,v)));const T=d(t,["toolConfig"]);if(n!==void 0&&T!=null&&p(n,["toolConfig"],K_(e,T)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=d(t,["cachedContent"]);n!==void 0&&I!=null&&p(n,["cachedContent"],Wn(e,I));const k=d(t,["responseModalities"]);k!=null&&p(r,["responseModalities"],k);const P=d(t,["mediaResolution"]);P!=null&&p(r,["mediaResolution"],P);const N=d(t,["speechConfig"]);if(N!=null&&p(r,["speechConfig"],eS(e,a0(e,N))),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=d(t,["thinkingConfig"]);return O!=null&&p(r,["thinkingConfig"],nS(e,O)),r}function oS(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],gr(e,Rt(e,i)));const o=d(t,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(t,["topP"]);s!=null&&p(r,["topP"],s);const l=d(t,["topK"]);l!=null&&p(r,["topK"],l);const a=d(t,["candidateCount"]);a!=null&&p(r,["candidateCount"],a);const u=d(t,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(t,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(t,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const m=d(t,["logprobs"]);m!=null&&p(r,["logprobs"],m);const h=d(t,["presencePenalty"]);h!=null&&p(r,["presencePenalty"],h);const w=d(t,["frequencyPenalty"]);w!=null&&p(r,["frequencyPenalty"],w);const x=d(t,["seed"]);x!=null&&p(r,["seed"],x);const S=d(t,["responseMimeType"]);S!=null&&p(r,["responseMimeType"],S);const y=d(t,["responseSchema"]);y!=null&&p(r,["responseSchema"],h0(e,l0(e,y)));const g=d(t,["routingConfig"]);g!=null&&p(r,["routingConfig"],g);const v=d(t,["safetySettings"]);n!==void 0&&v!=null&&(Array.isArray(v)?p(n,["safetySettings"],v.map(W=>F_(e,W))):p(n,["safetySettings"],v));const T=d(t,["tools"]);n!==void 0&&T!=null&&(Array.isArray(T)?p(n,["tools"],qr(e,qr(e,T).map(W=>ff(e,u0(e,W))))):p(n,["tools"],qr(e,T)));const I=d(t,["toolConfig"]);n!==void 0&&I!=null&&p(n,["toolConfig"],Y_(e,I));const k=d(t,["labels"]);n!==void 0&&k!=null&&p(n,["labels"],k);const P=d(t,["cachedContent"]);n!==void 0&&P!=null&&p(n,["cachedContent"],Wn(e,P));const N=d(t,["responseModalities"]);N!=null&&p(r,["responseModalities"],N);const O=d(t,["mediaResolution"]);O!=null&&p(r,["mediaResolution"],O);const M=d(t,["speechConfig"]);M!=null&&p(r,["speechConfig"],tS(e,a0(e,M)));const R=d(t,["audioTimestamp"]);R!=null&&p(r,["audioTimestamp"],R);const $=d(t,["thinkingConfig"]);return $!=null&&p(r,["thinkingConfig"],rS(e,$)),r}function hh(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],St(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?p(n,["contents"],Ie(e,Ie(e,i).map(s=>Eo(e,s)))):p(n,["contents"],Ie(e,i)));const o=d(t,["config"]);return o!=null&&p(n,["generationConfig"],iS(e,o,n)),n}function mh(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],St(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?p(n,["contents"],Ie(e,Ie(e,i).map(s=>gr(e,s)))):p(n,["contents"],Ie(e,i)));const o=d(t,["config"]);return o!=null&&p(n,["generationConfig"],oS(e,o,n)),n}function sS(e,t,n){const r={},i=d(t,["taskType"]);n!==void 0&&i!=null&&p(n,["requests[]","taskType"],i);const o=d(t,["title"]);n!==void 0&&o!=null&&p(n,["requests[]","title"],o);const s=d(t,["outputDimensionality"]);if(n!==void 0&&s!=null&&p(n,["requests[]","outputDimensionality"],s),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function lS(e,t,n){const r={},i=d(t,["taskType"]);n!==void 0&&i!=null&&p(n,["instances[]","task_type"],i);const o=d(t,["title"]);n!==void 0&&o!=null&&p(n,["instances[]","title"],o);const s=d(t,["outputDimensionality"]);n!==void 0&&s!=null&&p(n,["parameters","outputDimensionality"],s);const l=d(t,["mimeType"]);n!==void 0&&l!=null&&p(n,["instances[]","mimeType"],l);const a=d(t,["autoTruncate"]);return n!==void 0&&a!=null&&p(n,["parameters","autoTruncate"],a),r}function aS(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],St(e,r));const i=d(t,["contents"]);i!=null&&p(n,["requests[]","content"],o0(e,i));const o=d(t,["config"]);o!=null&&p(n,["config"],sS(e,o,n));const s=d(t,["model"]);return s!==void 0&&p(n,["requests[]","model"],St(e,s)),n}function uS(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],St(e,r));const i=d(t,["contents"]);i!=null&&p(n,["instances[]","content"],o0(e,i));const o=d(t,["config"]);return o!=null&&p(n,["config"],lS(e,o,n)),n}function cS(e,t,n){const r={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(t,["numberOfImages"]);n!==void 0&&i!=null&&p(n,["parameters","sampleCount"],i);const o=d(t,["aspectRatio"]);n!==void 0&&o!=null&&p(n,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);if(n!==void 0&&s!=null&&p(n,["parameters","guidanceScale"],s),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["safetyFilterLevel"]);n!==void 0&&l!=null&&p(n,["parameters","safetySetting"],l);const a=d(t,["personGeneration"]);n!==void 0&&a!=null&&p(n,["parameters","personGeneration"],a);const u=d(t,["includeSafetyAttributes"]);n!==void 0&&u!=null&&p(n,["parameters","includeSafetyAttributes"],u);const c=d(t,["includeRaiReason"]);n!==void 0&&c!=null&&p(n,["parameters","includeRaiReason"],c);const f=d(t,["language"]);n!==void 0&&f!=null&&p(n,["parameters","language"],f);const m=d(t,["outputMimeType"]);n!==void 0&&m!=null&&p(n,["parameters","outputOptions","mimeType"],m);const h=d(t,["outputCompressionQuality"]);if(n!==void 0&&h!=null&&p(n,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function fS(e,t,n){const r={},i=d(t,["outputGcsUri"]);n!==void 0&&i!=null&&p(n,["parameters","storageUri"],i);const o=d(t,["negativePrompt"]);n!==void 0&&o!=null&&p(n,["parameters","negativePrompt"],o);const s=d(t,["numberOfImages"]);n!==void 0&&s!=null&&p(n,["parameters","sampleCount"],s);const l=d(t,["aspectRatio"]);n!==void 0&&l!=null&&p(n,["parameters","aspectRatio"],l);const a=d(t,["guidanceScale"]);n!==void 0&&a!=null&&p(n,["parameters","guidanceScale"],a);const u=d(t,["seed"]);n!==void 0&&u!=null&&p(n,["parameters","seed"],u);const c=d(t,["safetyFilterLevel"]);n!==void 0&&c!=null&&p(n,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);n!==void 0&&f!=null&&p(n,["parameters","personGeneration"],f);const m=d(t,["includeSafetyAttributes"]);n!==void 0&&m!=null&&p(n,["parameters","includeSafetyAttributes"],m);const h=d(t,["includeRaiReason"]);n!==void 0&&h!=null&&p(n,["parameters","includeRaiReason"],h);const w=d(t,["language"]);n!==void 0&&w!=null&&p(n,["parameters","language"],w);const x=d(t,["outputMimeType"]);n!==void 0&&x!=null&&p(n,["parameters","outputOptions","mimeType"],x);const S=d(t,["outputCompressionQuality"]);n!==void 0&&S!=null&&p(n,["parameters","outputOptions","compressionQuality"],S);const y=d(t,["addWatermark"]);n!==void 0&&y!=null&&p(n,["parameters","addWatermark"],y);const g=d(t,["enhancePrompt"]);return n!==void 0&&g!=null&&p(n,["parameters","enhancePrompt"],g),r}function dS(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],St(e,r));const i=d(t,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(t,["config"]);return o!=null&&p(n,["config"],cS(e,o,n)),n}function pS(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],St(e,r));const i=d(t,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(t,["config"]);return o!=null&&p(n,["config"],fS(e,o,n)),n}function hS(e,t){const n={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function mS(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],gr(e,Rt(e,i)));const o=d(t,["tools"]);n!==void 0&&o!=null&&(Array.isArray(o)?p(n,["tools"],o.map(l=>ff(e,l))):p(n,["tools"],o));const s=d(t,["generationConfig"]);return n!==void 0&&s!=null&&p(n,["generationConfig"],s),r}function gS(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],St(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?p(n,["contents"],Ie(e,Ie(e,i).map(s=>Eo(e,s)))):p(n,["contents"],Ie(e,i)));const o=d(t,["config"]);return o!=null&&p(n,["config"],hS(e,o)),n}function yS(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],St(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?p(n,["contents"],Ie(e,Ie(e,i).map(s=>gr(e,s)))):p(n,["contents"],Ie(e,i)));const o=d(t,["config"]);return o!=null&&p(n,["config"],mS(e,o,n)),n}function wS(e,t){const n={},r=d(t,["model"]);if(r!=null&&p(n,["_url","model"],St(e,r)),d(t,["contents"])!==void 0)throw new Error("contents parameter is not supported in Gemini API.");const i=d(t,["config"]);return i!=null&&p(n,["config"],i),n}function xS(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],St(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?p(n,["contents"],Ie(e,Ie(e,i).map(s=>gr(e,s)))):p(n,["contents"],Ie(e,i)));const o=d(t,["config"]);return o!=null&&p(n,["config"],o),n}function vS(e,t){const n={},r=d(t,["thought"]);r!=null&&p(n,["thought"],r);const i=d(t,["codeExecutionResult"]);i!=null&&p(n,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&p(n,["executableCode"],o);const s=d(t,["fileData"]);s!=null&&p(n,["fileData"],s);const l=d(t,["functionCall"]);l!=null&&p(n,["functionCall"],l);const a=d(t,["functionResponse"]);a!=null&&p(n,["functionResponse"],a);const u=d(t,["inlineData"]);u!=null&&p(n,["inlineData"],u);const c=d(t,["text"]);return c!=null&&p(n,["text"],c),n}function CS(e,t){const n={},r=d(t,["videoMetadata"]);r!=null&&p(n,["videoMetadata"],r);const i=d(t,["thought"]);i!=null&&p(n,["thought"],i);const o=d(t,["codeExecutionResult"]);o!=null&&p(n,["codeExecutionResult"],o);const s=d(t,["executableCode"]);s!=null&&p(n,["executableCode"],s);const l=d(t,["fileData"]);l!=null&&p(n,["fileData"],l);const a=d(t,["functionCall"]);a!=null&&p(n,["functionCall"],a);const u=d(t,["functionResponse"]);u!=null&&p(n,["functionResponse"],u);const c=d(t,["inlineData"]);c!=null&&p(n,["inlineData"],c);const f=d(t,["text"]);return f!=null&&p(n,["text"],f),n}function g0(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?p(n,["parts"],r.map(o=>vS(e,o))):p(n,["parts"],r));const i=d(t,["role"]);return i!=null&&p(n,["role"],i),n}function y0(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?p(n,["parts"],r.map(o=>CS(e,o))):p(n,["parts"],r));const i=d(t,["role"]);return i!=null&&p(n,["role"],i),n}function _S(e,t){const n={},r=d(t,["citationSources"]);return r!=null&&p(n,["citations"],r),n}function SS(e,t){const n={},r=d(t,["citations"]);return r!=null&&p(n,["citations"],r),n}function ES(e,t){const n={},r=d(t,["content"]);r!=null&&p(n,["content"],g0(e,r));const i=d(t,["citationMetadata"]);i!=null&&p(n,["citationMetadata"],_S(e,i));const o=d(t,["tokenCount"]);o!=null&&p(n,["tokenCount"],o);const s=d(t,["avgLogprobs"]);s!=null&&p(n,["avgLogprobs"],s);const l=d(t,["finishReason"]);l!=null&&p(n,["finishReason"],l);const a=d(t,["groundingMetadata"]);a!=null&&p(n,["groundingMetadata"],a);const u=d(t,["index"]);u!=null&&p(n,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&p(n,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&p(n,["safetyRatings"],f),n}function kS(e,t){const n={},r=d(t,["content"]);r!=null&&p(n,["content"],y0(e,r));const i=d(t,["citationMetadata"]);i!=null&&p(n,["citationMetadata"],SS(e,i));const o=d(t,["finishMessage"]);o!=null&&p(n,["finishMessage"],o);const s=d(t,["avgLogprobs"]);s!=null&&p(n,["avgLogprobs"],s);const l=d(t,["finishReason"]);l!=null&&p(n,["finishReason"],l);const a=d(t,["groundingMetadata"]);a!=null&&p(n,["groundingMetadata"],a);const u=d(t,["index"]);u!=null&&p(n,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&p(n,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&p(n,["safetyRatings"],f),n}function gh(e,t){const n={},r=d(t,["candidates"]);r!=null&&(Array.isArray(r)?p(n,["candidates"],r.map(l=>ES(e,l))):p(n,["candidates"],r));const i=d(t,["modelVersion"]);i!=null&&p(n,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(n,["promptFeedback"],o);const s=d(t,["usageMetadata"]);return s!=null&&p(n,["usageMetadata"],s),n}function yh(e,t){const n={},r=d(t,["candidates"]);r!=null&&(Array.isArray(r)?p(n,["candidates"],r.map(u=>kS(e,u))):p(n,["candidates"],r));const i=d(t,["createTime"]);i!=null&&p(n,["createTime"],i);const o=d(t,["responseId"]);o!=null&&p(n,["responseId"],o);const s=d(t,["modelVersion"]);s!=null&&p(n,["modelVersion"],s);const l=d(t,["promptFeedback"]);l!=null&&p(n,["promptFeedback"],l);const a=d(t,["usageMetadata"]);return a!=null&&p(n,["usageMetadata"],a),n}function TS(e,t){const n={},r=d(t,["truncated"]);r!=null&&p(n,["truncated"],r);const i=d(t,["token_count"]);return i!=null&&p(n,["tokenCount"],i),n}function IS(e,t){const n={},r=d(t,["values"]);return r!=null&&p(n,["values"],r),n}function PS(e,t){const n={},r=d(t,["values"]);r!=null&&p(n,["values"],r);const i=d(t,["statistics"]);return i!=null&&p(n,["statistics"],TS(e,i)),n}function AS(e,t){return{}}function NS(e,t){const n={},r=d(t,["billableCharacterCount"]);return r!=null&&p(n,["billableCharacterCount"],r),n}function RS(e,t){const n={},r=d(t,["embeddings"]);return r!=null&&(Array.isArray(r)?p(n,["embeddings"],r.map(o=>IS(e,o))):p(n,["embeddings"],r)),d(t,["metadata"])!=null&&p(n,["metadata"],AS()),n}function MS(e,t){const n={},r=d(t,["predictions[]","embeddings"]);r!=null&&(Array.isArray(r)?p(n,["embeddings"],r.map(o=>PS(e,o))):p(n,["embeddings"],r));const i=d(t,["metadata"]);return i!=null&&p(n,["metadata"],NS(e,i)),n}function bS(e,t){const n={},r=d(t,["bytesBase64Encoded"]);r!=null&&p(n,["imageBytes"],c0(e,r));const i=d(t,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function LS(e,t){const n={},r=d(t,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=d(t,["bytesBase64Encoded"]);i!=null&&p(n,["imageBytes"],c0(e,i));const o=d(t,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function OS(e,t){const n={},r=d(t,["_self"]);r!=null&&p(n,["image"],bS(e,r));const i=d(t,["raiFilteredReason"]);return i!=null&&p(n,["raiFilteredReason"],i),n}function DS(e,t){const n={},r=d(t,["_self"]);r!=null&&p(n,["image"],LS(e,r));const i=d(t,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=d(t,["prompt"]);return o!=null&&p(n,["enhancedPrompt"],o),n}function FS(e,t){const n={},r=d(t,["predictions"]);return r!=null&&(Array.isArray(r)?p(n,["generatedImages"],r.map(i=>OS(e,i))):p(n,["generatedImages"],r)),n}function $S(e,t){const n={},r=d(t,["predictions"]);return r!=null&&(Array.isArray(r)?p(n,["generatedImages"],r.map(i=>DS(e,i))):p(n,["generatedImages"],r)),n}function zS(e,t){const n={},r=d(t,["totalTokens"]);r!=null&&p(n,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&p(n,["cachedContentTokenCount"],i),n}function BS(e,t){const n={},r=d(t,["totalTokens"]);return r!=null&&p(n,["totalTokens"],r),n}function US(e,t){const n={},r=d(t,["tokensInfo"]);return r!=null&&p(n,["tokensInfo"],r),n}function VS(e,t){const n={},r=d(t,["tokensInfo"]);return r!=null&&p(n,["tokensInfo"],r),n}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function jS(e,t){const n={},r=d(t,["generationConfig"]);r!==void 0&&p(n,["generationConfig"],r);const i=d(t,["responseModalities"]);i!==void 0&&p(n,["generationConfig","responseModalities"],i);const o=d(t,["speechConfig"]);o!==void 0&&p(n,["generationConfig","speechConfig"],o);const s=d(t,["systemInstruction"]);s!=null&&p(n,["systemInstruction"],Eo(e,s));const l=d(t,["tools"]);return l!=null&&Array.isArray(l)&&p(n,["tools"],l.map(a=>m0(e,a))),n}function GS(e,t){const n={},r=d(t,["generationConfig"]);r!==void 0&&p(n,["generationConfig"],r);const i=d(t,["responseModalities"]);i!==void 0?p(n,["generationConfig","responseModalities"],i):p(n,["generationConfig","responseModalities"],["AUDIO"]);const o=d(t,["speechConfig"]);o!==void 0&&p(n,["generationConfig","speechConfig"],o);const s=d(t,["systemInstruction"]);s!=null&&p(n,["systemInstruction"],gr(e,s));const l=d(t,["tools"]);return l!=null&&Array.isArray(l)&&p(n,["tools"],l.map(a=>ff(e,a))),n}function WS(e,t){const n={},r=d(t,["config"]);r!=null&&p(n,["setup"],jS(e,r));const i=d(t,["model"]);return i!==void 0&&p(n,["setup","model"],i),n}function qS(e,t){const n={},r=d(t,["config"]);r!=null&&p(n,["setup"],GS(e,r));const i=d(t,["model"]);return i!==void 0&&p(n,["setup","model"],i),n}function KS(e,t){const n={},r=d(t,["modelTurn"]);r!=null&&p(n,["modelTurn"],g0(e,r));const i=d(t,["turnComplete"]);i!==void 0&&p(n,["turnComplete"],i);const o=d(t,["interrupted"]);return o!==void 0&&p(n,["interrupted"],o),n}function YS(e,t){const n={},r=d(t,["modelTurn"]);r!=null&&p(n,["modelTurn"],y0(e,r));const i=d(t,["turnComplete"]);i!==void 0&&p(n,["turnComplete"],i);const o=d(t,["interrupted"]);return o!==void 0&&p(n,["interrupted"],o),n}function JS(e,t){const n={},r=d(t,["id"]);r!==void 0&&p(n,["id"],r);const i=d(t,["args"]);i!==void 0&&p(n,["args"],i);const o=d(t,["name"]);return o!==void 0&&p(n,["name"],o),n}function XS(e,t){const n={},r=d(t,["args"]);r!==void 0&&p(n,["args"],r);const i=d(t,["name"]);return i!==void 0&&p(n,["name"],i),n}function QS(e,t){const n={},r=d(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&p(n,["functionCalls"],r.map(i=>JS(e,i))),n}function ZS(e,t){const n={},r=d(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&p(n,["functionCalls"],r.map(i=>XS(e,i))),n}function eE(e,t){const n={},r=d(t,["ids"]);return r!==void 0&&p(n,["ids"],r),n}function tE(e,t){const n={},r=d(t,["ids"]);return r!==void 0&&p(n,["ids"],r),n}function nE(e,t){const n={},r=d(t,["setupComplete"]);r!==void 0&&p(n,["setupComplete"],r);const i=d(t,["serverContent"]);i!=null&&p(n,["serverContent"],KS(e,i));const o=d(t,["toolCall"]);o!=null&&p(n,["toolCall"],QS(e,o));const s=d(t,["toolCallCancellation"]);return s!=null&&p(n,["toolCallCancellation"],eE(e,s)),n}function rE(e,t){const n={},r=d(t,["setupComplete"]);r!==void 0&&p(n,["setupComplete"],r);const i=d(t,["serverContent"]);i!=null&&p(n,["serverContent"],YS(e,i));const o=d(t,["toolCall"]);o!=null&&p(n,["toolCall"],ZS(e,o));const s=d(t,["toolCallCancellation"]);return s!=null&&p(n,["toolCallCancellation"],tE(e,s)),n}async function iE(e,t,n){let r,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),e.isVertexAI()?r=rE(e,i):r=nE(e,i),t(r)}class oE{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("This SDK does not yet support the live API for **Google Vertex AI**.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion();let s;const l=aE(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())s=`${i}/ws/google.cloud.aiplatform.${o}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(l);else{const g=this.apiClient.getApiKey();s=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateContent?key=${g}`}let a=()=>{};const u=new Promise(g=>{a=g}),c=t.callbacks,f=function(){var g;(g=c==null?void 0:c.onopen)===null||g===void 0||g.call(c),a({})},m=this.apiClient,h={onopen:f,onmessage:g=>{iE(m,c.onmessage,g)},onerror:(n=c==null?void 0:c.onerror)!==null&&n!==void 0?n:function(g){},onclose:(r=c==null?void 0:c.onclose)!==null&&r!==void 0?r:function(g){}},w=this.webSocketFactory.create(s,lE(l),h);w.connect(),await u;let x=St(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){const g=this.apiClient.getProject(),v=this.apiClient.getLocation();x=`projects/${g}/locations/${v}/`+x}let S={};const y={model:x,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?S=qS(this.apiClient,y):S=WS(this.apiClient,y),w.send(JSON.stringify(S)),new sE(w,this.apiClient)}}class sE{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ie(t,n.turns),t.isVertexAI()?r=r.map(i=>gr(t,i)):r=r.map(i=>Eo(t,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClientRealtimeInput(t,n){let r={};if(!("media"in n)||!n.media)throw new Error(`Failed to convert realtime input "media", type: '${typeof n.media}'`);return r={realtimeInput:{mediaChunks:[n.media]}},r}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)||(r=[n.functionResponses]),r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(HS)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t.turns==null&&t.turnComplete==null&&(t={turnComplete:!0});const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){if(t.media==null)throw new Error("Media is required.");const n=this.tLiveClientRealtimeInput(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function lE(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function aE(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uE="Content-Type",cE="User-Agent",fE="x-goog-api-client",dE="0.2.0",pE=`google-genai-sdk/${dE}`,hE="v1beta1",mE="v1beta",wh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class gE extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class xh extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class yE{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hE,i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:mE,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol="wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n){const r=[this.getRequestUrlInternal(n)];return this.clientOptions.vertexai&&!t.startsWith("projects/")&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);if(t.queryParams)for(const[o,s]of Object.entries(t.queryParams))r.searchParams.append(o,String(s));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n){if(n&&n.timeout&&n.timeout>0){const r=new AbortController,i=r.signal;setTimeout(()=>r.abort(),n.timeout),t.signal=i}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await vh(i,t.toString()),new d0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await vh(i,t.toString()),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return sl(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:l,value:a}=yield ot(i.read());if(l){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(a);s+=u;let c=s.match(wh);for(;c;){const f=c[1];try{const m=JSON.parse(f);yield yield ot(m),s=s.slice(c[0].length),c=s.match(wh)}catch(m){throw new Error(`exception parsing stream chunk ${f}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=pE+" "+this.clientOptions.userAgentExtra;return t[cE]=n,t[fE]=n,t[uE]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers)for(const[r,i]of Object.entries(t.headers))n.append(r,i);return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(t);i.sizeBytes=s.size;const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const a=await this.fetchUploadUrl(i,n);return o.upload(t,a,this)}async fetchUploadUrl(t,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const o={file:t},s=await this.request({path:oe("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function vh(e,t,n){var r;if(e===void 0)throw new xh("response is undefined");if(!e.ok){const i=e.status,o=e.statusText;let s;!((r=e.headers.get("content-type"))===null||r===void 0)&&r.includes("application/json")?s=await e.json():s={error:{message:"exception parsing response",code:e.status,status:e.statusText}};const l=`got status: ${i} ${o}. ${JSON.stringify(s)}`;throw i>=400&&i<500?new gE(l):i>=500&&i<600?new xh(l):new Error(l)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wE=class extends uf{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new f0(ol.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t,n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t,n).then(r=>zu(this.apiClient,r))}async listInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=CE(this.apiClient,t);return o=oe("None",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=RE(this.apiClient),c=new uh;return Object.assign(c,u),c})}else{const l=vE(this.apiClient,t);return o=oe("files",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=NE(this.apiClient,a),c=new uh;return Object.assign(c,u),c})}}async createInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=kE(this.apiClient,t);return o=oe("",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=bE(this.apiClient,a),c=new ch;return Object.assign(c,u),c})}else{const l=EE(this.apiClient,t);return o=oe("upload/v1beta/files",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=ME(this.apiClient,a),c=new ch;return Object.assign(c,u),c})}}async get(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=IE(this.apiClient,t);return o=oe("None",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>AE(this.apiClient))}else{const l=TE(this.apiClient,t);return o=oe("files/{file}",l._url),s=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>zu(this.apiClient,a))}}};function xE(e,t,n){const r={},i=d(t,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(t,["pageToken"]);return n!==void 0&&o!=null&&p(n,["_query","pageToken"],o),r}function vE(e,t){const n={},r=d(t,["config"]);return r!=null&&p(n,["config"],xE(e,r,n)),n}function CE(e,t){const n={};if(d(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function _E(e,t){const n={},r=d(t,["details"]);r!=null&&p(n,["details"],r);const i=d(t,["message"]);i!=null&&p(n,["message"],i);const o=d(t,["code"]);return o!=null&&p(n,["code"],o),n}function SE(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["name"],r);const i=d(t,["displayName"]);i!=null&&p(n,["displayName"],i);const o=d(t,["mimeType"]);o!=null&&p(n,["mimeType"],o);const s=d(t,["sizeBytes"]);s!=null&&p(n,["sizeBytes"],s);const l=d(t,["createTime"]);l!=null&&p(n,["createTime"],l);const a=d(t,["expirationTime"]);a!=null&&p(n,["expirationTime"],a);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["sha256Hash"]);c!=null&&p(n,["sha256Hash"],c);const f=d(t,["uri"]);f!=null&&p(n,["uri"],f);const m=d(t,["downloadUri"]);m!=null&&p(n,["downloadUri"],m);const h=d(t,["state"]);h!=null&&p(n,["state"],h);const w=d(t,["source"]);w!=null&&p(n,["source"],w);const x=d(t,["videoMetadata"]);x!=null&&p(n,["videoMetadata"],x);const S=d(t,["error"]);return S!=null&&p(n,["error"],_E(e,S)),n}function EE(e,t){const n={},r=d(t,["file"]);r!=null&&p(n,["file"],SE(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],i),n}function kE(e,t){const n={};if(d(t,["file"])!==void 0)throw new Error("file parameter is not supported in Vertex AI.");if(d(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function TE(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","file"],V1(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],i),n}function IE(e,t){const n={};if(d(t,["name"])!==void 0)throw new Error("name parameter is not supported in Vertex AI.");if(d(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function PE(e,t){const n={},r=d(t,["details"]);r!=null&&p(n,["details"],r);const i=d(t,["message"]);i!=null&&p(n,["message"],i);const o=d(t,["code"]);return o!=null&&p(n,["code"],o),n}function zu(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["name"],r);const i=d(t,["displayName"]);i!=null&&p(n,["displayName"],i);const o=d(t,["mimeType"]);o!=null&&p(n,["mimeType"],o);const s=d(t,["sizeBytes"]);s!=null&&p(n,["sizeBytes"],s);const l=d(t,["createTime"]);l!=null&&p(n,["createTime"],l);const a=d(t,["expirationTime"]);a!=null&&p(n,["expirationTime"],a);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["sha256Hash"]);c!=null&&p(n,["sha256Hash"],c);const f=d(t,["uri"]);f!=null&&p(n,["uri"],f);const m=d(t,["downloadUri"]);m!=null&&p(n,["downloadUri"],m);const h=d(t,["state"]);h!=null&&p(n,["state"],h);const w=d(t,["source"]);w!=null&&p(n,["source"],w);const x=d(t,["videoMetadata"]);x!=null&&p(n,["videoMetadata"],x);const S=d(t,["error"]);return S!=null&&p(n,["error"],PE(e,S)),n}function AE(e,t){return{}}function NE(e,t){const n={},r=d(t,["nextPageToken"]);r!=null&&p(n,["nextPageToken"],r);const i=d(t,["files"]);return i!=null&&(Array.isArray(i)?p(n,["files"],i.map(o=>zu(e,o))):p(n,["files"],i)),n}function RE(e,t){return{}}function ME(e,t){const n={},r=d(t,["httpHeaders"]);return r!=null&&p(n,["httpHeaders"],r),n}function bE(e,t){const n={},r=d(t,["httpHeaders"]);return r!=null&&p(n,["httpHeaders"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ch(){return new Error(`This feature requires the web or Node specific @google/genai implementation, you can fix this by either:

*Enabling conditional exports for your project [recommended]*

*Using a platform specific import* - Make sure your code imports either '@google/genai/web' or '@google/genai/node' instead of '@google/genai'.
`)}const LE=1024*1024*8;class OE{async upload(t,n,r){throw Ch()}async stat(t){throw Ch()}async uploadBlob(t,n,r){var i,o;let s=0,l=0,a=new d0(new Response),u="upload";for(s=t.size;l<s;){const f=Math.min(LE,s-l),m=t.slice(l,l+f);if(l+f>=s&&(u+=", finalize"),a=await r.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),l+=f,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}}class DE{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await new OE().uploadBlob(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return{size:t.size,type:t.type}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FE{create(t,n,r){return new $E(t,n,r)}}class $E{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _h="x-goog-api-key";class zE{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(_h)===null&&t.append(_h,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BE="gl-node/";class w0{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey,this.apiVersion=t.apiVersion;const r=new zE(this.apiKey);this.apiClient=new yE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:BE+"web",uploader:new DE}),this.models=new M_(this.apiClient),this.live=new oE(this.apiClient,r,new FE),this.chats=new N_(this.models,this.apiClient),this.caches=new H1(this.apiClient),this.files=new wE(this.apiClient)}}const Bu="RFC3986",Uu={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},UE="RFC1738",VE=Array.isArray,Kt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Ea=1024,HE=(e,t,n,r,i)=>{if(e.length===0)return e;let o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let s="";for(let l=0;l<o.length;l+=Ea){const a=o.length>=Ea?o.slice(l,l+Ea):o,u=[];for(let c=0;c<a.length;++c){let f=a.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===UE&&(f===40||f===41)){u[u.length]=a.charAt(c);continue}if(f<128){u[u.length]=Kt[f];continue}if(f<2048){u[u.length]=Kt[192|f>>6]+Kt[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=Kt[224|f>>12]+Kt[128|f>>6&63]+Kt[128|f&63];continue}c+=1,f=65536+((f&1023)<<10|a.charCodeAt(c)&1023),u[u.length]=Kt[240|f>>18]+Kt[128|f>>12&63]+Kt[128|f>>6&63]+Kt[128|f&63]}s+=u.join("")}return s};function jE(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Sh(e,t){if(VE(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const GE=Object.prototype.hasOwnProperty,x0={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Xt=Array.isArray,WE=Array.prototype.push,v0=function(e,t){WE.apply(e,Xt(t)?t:[t])},qE=Date.prototype.toISOString,Me={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:HE,encodeValuesOnly:!1,format:Bu,formatter:Uu[Bu],indices:!1,serializeDate(e){return qE.call(e)},skipNulls:!1,strictNullHandling:!1};function KE(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const ka={};function C0(e,t,n,r,i,o,s,l,a,u,c,f,m,h,w,x,S,y){let g=e,v=y,T=0,I=!1;for(;(v=v.get(ka))!==void 0&&!I;){const M=v.get(e);if(T+=1,typeof M<"u"){if(M===T)throw new RangeError("Cyclic object value");I=!0}typeof v.get(ka)>"u"&&(T=0)}if(typeof u=="function"?g=u(t,g):g instanceof Date?g=m==null?void 0:m(g):n==="comma"&&Xt(g)&&(g=Sh(g,function(M){return M instanceof Date?m==null?void 0:m(M):M})),g===null){if(o)return a&&!x?a(t,Me.encoder,S,"key",h):t;g=""}if(KE(g)||jE(g)){if(a){const M=x?t:a(t,Me.encoder,S,"key",h);return[(w==null?void 0:w(M))+"="+(w==null?void 0:w(a(g,Me.encoder,S,"value",h)))]}return[(w==null?void 0:w(t))+"="+(w==null?void 0:w(String(g)))]}const k=[];if(typeof g>"u")return k;let P;if(n==="comma"&&Xt(g))x&&a&&(g=Sh(g,a)),P=[{value:g.length>0?g.join(",")||null:void 0}];else if(Xt(u))P=u;else{const M=Object.keys(g);P=c?M.sort(c):M}const N=l?String(t).replace(/\./g,"%2E"):String(t),O=r&&Xt(g)&&g.length===1?N+"[]":N;if(i&&Xt(g)&&g.length===0)return O+"[]";for(let M=0;M<P.length;++M){const R=P[M],$=typeof R=="object"&&typeof R.value<"u"?R.value:g[R];if(s&&$===null)continue;const W=f&&l?R.replace(/\./g,"%2E"):R,ne=Xt(g)?typeof n=="function"?n(O,W):O:O+(f?"."+W:"["+W+"]");y.set(e,T);const J=new WeakMap;J.set(ka,y),v0(k,C0($,ne,n,r,i,o,s,l,n==="comma"&&x&&Xt(g)?null:a,u,c,f,m,h,w,x,S,J))}return k}function YE(e=Me){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Me.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Bu;if(typeof e.format<"u"){if(!GE.call(Uu,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Uu[n];let i=Me.filter;(typeof e.filter=="function"||Xt(e.filter))&&(i=e.filter);let o;if(e.arrayFormat&&e.arrayFormat in x0?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Me.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Me.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Me.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Me.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Me.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Me.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Me.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Me.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Me.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Me.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Me.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Me.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Me.strictNullHandling}}function JE(e,t={}){let n=e;const r=YE(t);let i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):Xt(r.filter)&&(o=r.filter,i=o);const s=[];if(typeof n!="object"||n===null)return"";const l=x0[r.arrayFormat],a=l==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const u=new WeakMap;for(let m=0;m<i.length;++m){const h=i[m];r.skipNulls&&n[h]===null||v0(s,C0(n[h],h,l,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=s.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),c.length>0?f+c:""}const Tr="4.104.0";let Eh=!1,Wi,_0,S0,Vu,E0,k0,T0,I0,P0;function XE(e,t={auto:!1}){if(Eh)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Wi)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Wi}'\``);Eh=t.auto,Wi=e.kind,_0=e.fetch,S0=e.FormData,Vu=e.File,E0=e.ReadableStream,k0=e.getMultipartRequestOptions,T0=e.getDefaultAgent,I0=e.fileFromPath,P0=e.isFsReadStream}class QE{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function ZE({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,o;try{n=fetch,r=Request,i=Response,o=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:o,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(s,l)=>({...l,body:new QE(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:s=>!1}}const A0=()=>{Wi||XE(ZE(),{auto:!0})};A0();class V extends Error{}class je extends V{constructor(t,n,r,i){super(`${je.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const o=n;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Nl({message:r,cause:ju(n)});const o=n==null?void 0:n.error;return t===400?new N0(t,o,r,i):t===401?new R0(t,o,r,i):t===403?new M0(t,o,r,i):t===404?new b0(t,o,r,i):t===409?new L0(t,o,r,i):t===422?new O0(t,o,r,i):t===429?new D0(t,o,r,i):t>=500?new F0(t,o,r,i):new je(t,o,r,i)}}class Mt extends je{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Nl extends je{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class df extends Nl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class N0 extends je{}class R0 extends je{}class M0 extends je{}class b0 extends je{}class L0 extends je{}class O0 extends je{}class D0 extends je{}class F0 extends je{}class $0 extends V{constructor(){super("Could not parse response content as the length limit was reached")}}class z0 extends V{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Qo=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Xn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},mt;class Rl{constructor(){mt.set(this,void 0),this.buffer=new Uint8Array,Qo(this,mt,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const i=[];let o;for(;(o=ek(this.buffer,Xn(this,mt,"f")))!=null;){if(o.carriage&&Xn(this,mt,"f")==null){Qo(this,mt,o.index,"f");continue}if(Xn(this,mt,"f")!=null&&(o.index!==Xn(this,mt,"f")+1||o.carriage)){i.push(this.decodeText(this.buffer.slice(0,Xn(this,mt,"f")-1))),this.buffer=this.buffer.slice(Xn(this,mt,"f")),Qo(this,mt,null,"f");continue}const s=Xn(this,mt,"f")!==null?o.preceding-1:o.preceding,l=this.decodeText(this.buffer.slice(0,s));i.push(l),this.buffer=this.buffer.slice(o.index),Qo(this,mt,null,"f")}return i}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new V(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new V(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new V("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}mt=new WeakMap;Rl.NEWLINE_CHARS=new Set([`
`,"\r"]);Rl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ek(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function tk(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function B0(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class tn{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const s of nk(t,n))if(!o){if(s.data.startsWith("[DONE]")){o=!0;continue}if(s.event===null||s.event.startsWith("response.")||s.event.startsWith("transcript.")){let l;try{l=JSON.parse(s.data)}catch(a){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),a}if(l&&l.error)throw new je(void 0,l.error,void 0,q0(t.headers));yield l}else{let l;try{l=JSON.parse(s.data)}catch(a){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),a}if(s.event=="error")throw new je(void 0,l.error,l.message,void 0);yield{event:s.event,data:l}}}o=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{o||n.abort()}}return new tn(i,n)}static fromReadableStream(t,n){let r=!1;async function*i(){const s=new Rl,l=B0(t);for await(const a of l)for(const u of s.decode(a))yield u;for(const a of s.flush())yield a}async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const l of i())s||l&&(yield JSON.parse(l));s=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{s||n.abort()}}return new tn(o,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();t.push(s),n.push(s)}return o.shift()}});return[new tn(()=>i(t),this.controller),new tn(()=>i(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new E0({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:s}=await n.next();if(s)return i.close();const l=r.encode(JSON.stringify(o)+`
`);i.enqueue(l)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*nk(e,t){if(!e.body)throw t.abort(),new V("Attempted to iterate over a response with no body");const n=new ik,r=new Rl,i=B0(e.body);for await(const o of rk(i))for(const s of r.decode(o)){const l=n.decode(s);l&&(yield l)}for(const o of r.flush()){const s=n.decode(o);s&&(yield s)}}async function*rk(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),t=i;let o;for(;(o=tk(t))!==-1;)yield t.slice(0,o),t=t.slice(o)}t.length>0&&(yield t)}class ik{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=ok(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function ok(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const U0=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",V0=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Ml(e),Ml=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",sk=e=>V0(e)||U0(e)||P0(e);async function H0(e,t,n){var i;if(e=await e,V0(e))return e;if(U0(e)){const o=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=Ml(o)?[await o.arrayBuffer()]:[o];return new Vu(s,t,n)}const r=await lk(e);if(t||(t=uk(e)??"unknown_file"),!(n!=null&&n.type)){const o=(i=r[0])==null?void 0:i.type;typeof o=="string"&&(n={...n,type:o})}return new Vu(r,t,n)}async function lk(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Ml(e))t.push(await e.arrayBuffer());else if(ck(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${ak(e)}`);return t}function ak(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function uk(e){var t;return Ta(e.name)||Ta(e.filename)||((t=Ta(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Ta=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},ck=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",kh=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",pr=async e=>{const t=await fk(e.body);return k0(t,e)},fk=async e=>{const t=new S0;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Hu(t,n,r))),t},Hu=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(sk(n)){const r=await H0(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Hu(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Hu(e,`${t}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Kr={},dk=function(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},pk=function(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Zo;A0();async function j0(e){var s;const{response:t}=e;if(e.options.stream)return Bn("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):tn.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),r=(s=n==null?void 0:n.split(";")[0])==null?void 0:s.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const l=await t.json();return Bn("response",t.status,t.url,t.headers,l),G0(l,t)}const o=await t.text();return Bn("response",t.status,t.url,t.headers,o),o}function G0(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class bl extends Promise{constructor(t,n=j0){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new bl(this.responsePromise,async n=>G0(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class hk{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:o}){this.baseURL=t,this.maxRetries=Ia("maxRetries",n),this.timeout=Ia("timeout",r),this.httpAgent=i,this.fetch=o??_0}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...xk(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Sk()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async i=>{const o=i&&Ml(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:t,path:n,...i,body:o}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var x;const r={...t},{method:i,path:o,query:s,headers:l={}}=r,a=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:kh(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,u=this.calculateContentLength(a),c=this.buildURL(o,s);"timeout"in r&&Ia("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const f=r.httpAgent??this.httpAgent??T0(c),m=r.timeout+1e3;typeof((x=f==null?void 0:f.options)==null?void 0:x.timeout)=="number"&&m>(f.options.timeout??0)&&(f.options.timeout=m),this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const h=this.buildHeaders({options:r,headers:l,contentLength:u,retryCount:n});return{req:{method:i,...a&&{body:a},headers:h,...f&&{agent:f},signal:r.signal??null},url:c,timeout:r.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:i}){const o={};r&&(o["content-length"]=r);const s=this.defaultHeaders(t);return Ah(o,s),Ah(o,n),kh(t.body)&&Wi!=="node"&&delete o["content-type"],ts(s,"x-stainless-retry-count")===void 0&&ts(n,"x-stainless-retry-count")===void 0&&(o["x-stainless-retry-count"]=String(i)),ts(s,"x-stainless-timeout")===void 0&&ts(n,"x-stainless-timeout")===void 0&&t.timeout&&(o["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(o,n),o}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,i){return je.generate(t,n,r,i)}request(t,n=null){return new bl(this.makeRequest(t,n))}async makeRequest(t,n){var f,m;const r=await t,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:o,url:s,timeout:l}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(o,{url:s,options:r}),Bn("request",s,r,o.headers),(f=r.signal)!=null&&f.aborted)throw new Mt;const a=new AbortController,u=await this.fetchWithTimeout(s,o,l,a).catch(ju);if(u instanceof Error){if((m=r.signal)!=null&&m.aborted)throw new Mt;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new df:new Nl({cause:u})}const c=q0(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const g=`retrying, ${n} attempts remaining`;return Bn(`response (error; ${g})`,u.status,s,c),this.retryRequest(r,n,c)}const h=await u.text().catch(g=>ju(g).message),w=vk(h),x=w?void 0:h;throw Bn(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,s,c,x),this.makeStatusError(u.status,w,x,c)}return{response:u,options:r,controller:a}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new mk(this,r,t)}buildURL(t,n){const r=_k(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),i=this.defaultQuery();return K0(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new V(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,i){const{signal:o,...s}=n||{};o&&o.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),a={signal:i.signal,...s};return a.method&&(a.method=a.method.toUpperCase()),this.fetch.call(void 0,t,a).finally(()=>{clearTimeout(l)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let i;const o=r==null?void 0:r["retry-after-ms"];if(o){const l=parseFloat(o);Number.isNaN(l)||(i=l)}const s=r==null?void 0:r["retry-after"];if(s&&!i){const l=parseFloat(s);Number.isNaN(l)?i=Date.parse(s)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await ko(i),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,s=Math.min(.5*Math.pow(2,o),8),l=1-Math.random()*.25;return s*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Tr}`}}class W0{constructor(t,n,r,i){Zo.set(this,void 0),dk(this,Zo,t),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new V("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[i,o]of r)t.url.searchParams.set(i,o);n.query=void 0,n.path=t.url.toString()}return await pk(this,Zo,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Zo=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class mk extends bl{constructor(t,n,r){super(n,async i=>new r(t,i.response,await j0(i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const q0=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),gk={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ke=e=>typeof e=="object"&&e!==null&&!K0(e)&&Object.keys(e).every(t=>Y0(gk,t)),yk=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Tr,"X-Stainless-OS":Ih(Deno.build.os),"X-Stainless-Arch":Th(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Tr,"X-Stainless-OS":Ih(process.platform),"X-Stainless-Arch":Th(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=wk();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function wk(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:t,version:`${i}.${o}.${s}`}}}return null}const Th=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Ih=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Ph;const xk=()=>Ph??(Ph=yk()),vk=e=>{try{return JSON.parse(e)}catch{return}},Ck=/^[a-z][a-z0-9+.-]*:/i,_k=e=>Ck.test(e),ko=e=>new Promise(t=>setTimeout(t,e)),Ia=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new V(`${e} must be an integer`);if(t<0)throw new V(`${e} must be a positive integer`);return t},ju=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},es=e=>{var t,n,r,i;if(typeof process<"u")return((t=Kr==null?void 0:Kr[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:i.trim()};function K0(e){if(!e)return!0;for(const t in e)return!1;return!0}function Y0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ah(e,t){for(const n in t){if(!Y0(t,n))continue;const r=n.toLowerCase();if(!r)continue;const i=t[n];i===null?delete e[r]:i!==void 0&&(e[r]=i)}}const Nh=new Set(["authorization","api-key"]);function Bn(e,...t){if(typeof process<"u"&&(Kr==null?void 0:Kr.DEBUG)==="true"){const n=t.map(r=>{if(!r)return r;if(r.headers){const o={...r,headers:{...r.headers}};for(const s in r.headers)Nh.has(s.toLowerCase())&&(o.headers[s]="REDACTED");return o}let i=null;for(const o in r)Nh.has(o.toLowerCase())&&(i??(i={...r}),i[o]="REDACTED");return i??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}const Sk=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Ek=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",kk=e=>typeof(e==null?void 0:e.get)=="function",ts=(e,t)=>{var r;const n=t.toLowerCase();if(kk(e)){const i=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(o,s,l)=>s+l.toUpperCase());for(const o of[t,n,t.toUpperCase(),i]){const s=e.get(o);if(s)return s}}for(const[i,o]of Object.entries(e))if(i.toLowerCase()===n)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${t} header, using the first entry.`),o[0]):o},Tk=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};function Pa(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Ll extends W0{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Oe extends W0{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class H{constructor(t){this._client=t}}let J0=class extends H{list(t,n={},r){return ke(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,Ik,{query:n,...r})}},Ol=class extends H{constructor(){super(...arguments),this.messages=new J0(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return ke(t)?this.list({},t):this._client.getAPIList("/chat/completions",Dl,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Dl extends Oe{}class Ik extends Oe{}Ol.ChatCompletionsPage=Dl;Ol.Messages=J0;let Fl=class extends H{constructor(){super(...arguments),this.completions=new Ol(this._client)}};Fl.Completions=Ol;Fl.ChatCompletionsPage=Dl;class X0 extends H{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class Q0 extends H{create(t,n){return this._client.post("/audio/transcriptions",pr({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class Z0 extends H{create(t,n){return this._client.post("/audio/translations",pr({body:t,...n,__metadata:{model:t.model}}))}}class To extends H{constructor(){super(...arguments),this.transcriptions=new Q0(this._client),this.translations=new Z0(this._client),this.speech=new X0(this._client)}}To.Transcriptions=Q0;To.Translations=Z0;To.Speech=X0;class pf extends H{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return ke(t)?this.list({},t):this._client.getAPIList("/batches",hf,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class hf extends Oe{}pf.BatchesPage=hf;var $t=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Ce=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Gu,Ts,Is,Ri,Mi,Ps,bi,un,Li,ll,al,Ir,ew;class mf{constructor(){Gu.add(this),this.controller=new AbortController,Ts.set(this,void 0),Is.set(this,()=>{}),Ri.set(this,()=>{}),Mi.set(this,void 0),Ps.set(this,()=>{}),bi.set(this,()=>{}),un.set(this,{}),Li.set(this,!1),ll.set(this,!1),al.set(this,!1),Ir.set(this,!1),$t(this,Ts,new Promise((t,n)=>{$t(this,Is,t,"f"),$t(this,Ri,n,"f")}),"f"),$t(this,Mi,new Promise((t,n)=>{$t(this,Ps,t,"f"),$t(this,bi,n,"f")}),"f"),Ce(this,Ts,"f").catch(()=>{}),Ce(this,Mi,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Ce(this,Gu,"m",ew).bind(this))},0)}_connected(){this.ended||(Ce(this,Is,"f").call(this),this._emit("connect"))}get ended(){return Ce(this,Li,"f")}get errored(){return Ce(this,ll,"f")}get aborted(){return Ce(this,al,"f")}abort(){this.controller.abort()}on(t,n){return(Ce(this,un,"f")[t]||(Ce(this,un,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=Ce(this,un,"f")[t];if(!r)return this;const i=r.findIndex(o=>o.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(Ce(this,un,"f")[t]||(Ce(this,un,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{$t(this,Ir,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){$t(this,Ir,!0,"f"),await Ce(this,Mi,"f")}_emit(t,...n){if(Ce(this,Li,"f"))return;t==="end"&&($t(this,Li,!0,"f"),Ce(this,Ps,"f").call(this));const r=Ce(this,un,"f")[t];if(r&&(Ce(this,un,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!Ce(this,Ir,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Ce(this,Ri,"f").call(this,i),Ce(this,bi,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!Ce(this,Ir,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Ce(this,Ri,"f").call(this,i),Ce(this,bi,"f").call(this,i),this._emit("end")}}_emitFinal(){}}Ts=new WeakMap,Is=new WeakMap,Ri=new WeakMap,Mi=new WeakMap,Ps=new WeakMap,bi=new WeakMap,un=new WeakMap,Li=new WeakMap,ll=new WeakMap,al=new WeakMap,Ir=new WeakMap,Gu=new WeakSet,ew=function(t){if($t(this,ll,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Mt),t instanceof Mt)return $t(this,al,!0,"f"),this._emit("abort",t);if(t instanceof V)return this._emit("error",t);if(t instanceof Error){const n=new V(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new V(String(t)))};var B=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ht=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Ue,Wu,Qt,As,Bt,or,Br,er,ul,yt,Ns,Rs,qi,Oi,Di,Rh,Mh,bh,Lh,Oh,Dh,Fh;class Ht extends mf{constructor(){super(...arguments),Ue.add(this),Wu.set(this,[]),Qt.set(this,{}),As.set(this,{}),Bt.set(this,void 0),or.set(this,void 0),Br.set(this,void 0),er.set(this,void 0),ul.set(this,void 0),yt.set(this,void 0),Ns.set(this,void 0),Rs.set(this,void 0),qi.set(this,void 0)}[(Wu=new WeakMap,Qt=new WeakMap,As=new WeakMap,Bt=new WeakMap,or=new WeakMap,Br=new WeakMap,er=new WeakMap,ul=new WeakMap,yt=new WeakMap,Ns=new WeakMap,Rs=new WeakMap,qi=new WeakMap,Ue=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const o=n.shift();o?o.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,s)=>n.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Ht;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=tn.fromReadableStream(t,this.controller);for await(const s of i)B(this,Ue,"m",Oi).call(this,s);if((o=i.controller.signal)!=null&&o.aborted)throw new Mt;return this._addRun(B(this,Ue,"m",Di).call(this))}toReadableStream(){return new tn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,i,o){const s=new Ht;return s._run(()=>s._runToolAssistantStream(t,n,r,i,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(t,n,r,i,o){var u;const s=o==null?void 0:o.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const l={...i,stream:!0},a=await t.submitToolOutputs(n,r,l,{...o,signal:this.controller.signal});this._connected();for await(const c of a)B(this,Ue,"m",Oi).call(this,c);if((u=a.controller.signal)!=null&&u.aborted)throw new Mt;return this._addRun(B(this,Ue,"m",Di).call(this))}static createThreadAssistantStream(t,n,r){const i=new Ht;return i._run(()=>i._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,n,r,i){const o=new Ht;return o._run(()=>o._runAssistantStream(t,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return B(this,Ns,"f")}currentRun(){return B(this,Rs,"f")}currentMessageSnapshot(){return B(this,Bt,"f")}currentRunStepSnapshot(){return B(this,qi,"f")}async finalRunSteps(){return await this.done(),Object.values(B(this,Qt,"f"))}async finalMessages(){return await this.done(),Object.values(B(this,As,"f"))}async finalRun(){if(await this.done(),!B(this,or,"f"))throw Error("Final run was not received.");return B(this,or,"f")}async _createThreadAssistantStream(t,n,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},s=await t.createAndRun(o,{...r,signal:this.controller.signal});this._connected();for await(const a of s)B(this,Ue,"m",Oi).call(this,a);if((l=s.controller.signal)!=null&&l.aborted)throw new Mt;return this._addRun(B(this,Ue,"m",Di).call(this))}async _createAssistantStream(t,n,r,i){var a;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const s={...r,stream:!0},l=await t.create(n,s,{...i,signal:this.controller.signal});this._connected();for await(const u of l)B(this,Ue,"m",Oi).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new Mt;return this._addRun(B(this,Ue,"m",Di).call(this))}static accumulateDelta(t,n){for(const[r,i]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=i;continue}let o=t[r];if(o==null){t[r]=i;continue}if(r==="index"||r==="type"){t[r]=i;continue}if(typeof o=="string"&&typeof i=="string")o+=i;else if(typeof o=="number"&&typeof i=="number")o+=i;else if(Pa(o)&&Pa(i))o=this.accumulateDelta(o,i);else if(Array.isArray(o)&&Array.isArray(i)){if(o.every(s=>typeof s=="string"||typeof s=="number")){o.push(...i);continue}for(const s of i){if(!Pa(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);const l=s.index;if(l==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const a=o[l];a==null?o.push(s):o[l]=this.accumulateDelta(a,s)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${o}`);t[r]=o}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,i){return await this._createAssistantStream(n,t,r,i)}async _runToolAssistantStream(t,n,r,i,o){return await this._createToolAssistantStream(r,t,n,i,o)}}Oi=function(t){if(!this.ended)switch(ht(this,Ns,t,"f"),B(this,Ue,"m",bh).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":B(this,Ue,"m",Fh).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":B(this,Ue,"m",Mh).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":B(this,Ue,"m",Rh).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Di=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");if(!B(this,or,"f"))throw Error("Final run has not been received");return B(this,or,"f")},Rh=function(t){const[n,r]=B(this,Ue,"m",Oh).call(this,t,B(this,Bt,"f"));ht(this,Bt,n,"f"),B(this,As,"f")[n.id]=n;for(const i of r){const o=n.content[i.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const i of t.data.delta.content){if(i.type=="text"&&i.text){let o=i.text,s=n.content[i.index];if(s&&s.type=="text")this._emit("textDelta",o,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=B(this,Br,"f")){if(B(this,er,"f"))switch(B(this,er,"f").type){case"text":this._emit("textDone",B(this,er,"f").text,B(this,Bt,"f"));break;case"image_file":this._emit("imageFileDone",B(this,er,"f").image_file,B(this,Bt,"f"));break}ht(this,Br,i.index,"f")}ht(this,er,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(B(this,Br,"f")!==void 0){const i=t.data.content[B(this,Br,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,B(this,Bt,"f"));break;case"text":this._emit("textDone",i.text,B(this,Bt,"f"));break}}B(this,Bt,"f")&&this._emit("messageDone",t.data),ht(this,Bt,void 0,"f")}},Mh=function(t){const n=B(this,Ue,"m",Lh).call(this,t);switch(ht(this,qi,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const o of r.step_details.tool_calls)o.index==B(this,ul,"f")?this._emit("toolCallDelta",o,n.step_details.tool_calls[o.index]):(B(this,yt,"f")&&this._emit("toolCallDone",B(this,yt,"f")),ht(this,ul,o.index,"f"),ht(this,yt,n.step_details.tool_calls[o.index],"f"),B(this,yt,"f")&&this._emit("toolCallCreated",B(this,yt,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ht(this,qi,void 0,"f"),t.data.step_details.type=="tool_calls"&&B(this,yt,"f")&&(this._emit("toolCallDone",B(this,yt,"f")),ht(this,yt,void 0,"f")),this._emit("runStepDone",t.data,n);break}},bh=function(t){B(this,Wu,"f").push(t),this._emit("event",t)},Lh=function(t){switch(t.event){case"thread.run.step.created":return B(this,Qt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=B(this,Qt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const i=Ht.accumulateDelta(n,r.delta);B(this,Qt,"f")[t.data.id]=i}return B(this,Qt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":B(this,Qt,"f")[t.data.id]=t.data;break}if(B(this,Qt,"f")[t.data.id])return B(this,Qt,"f")[t.data.id];throw new Error("No snapshot available")},Oh=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=t.data;if(i.delta.content)for(const o of i.delta.content)if(o.index in n.content){let s=n.content[o.index];n.content[o.index]=B(this,Ue,"m",Dh).call(this,o,s)}else n.content[o.index]=o,r.push(o);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Dh=function(t,n){return Ht.accumulateDelta(n,t)},Fh=function(t){switch(ht(this,Rs,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ht(this,or,t.data,"f"),B(this,yt,"f")&&(this._emit("toolCallDone",B(this,yt,"f")),ht(this,yt,void 0,"f"));break}};class gf extends H{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ke(t)?this.list({},t):this._client.getAPIList("/assistants",yf,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class yf extends Oe{}gf.AssistantsPage=yf;function $h(e){return typeof e.parse=="function"}const Yr=e=>(e==null?void 0:e.role)==="assistant",tw=e=>(e==null?void 0:e.role)==="function",nw=e=>(e==null?void 0:e.role)==="tool";function wf(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Io(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Pk(e,t){return!t||!rw(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:xf(e,t)}function xf(e,t){const n=e.choices.map(r=>{var i;if(r.finish_reason==="length")throw new $0;if(r.finish_reason==="content_filter")throw new z0;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(o=>Nk(t,o)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?Ak(t,r.message.content):null}}});return{...e,choices:n}}function Ak(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function Nk(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(i=>{var o;return((o=i.function)==null?void 0:o.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Io(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function Rk(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(i=>{var o;return((o=i.function)==null?void 0:o.name)===t.function.name});return Io(n)||(n==null?void 0:n.function.strict)||!1}function rw(e){var t;return wf(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Io(n)||n.type==="function"&&n.function.strict===!0))??!1}function Mk(e){for(const t of e??[]){if(t.type!=="function")throw new V(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new V(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var nt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},qe,qu,cl,Ku,Yu,Ju,iw,Xu;const zh=10;class ow extends mf{constructor(){super(...arguments),qe.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(tw(t)||nw(t))&&t.content)this._emit("functionCallResult",t.content);else if(Yr(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Yr(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new V("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),nt(this,qe,"m",qu).call(this)}async finalMessage(){return await this.done(),nt(this,qe,"m",cl).call(this)}async finalFunctionCall(){return await this.done(),nt(this,qe,"m",Ku).call(this)}async finalFunctionCallResult(){return await this.done(),nt(this,qe,"m",Yu).call(this)}async totalUsage(){return await this.done(),nt(this,qe,"m",Ju).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=nt(this,qe,"m",cl).call(this);n&&this._emit("finalMessage",n);const r=nt(this,qe,"m",qu).call(this);r&&this._emit("finalContent",r);const i=nt(this,qe,"m",Ku).call(this);i&&this._emit("finalFunctionCall",i);const o=nt(this,qe,"m",Yu).call(this);o!=null&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",nt(this,qe,"m",Ju).call(this))}async _createChatCompletion(t,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),nt(this,qe,"m",iw).call(this,n);const o=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(xf(o,n))}async _runChatCompletion(t,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var m;const i="function",{function_call:o="auto",stream:s,...l}=n,a=typeof o!="string"&&(o==null?void 0:o.name),{maxChatCompletions:u=zh}=r||{},c={};for(const h of n.functions)c[h.name||h.function.name]=h;const f=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of n.messages)this._addMessage(h,!1);for(let h=0;h<u;++h){const x=(m=(await this._createChatCompletion(t,{...l,function_call:o,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:m.message;if(!x)throw new V("missing message in ChatCompletion response");if(!x.function_call)return;const{name:S,arguments:y}=x.function_call,g=c[S];if(g){if(a&&a!==S){const k=`Invalid function_call: ${JSON.stringify(S)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:i,name:S,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(S)}. Available options are: ${f.map(P=>JSON.stringify(P.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:S,content:k});continue}let v;try{v=$h(g)?await g.parse(y):y}catch(k){this._addMessage({role:i,name:S,content:k instanceof Error?k.message:String(k)});continue}const T=await g.function(v,this),I=nt(this,qe,"m",Xu).call(this,T);if(this._addMessage({role:i,name:S,content:I}),a)return}}async _runTools(t,n,r){var h,w,x;const i="tool",{tool_choice:o="auto",stream:s,...l}=n,a=typeof o!="string"&&((h=o==null?void 0:o.function)==null?void 0:h.name),{maxChatCompletions:u=zh}=r||{},c=n.tools.map(S=>{if(Io(S)){if(!S.$callback)throw new V("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:S.$callback,name:S.function.name,description:S.function.description||"",parameters:S.function.parameters,parse:S.$parseRaw,strict:!0}}}return S}),f={};for(const S of c)S.type==="function"&&(f[S.function.name||S.function.function.name]=S.function);const m="tools"in n?c.map(S=>S.type==="function"?{type:"function",function:{name:S.function.name||S.function.function.name,parameters:S.function.parameters,description:S.function.description,strict:S.function.strict}}:S):void 0;for(const S of n.messages)this._addMessage(S,!1);for(let S=0;S<u;++S){const g=(w=(await this._createChatCompletion(t,{...l,tool_choice:o,tools:m,messages:[...this.messages]},r)).choices[0])==null?void 0:w.message;if(!g)throw new V("missing message in ChatCompletion response");if(!((x=g.tool_calls)!=null&&x.length))return;for(const v of g.tool_calls){if(v.type!=="function")continue;const T=v.id,{name:I,arguments:k}=v.function,P=f[I];if(P){if(a&&a!==I){const R=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:i,tool_call_id:T,content:R});continue}}else{const R=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(f).map($=>JSON.stringify($)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:T,content:R});continue}let N;try{N=$h(P)?await P.parse(k):k}catch(R){const $=R instanceof Error?R.message:String(R);this._addMessage({role:i,tool_call_id:T,content:$});continue}const O=await P.function(N,this),M=nt(this,qe,"m",Xu).call(this,O);if(this._addMessage({role:i,tool_call_id:T,content:M}),a)return}}}}qe=new WeakSet,qu=function(){return nt(this,qe,"m",cl).call(this).content??null},cl=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Yr(n)){const{function_call:r,...i}=n,o={...i,content:n.content??null,refusal:n.refusal??null};return r&&(o.function_call=r),o}}throw new V("stream ended without producing a ChatCompletionMessage with role=assistant")},Ku=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Yr(i)&&(i!=null&&i.function_call))return i.function_call;if(Yr(i)&&((t=i==null?void 0:i.tool_calls)!=null&&t.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},Yu=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(tw(n)&&n.content!=null||nw(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(o=>o.type==="function"&&o.id===n.tool_call_id))}))return n.content}},Ju=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},iw=function(t){if(t.n!=null&&t.n>1)throw new V("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Xu=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class go extends ow{static runFunctions(t,n,r){const i=new go,o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,o)),i}static runTools(t,n,r){const i=new go,o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,o)),i}_addMessage(t,n=!0){super._addMessage(t,n),Yr(t)&&t.content&&this._emit("content",t.content)}}const sw=1,lw=2,aw=4,uw=8,cw=16,fw=32,dw=64,pw=128,hw=256,mw=pw|hw,gw=cw|fw|mw|dw,yw=sw|lw|gw,ww=aw|uw,bk=yw|ww,Fe={STR:sw,NUM:lw,ARR:aw,OBJ:uw,NULL:cw,BOOL:fw,NAN:dw,INFINITY:pw,MINUS_INFINITY:hw,INF:mw,SPECIAL:gw,ATOM:yw,COLLECTION:ww,ALL:bk};class Lk extends Error{}class Ok extends Error{}function Dk(e,t=Fe.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Fk(e.trim(),t)}const Fk=(e,t)=>{const n=e.length;let r=0;const i=m=>{throw new Lk(`${m} at position ${r}`)},o=m=>{throw new Ok(`${m} at position ${r}`)},s=()=>(f(),r>=n&&i("Unexpected end of input"),e[r]==='"'?l():e[r]==="{"?a():e[r]==="["?u():e.substring(r,r+4)==="null"||Fe.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Fe.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Fe.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Fe.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Fe.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Fe.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),l=()=>{const m=r;let h=!1;for(r++;r<n&&(e[r]!=='"'||h&&e[r-1]==="\\");)h=e[r]==="\\"?!h:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(m,++r-Number(h)))}catch(w){o(String(w))}else if(Fe.STR&t)try{return JSON.parse(e.substring(m,r-Number(h))+'"')}catch{return JSON.parse(e.substring(m,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},a=()=>{r++,f();const m={};try{for(;e[r]!=="}";){if(f(),r>=n&&Fe.OBJ&t)return m;const h=l();f(),r++;try{const w=s();Object.defineProperty(m,h,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(Fe.OBJ&t)return m;throw w}f(),e[r]===","&&r++}}catch{if(Fe.OBJ&t)return m;i("Expected '}' at end of object")}return r++,m},u=()=>{r++;const m=[];try{for(;e[r]!=="]";)m.push(s()),f(),e[r]===","&&r++}catch{if(Fe.ARR&t)return m;i("Expected ']' at end of array")}return r++,m},c=()=>{if(r===0){e==="-"&&Fe.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(h){if(Fe.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}o(String(h))}}const m=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Fe.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(e.substring(m,r))}catch{e.substring(m,r)==="-"&&Fe.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(m,e.lastIndexOf("e")))}catch(w){o(String(w))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return s()},Bh=e=>Dk(e,Fe.ALL^Fe.NUM);var Cr=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ae=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Re,an,_r,_n,Aa,ns,Na,Ra,Ma,rs,ba,Uh;class yo extends ow{constructor(t){super(),Re.add(this),an.set(this,void 0),_r.set(this,void 0),_n.set(this,void 0),Cr(this,an,t,"f"),Cr(this,_r,[],"f")}get currentChatCompletionSnapshot(){return ae(this,_n,"f")}static fromReadableStream(t){const n=new yo(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const i=new yo(n);return i._run(()=>i._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,n,r){var s;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ae(this,Re,"m",Aa).call(this);const o=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of o)ae(this,Re,"m",Na).call(this,l);if((s=o.controller.signal)!=null&&s.aborted)throw new Mt;return this._addChatCompletion(ae(this,Re,"m",rs).call(this))}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ae(this,Re,"m",Aa).call(this),this._connected();const i=tn.fromReadableStream(t,this.controller);let o;for await(const l of i)o&&o!==l.id&&this._addChatCompletion(ae(this,Re,"m",rs).call(this)),ae(this,Re,"m",Na).call(this,l),o=l.id;if((s=i.controller.signal)!=null&&s.aborted)throw new Mt;return this._addChatCompletion(ae(this,Re,"m",rs).call(this))}[(an=new WeakMap,_r=new WeakMap,_n=new WeakMap,Re=new WeakSet,Aa=function(){this.ended||Cr(this,_n,void 0,"f")},ns=function(n){let r=ae(this,_r,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ae(this,_r,"f")[n.index]=r,r)},Na=function(n){var i,o,s,l,a,u,c,f,m,h,w,x,S,y,g;if(this.ended)return;const r=ae(this,Re,"m",Uh).call(this,n);this._emit("chunk",n,r);for(const v of n.choices){const T=r.choices[v.index];v.delta.content!=null&&((i=T.message)==null?void 0:i.role)==="assistant"&&((o=T.message)!=null&&o.content)&&(this._emit("content",v.delta.content,T.message.content),this._emit("content.delta",{delta:v.delta.content,snapshot:T.message.content,parsed:T.message.parsed})),v.delta.refusal!=null&&((s=T.message)==null?void 0:s.role)==="assistant"&&((l=T.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:v.delta.refusal,snapshot:T.message.refusal}),((a=v.logprobs)==null?void 0:a.content)!=null&&((u=T.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=v.logprobs)==null?void 0:c.content,snapshot:((f=T.logprobs)==null?void 0:f.content)??[]}),((m=v.logprobs)==null?void 0:m.refusal)!=null&&((h=T.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(w=v.logprobs)==null?void 0:w.refusal,snapshot:((x=T.logprobs)==null?void 0:x.refusal)??[]});const I=ae(this,Re,"m",ns).call(this,T);T.finish_reason&&(ae(this,Re,"m",Ma).call(this,T),I.current_tool_call_index!=null&&ae(this,Re,"m",Ra).call(this,T,I.current_tool_call_index));for(const k of v.delta.tool_calls??[])I.current_tool_call_index!==k.index&&(ae(this,Re,"m",Ma).call(this,T),I.current_tool_call_index!=null&&ae(this,Re,"m",Ra).call(this,T,I.current_tool_call_index)),I.current_tool_call_index=k.index;for(const k of v.delta.tool_calls??[]){const P=(S=T.message.tool_calls)==null?void 0:S[k.index];P!=null&&P.type&&((P==null?void 0:P.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=P.function)==null?void 0:y.name,index:k.index,arguments:P.function.arguments,parsed_arguments:P.function.parsed_arguments,arguments_delta:((g=k.function)==null?void 0:g.arguments)??""}):(P==null||P.type,void 0))}}},Ra=function(n,r){var s,l,a;if(ae(this,Re,"m",ns).call(this,n).done_tool_calls.has(r))return;const o=(s=n.message.tool_calls)==null?void 0:s[r];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const u=(a=(l=ae(this,an,"f"))==null?void 0:l.tools)==null?void 0:a.find(c=>c.type==="function"&&c.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:r,arguments:o.function.arguments,parsed_arguments:Io(u)?u.$parseRaw(o.function.arguments):u!=null&&u.function.strict?JSON.parse(o.function.arguments):null})}else o.type},Ma=function(n){var i,o;const r=ae(this,Re,"m",ns).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const s=ae(this,Re,"m",ba).call(this);this._emit("content.done",{content:n.message.content,parsed:s?s.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(o=n.logprobs)!=null&&o.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},rs=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=ae(this,_n,"f");if(!n)throw new V("request ended without sending any chunks");return Cr(this,_n,void 0,"f"),Cr(this,_r,[],"f"),$k(n,ae(this,an,"f"))},ba=function(){var r;const n=(r=ae(this,an,"f"))==null?void 0:r.response_format;return wf(n)?n:null},Uh=function(n){var r,i,o,s;let l=ae(this,_n,"f");const{choices:a,...u}=n;l?Object.assign(l,u):l=Cr(this,_n,{...u,choices:[]},"f");for(const{delta:c,finish_reason:f,index:m,logprobs:h=null,...w}of n.choices){let x=l.choices[m];if(x||(x=l.choices[m]={finish_reason:f,index:m,message:{},logprobs:h,...w}),h)if(!x.logprobs)x.logprobs=Object.assign({},h);else{const{content:k,refusal:P,...N}=h;Object.assign(x.logprobs,N),k&&((r=x.logprobs).content??(r.content=[]),x.logprobs.content.push(...k)),P&&((i=x.logprobs).refusal??(i.refusal=[]),x.logprobs.refusal.push(...P))}if(f&&(x.finish_reason=f,ae(this,an,"f")&&rw(ae(this,an,"f")))){if(f==="length")throw new $0;if(f==="content_filter")throw new z0}if(Object.assign(x,w),!c)continue;const{content:S,refusal:y,function_call:g,role:v,tool_calls:T,...I}=c;if(Object.assign(x.message,I),y&&(x.message.refusal=(x.message.refusal||"")+y),v&&(x.message.role=v),g&&(x.message.function_call?(g.name&&(x.message.function_call.name=g.name),g.arguments&&((o=x.message.function_call).arguments??(o.arguments=""),x.message.function_call.arguments+=g.arguments)):x.message.function_call=g),S&&(x.message.content=(x.message.content||"")+S,!x.message.refusal&&ae(this,Re,"m",ba).call(this)&&(x.message.parsed=Bh(x.message.content))),T){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:k,id:P,type:N,function:O,...M}of T){const R=(s=x.message.tool_calls)[k]??(s[k]={});Object.assign(R,M),P&&(R.id=P),N&&(R.type=N),O&&(R.function??(R.function={name:O.name??"",arguments:""})),O!=null&&O.name&&(R.function.name=O.name),O!=null&&O.arguments&&(R.function.arguments+=O.arguments,Rk(ae(this,an,"f"),R)&&(R.function.parsed_arguments=Bh(R.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",i=>{const o=n.shift();o?o.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,s)=>n.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new tn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function $k(e,t){const{id:n,choices:r,created:i,model:o,system_fingerprint:s,...l}=e,a={...l,id:n,choices:r.map(({message:u,finish_reason:c,index:f,logprobs:m,...h})=>{if(!c)throw new V(`missing finish_reason for choice ${f}`);const{content:w=null,function_call:x,tool_calls:S,...y}=u,g=u.role;if(!g)throw new V(`missing role for choice ${f}`);if(x){const{arguments:v,name:T}=x;if(v==null)throw new V(`missing function_call.arguments for choice ${f}`);if(!T)throw new V(`missing function_call.name for choice ${f}`);return{...h,message:{content:w,function_call:{arguments:v,name:T},role:g,refusal:u.refusal??null},finish_reason:c,index:f,logprobs:m}}return S?{...h,index:f,finish_reason:c,logprobs:m,message:{...y,role:g,content:w,refusal:u.refusal??null,tool_calls:S.map((v,T)=>{const{function:I,type:k,id:P,...N}=v,{arguments:O,name:M,...R}=I||{};if(P==null)throw new V(`missing choices[${f}].tool_calls[${T}].id
${is(e)}`);if(k==null)throw new V(`missing choices[${f}].tool_calls[${T}].type
${is(e)}`);if(M==null)throw new V(`missing choices[${f}].tool_calls[${T}].function.name
${is(e)}`);if(O==null)throw new V(`missing choices[${f}].tool_calls[${T}].function.arguments
${is(e)}`);return{...N,id:P,type:k,function:{...R,name:M,arguments:O}}})}}:{...h,message:{...y,content:w,role:g,refusal:u.refusal??null},finish_reason:c,index:f,logprobs:m}}),created:i,model:o,object:"chat.completion",...s?{system_fingerprint:s}:{}};return Pk(a,t)}function is(e){return JSON.stringify(e)}class Jr extends yo{static fromReadableStream(t){const n=new Jr(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const i=new Jr(null),o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,o)),i}static runTools(t,n,r){const i=new Jr(n),o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,o)),i}}let xw=class extends H{parse(t,n){return Mk(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>xf(r,t))}runFunctions(t,n){return t.stream?Jr.runFunctions(this._client,t,n):go.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?Jr.runTools(this._client,t,n):go.runTools(this._client,t,n)}stream(t,n){return yo.createChatCompletion(this._client,t,n)}};class Qu extends H{constructor(){super(...arguments),this.completions=new xw(this._client)}}(function(e){e.Completions=xw})(Qu||(Qu={}));class vw extends H{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Cw extends H{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class $l extends H{constructor(){super(...arguments),this.sessions=new vw(this._client),this.transcriptionSessions=new Cw(this._client)}}$l.Sessions=vw;$l.TranscriptionSessions=Cw;class vf extends H{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return ke(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,Cf,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Cf extends Oe{}vf.MessagesPage=Cf;class _f extends H{retrieve(t,n,r,i={},o){return ke(i)?this.retrieve(t,n,r,{},i):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,n,r={},i){return ke(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,Sf,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class Sf extends Oe{}_f.RunStepsPage=Sf;let Po=class extends H{constructor(){super(...arguments),this.steps=new _f(this._client)}create(t,n,r){const{include:i,...o}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:i},body:o,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return ke(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,Ef,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}createAndStream(t,n,r){return Ht.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:o,response:s}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=s.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await ko(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(t,n,r){return Ht.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,i){const o=await this.submitToolOutputs(t,n,r,i);return await this.poll(t,o.id,i)}submitToolOutputsStream(t,n,r,i){return Ht.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,i)}};class Ef extends Oe{}Po.RunsPage=Ef;Po.Steps=_f;Po.RunStepsPage=Sf;class ui extends H{constructor(){super(...arguments),this.runs=new Po(this._client),this.messages=new vf(this._client)}create(t={},n){return ke(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return Ht.createThreadAssistantStream(t,this._client.beta.threads,n)}}ui.Runs=Po;ui.RunsPage=Ef;ui.Messages=vf;ui.MessagesPage=Cf;class ci extends H{constructor(){super(...arguments),this.realtime=new $l(this._client),this.chat=new Qu(this._client),this.assistants=new gf(this._client),this.threads=new ui(this._client)}}ci.Realtime=$l;ci.Assistants=gf;ci.AssistantsPage=yf;ci.Threads=ui;class _w extends H{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class Sw extends H{retrieve(t,n,r){return this._client.get(`/containers/${t}/files/${n}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}}let zl=class extends H{constructor(){super(...arguments),this.content=new Sw(this._client)}create(t,n,r){return this._client.post(`/containers/${t}/files`,pr({body:n,...r}))}retrieve(t,n,r){return this._client.get(`/containers/${t}/files/${n}`,r)}list(t,n={},r){return ke(n)?this.list(t,{},n):this._client.getAPIList(`/containers/${t}/files`,kf,{query:n,...r})}del(t,n,r){return this._client.delete(`/containers/${t}/files/${n}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class kf extends Oe{}zl.FileListResponsesPage=kf;zl.Content=Sw;class Ao extends H{constructor(){super(...arguments),this.files=new zl(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(`/containers/${t}`,n)}list(t={},n){return ke(t)?this.list({},t):this._client.getAPIList("/containers",Tf,{query:t,...n})}del(t,n){return this._client.delete(`/containers/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class Tf extends Oe{}Ao.ContainerListResponsesPage=Tf;Ao.Files=zl;Ao.FileListResponsesPage=kf;class Ew extends H{create(t,n){const r=!!t.encoding_format;let i=r?t.encoding_format:"base64";r&&Bn("Request","User defined encoding_format:",t.encoding_format);const o=this._client.post("/embeddings",{body:{...t,encoding_format:i},...n});return r?o:(Bn("response","Decoding base64 embeddings to float32 array"),o._thenUnwrap(s=>(s&&s.data&&s.data.forEach(l=>{const a=l.embedding;l.embedding=Tk(a)}),s)))}}class If extends H{retrieve(t,n,r,i){return this._client.get(`/evals/${t}/runs/${n}/output_items/${r}`,i)}list(t,n,r={},i){return ke(r)?this.list(t,n,{},r):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,Pf,{query:r,...i})}}class Pf extends Oe{}If.OutputItemListResponsesPage=Pf;class No extends H{constructor(){super(...arguments),this.outputItems=new If(this._client)}create(t,n,r){return this._client.post(`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){return this._client.get(`/evals/${t}/runs/${n}`,r)}list(t,n={},r){return ke(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,Af,{query:n,...r})}del(t,n,r){return this._client.delete(`/evals/${t}/runs/${n}`,r)}cancel(t,n,r){return this._client.post(`/evals/${t}/runs/${n}`,r)}}class Af extends Oe{}No.RunListResponsesPage=Af;No.OutputItems=If;No.OutputItemListResponsesPage=Pf;class Ro extends H{constructor(){super(...arguments),this.runs=new No(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,r){return this._client.post(`/evals/${t}`,{body:n,...r})}list(t={},n){return ke(t)?this.list({},t):this._client.getAPIList("/evals",Nf,{query:t,...n})}del(t,n){return this._client.delete(`/evals/${t}`,n)}}class Nf extends Oe{}Ro.EvalListResponsesPage=Nf;Ro.Runs=No;Ro.RunListResponsesPage=Af;let Rf=class extends H{create(t,n){return this._client.post("/files",pr({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return ke(t)?this.list({},t):this._client.getAPIList("/files",Mf,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),o=Date.now();let s=await this.retrieve(t);for(;!s.status||!i.has(s.status);)if(await ko(n),s=await this.retrieve(t),Date.now()-o>r)throw new df({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return s}};class Mf extends Oe{}Rf.FileObjectsPage=Mf;class kw extends H{}let Tw=class extends H{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class bf extends H{constructor(){super(...arguments),this.graders=new Tw(this._client)}}bf.Graders=Tw;class Lf extends H{create(t,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,Of,{body:n,method:"post",...r})}retrieve(t,n={},r){return ke(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}del(t,n,r){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,r)}}class Of extends Ll{}Lf.PermissionCreateResponsesPage=Of;let Bl=class extends H{constructor(){super(...arguments),this.permissions=new Lf(this._client)}};Bl.Permissions=Lf;Bl.PermissionCreateResponsesPage=Of;class Df extends H{list(t,n={},r){return ke(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,Ff,{query:n,...r})}}class Ff extends Oe{}Df.FineTuningJobCheckpointsPage=Ff;class fi extends H{constructor(){super(...arguments),this.checkpoints=new Df(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return ke(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",$f,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return ke(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,zf,{query:n,...r})}pause(t,n){return this._client.post(`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(`/fine_tuning/jobs/${t}/resume`,n)}}class $f extends Oe{}class zf extends Oe{}fi.FineTuningJobsPage=$f;fi.FineTuningJobEventsPage=zf;fi.Checkpoints=Df;fi.FineTuningJobCheckpointsPage=Ff;class qn extends H{constructor(){super(...arguments),this.methods=new kw(this._client),this.jobs=new fi(this._client),this.checkpoints=new Bl(this._client),this.alpha=new bf(this._client)}}qn.Methods=kw;qn.Jobs=fi;qn.FineTuningJobsPage=$f;qn.FineTuningJobEventsPage=zf;qn.Checkpoints=Bl;qn.Alpha=bf;class Iw extends H{}class Bf extends H{constructor(){super(...arguments),this.graderModels=new Iw(this._client)}}Bf.GraderModels=Iw;class Pw extends H{createVariation(t,n){return this._client.post("/images/variations",pr({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",pr({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class Uf extends H{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Vf,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class Vf extends Ll{}Uf.ModelsPage=Vf;class Aw extends H{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function zk(e,t){return!t||!Uk(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:Nw(e,t)}function Nw(e,t){const n=e.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:jk(t,i)};if(i.type==="message"){const o=i.content.map(s=>s.type==="output_text"?{...s,parsed:Bk(t,s.text)}:s);return{...i,content:o}}return i}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Rw(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const o of i.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),r}function Bk(e,t){var n,r,i,o;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=e.text)==null?void 0:i.format)?((o=e.text)==null?void 0:o.format).$parseRaw(t):JSON.parse(t)}function Uk(e){var t;return!!wf((t=e.text)==null?void 0:t.format)}function Vk(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Hk(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function jk(e,t){const n=Hk(e.tools??[],t.name);return{...t,...t,parsed_arguments:Vk(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function Rw(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}class Mw extends H{list(t,n={},r){return ke(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,Wk,{query:n,...r})}}var Sr=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Sn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Er,os,En,ss,Vh,Hh,jh,Gh;class Hf extends mf{constructor(t){super(),Er.add(this),os.set(this,void 0),En.set(this,void 0),ss.set(this,void 0),Sr(this,os,t,"f")}static createResponse(t,n,r){const i=new Hf(n);return i._run(()=>i._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(t,n,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Sn(this,Er,"m",Vh).call(this);let o,s=null;"response_id"in n?(o=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),s=n.starting_after??null):o=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const a of o)Sn(this,Er,"m",Hh).call(this,a,s);if((l=o.controller.signal)!=null&&l.aborted)throw new Mt;return Sn(this,Er,"m",jh).call(this)}[(os=new WeakMap,En=new WeakMap,ss=new WeakMap,Er=new WeakSet,Vh=function(){this.ended||Sr(this,En,void 0,"f")},Hh=function(n,r){if(this.ended)return;const i=(s,l)=>{(r==null||l.sequence_number>r)&&this._emit(s,l)},o=Sn(this,Er,"m",Gh).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const s=o.output[n.output_index];if(!s)throw new V(`missing output at index ${n.output_index}`);if(s.type==="message"){const l=s.content[n.content_index];if(!l)throw new V(`missing content at index ${n.content_index}`);if(l.type!=="output_text")throw new V(`expected content to be 'output_text', got ${l.type}`);i("response.output_text.delta",{...n,snapshot:l.text})}break}case"response.function_call_arguments.delta":{const s=o.output[n.output_index];if(!s)throw new V(`missing output at index ${n.output_index}`);s.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:s.arguments});break}default:i(n.type,n);break}},jh=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=Sn(this,En,"f");if(!n)throw new V("request ended without sending any events");Sr(this,En,void 0,"f");const r=Gk(n,Sn(this,os,"f"));return Sr(this,ss,r,"f"),r},Gh=function(n){let r=Sn(this,En,"f");if(!r){if(n.type!=="response.created")throw new V(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Sr(this,En,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);i.type==="message"&&i.content.push(n.part);break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);if(i.type==="message"){const o=i.content[n.content_index];if(!o)throw new V(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new V(`expected content to be 'output_text', got ${o.type}`);o.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.completed":{Sr(this,En,n.response,"f");break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const o=n.shift();o?o.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,s)=>n.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=Sn(this,ss,"f");if(!t)throw new V("stream ended without producing a ChatCompletion");return t}}function Gk(e,t){return zk(e,t)}class jf extends H{constructor(){super(...arguments),this.inputItems=new Mw(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Rw(r),r))}retrieve(t,n={},r){return this._client.get(`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>Nw(r,t))}stream(t,n){return Hf.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(`/responses/${t}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class Wk extends Oe{}jf.InputItems=Mw;class bw extends H{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,pr({body:n,...r}))}}class Gf extends H{constructor(){super(...arguments),this.parts=new bw(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}Gf.Parts=bw;const qk=async e=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of t)i.status==="fulfilled"&&r.push(i.value);return r};class Ul extends H{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return ke(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,Vl,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const o=await this.retrieve(t,n,{...r,headers:i}).withResponse(),s=o.data;switch(s.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.response.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await ko(l);break;case"failed":case"completed":return s}}}async upload(t,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:i.id},r)}async uploadAndPoll(t,n,r){const i=await this.upload(t,n,r);return await this.poll(t,i.id,r)}content(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,Wf,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Vl extends Oe{}class Wf extends Ll{}Ul.VectorStoreFilesPage=Vl;Ul.FileContentResponsesPage=Wf;class Lw extends H{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n);return await this.poll(t,i.id,r)}listFiles(t,n,r={},i){return ke(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,Vl,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:o,response:s}=await this.retrieve(t,n,{...r,headers:i}).withResponse();switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=s.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await ko(l);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(i==null?void 0:i.maxConcurrency)??5,s=Math.min(o,n.length),l=this._client,a=n.values(),u=[...r];async function c(m){for(let h of m){const w=await l.files.create({file:h,purpose:"assistants"},i);u.push(w.id)}}const f=Array(s).fill(a).map(c);return await qk(f),await this.createAndPoll(t,{file_ids:u})}}class Kn extends H{constructor(){super(...arguments),this.files=new Ul(this._client),this.fileBatches=new Lw(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ke(t)?this.list({},t):this._client.getAPIList("/vector_stores",qf,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/search`,Kf,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class qf extends Oe{}class Kf extends Ll{}Kn.VectorStoresPage=qf;Kn.VectorStoreSearchResponsesPage=Kf;Kn.Files=Ul;Kn.VectorStoreFilesPage=Vl;Kn.FileContentResponsesPage=Wf;Kn.FileBatches=Lw;var Ow;class G extends hk{constructor({baseURL:t=es("OPENAI_BASE_URL"),apiKey:n=es("OPENAI_API_KEY"),organization:r=es("OPENAI_ORG_ID")??null,project:i=es("OPENAI_PROJECT_ID")??null,...o}={}){if(n===void 0)throw new V("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const s={apiKey:n,organization:r,project:i,...o,baseURL:t||"https://api.openai.com/v1"};if(!s.dangerouslyAllowBrowser&&Ek())throw new V(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:s.baseURL,timeout:s.timeout??6e5,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new _w(this),this.chat=new Fl(this),this.embeddings=new Ew(this),this.files=new Rf(this),this.images=new Pw(this),this.audio=new To(this),this.moderations=new Aw(this),this.models=new Uf(this),this.fineTuning=new qn(this),this.graders=new Bf(this),this.vectorStores=new Kn(this),this.beta=new ci(this),this.batches=new pf(this),this.uploads=new Gf(this),this.responses=new jf(this),this.evals=new Ro(this),this.containers=new Ao(this),this._options=s,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return JE(t,{arrayFormat:"brackets"})}}Ow=G;G.OpenAI=Ow;G.DEFAULT_TIMEOUT=6e5;G.OpenAIError=V;G.APIError=je;G.APIConnectionError=Nl;G.APIConnectionTimeoutError=df;G.APIUserAbortError=Mt;G.NotFoundError=b0;G.ConflictError=L0;G.RateLimitError=D0;G.BadRequestError=N0;G.AuthenticationError=R0;G.InternalServerError=F0;G.PermissionDeniedError=M0;G.UnprocessableEntityError=O0;G.toFile=H0;G.fileFromPath=I0;G.Completions=_w;G.Chat=Fl;G.ChatCompletionsPage=Dl;G.Embeddings=Ew;G.Files=Rf;G.FileObjectsPage=Mf;G.Images=Pw;G.Audio=To;G.Moderations=Aw;G.Models=Uf;G.ModelsPage=Vf;G.FineTuning=qn;G.Graders=Bf;G.VectorStores=Kn;G.VectorStoresPage=qf;G.VectorStoreSearchResponsesPage=Kf;G.Beta=ci;G.Batches=pf;G.BatchesPage=hf;G.Uploads=Gf;G.Responses=jf;G.Evals=Ro;G.EvalListResponsesPage=Nf;G.Containers=Ao;G.ContainerListResponsesPage=Tf;const Wh=`You should always follow the instructions and output a valid JSON object.
The structure of the JSON object you can found in the instructions.

And you should always end the block with a "\`\`\`" to indicate the end of the JSON object.

IMPORTANT: You must output exactly one top-level JSON object inside a single fenced code block that starts with \`\`\`json and ends with \`\`\`.
IMPORTANT: You must only output one such fenced code block per response, without any additional code blocks or text outside it.
IMPORTANT: You must only output one such fenced code block per response, without any additional code blocks or text outside it.
IMPORTANT: You must only output one such fenced code block per response, without any additional code blocks or text outside it.

<instructions>
`,qh=`Output:
</instructions>

`;function Kk(e){if(!e||e.trim().length===0)throw new Error("Empty response from AI");const t=/```(?:json\s+)?([\s\S]*?)```/,n=e.match(t);if(n&&n[1]){const l=n[1].trim();if(l.startsWith("{")||l.startsWith("["))return l}const r=e.trim();if(r.startsWith("{")||r.startsWith("["))return r;const i=r.indexOf("{"),o=r.indexOf("[");let s=-1;if(i!==-1&&o!==-1?s=Math.min(i,o):i!==-1?s=i:o!==-1&&(s=o),s!==-1){let l=0,a=0,u=!1,c=!1;for(let f=s;f<r.length;f++){const m=r[f];if(c){c=!1;continue}if(m==="\\"){c=!0;continue}if(m==='"'){u=!u;continue}if(!u&&(m==="{"&&l++,m==="}"&&l--,m==="["&&a++,m==="]"&&a--,l===0&&a===0&&f>s))return r.substring(s,f+1)}return r.substring(s)}throw new Error(`Could not extract valid JSON from response. Response preview: ${e.substring(0,200)}...`)}function Yk(e){try{return JSON.parse(e)}catch(t){let n=e.replace(/^\uFEFF/,"").replace(/,(\s*[}\]])/g,"$1").replace(/'/g,'"').replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/.*/g,"").replace(/([{,]\s*)([a-zA-Z_][a-zA-Z0-9_]*)(\s*:)/g,'$1"$2"$3');try{return JSON.parse(n)}catch(r){throw new Error(`Failed to parse JSON even after repair attempts. Original error: ${t}. Repaired error: ${r}`)}}}function Jk(e){const t=Kk(e);return Yk(t)}function Dw(e){var t,n;if(e.provider==="openai"){if(!((t=e.openai)!=null&&t.apiKey))throw new Error("OpenAI API Key is missing in settings.")}else if(e.provider==="gemini"&&!((n=e.gemini)!=null&&n.apiKey))throw new Error("Gemini API Key is missing (process.env.API_KEY).")}function Fw(e,t=0){var r,i;const n="  ".repeat(t);if(e.type===ce.OBJECT&&e.properties){let o=`{
`;for(const[s,l]of Object.entries(e.properties)){const a=l,u=(r=e.required)!=null&&r.includes(s)?" (required)":" (optional)",c=a.enum?` Enum: ${a.enum.join(", ")}`:"";o+=`${n}  "${s}": ${a.type}${u}${c},
`}return o+=`${n}}`,o}return e.type===ce.ARRAY&&e.items?`[
${Fw(e.items,t+1)}
${n}]`:((i=e.type)==null?void 0:i.toLowerCase())||"object"}const fl=async(e,t)=>{var n;if(Dw(e),e.provider==="gemini"){const r=((n=e.gemini)==null?void 0:n.apiKey)||void 0,i=new w0({apiKey:r}),o={systemInstruction:t.systemInstruction};t.jsonMode&&(o.responseMimeType="application/json",t.jsonSchema&&(o.responseSchema=t.jsonSchema));try{return(await i.models.generateContent({model:"gemini-3-flash-preview",contents:t.prompt,config:o})).text||""}catch(s){throw console.error("Gemini Error:",s),new Error(`Gemini Error: ${s.message}`)}}if(e.provider==="openai"&&e.openai){const r=new G({apiKey:e.openai.apiKey,baseURL:e.openai.baseUrl||"https://api.openai.com/v1",dangerouslyAllowBrowser:!0}),i=t.jsonMode&&t.jsonSchema?`

Expected JSON Schema Structure:
${Fw(t.jsonSchema)}

Strictly follow the structure above.`:t.jsonMode?`

Output must be a valid JSON object.`:"",o=t.jsonMode?t.systemInstruction?`${Wh}${t.systemInstruction}${i}
</instructions>
${qh}`:`${Wh}${i}
</instructions>
${qh}`:t.systemInstruction,s=[];o&&s.push({role:"system",content:o}),s.push({role:"user",content:t.prompt});try{const l={messages:s,model:e.openai.model},a=await r.chat.completions.create(l);if(t.jsonMode){const u=Jk(a.choices[0].message.content||"");return console.log("JSON parsed successfully",u),JSON.stringify(u)}else return a.choices[0].message.content||""}catch(l){throw console.error("OpenAI Error:",l),new Error(`OpenAI Error: ${l.message}`)}}throw new Error("Invalid Provider Configuration")};async function*Xk(e,t){var n,r,i;if(Dw(e),e.provider==="gemini"){const o=((n=e.gemini)==null?void 0:n.apiKey)||void 0,l=await new w0({apiKey:o}).models.generateContentStream({model:"gemini-3-flash-preview",contents:t.prompt,config:{systemInstruction:t.systemInstruction}});for await(const a of l)a.text&&(yield a.text);return}if(e.provider==="openai"&&e.openai){const o=new G({apiKey:e.openai.apiKey,baseURL:e.openai.baseUrl||"https://api.openai.com/v1",dangerouslyAllowBrowser:!0}),s=[];t.systemInstruction&&s.push({role:"system",content:t.systemInstruction}),s.push({role:"user",content:t.prompt});const l=await o.chat.completions.create({model:e.openai.model,messages:s,stream:!0});for await(const a of l){const u=(i=(r=a.choices[0])==null?void 0:r.delta)==null?void 0:i.content;u&&(yield u)}return}}const Qk=1e3,$w=`
You are an expert Visual Designer.
Your task is to analyze the "Style Request" and "Content Sample" to generate a JSON "Design System" (CSS classes).

Rules:
1. Return strictly a JSON object matching the 'DocumentDesign' schema.
2. Use valid Tailwind CSS v3 utility classes.
3. **Visual Style**:
   - **WeChat/Social**: Decorative H2s (pills, borders), relaxed leading.
   - **Tech**: Dark/Gradient themes, mono fonts.
   - **Classic**: Serif fonts, paper textures.
4. **H2 Styling**: Be creative (gradients, capsules, borders) as this is the main visual anchor.
`,Zk=`
You are a Senior Content Editor.
Your task is to ENHANCE the input text segment to match a specific style (e.g., WeChat Official Account, Tech Blog).

Rules:
1. **Output strictly Markdown**. No JSON. No wrapping text like "Here is the rewritten text".
2. **Formatting**:
   - Auto-generate **H2 (##)** titles if the text lacks structure.
   - Add **relevant Emojis** to headers (e.g., "##  Title").
   - Use **bolding** for key phrases.
   - Ensure paragraphs are readable (short & punchy).
3. **Context Awareness**:
   - This is part of a larger document.
   - If 'Previous Context' is provided, ensure flow continuity.
   - Do NOT add a document main H1 title unless it is the very first segment.
`,zw={id:{type:ce.STRING},themeName:{type:ce.STRING},layoutType:{type:ce.STRING,enum:["card","flat","multi-card"]},pageBackground:{type:ce.STRING},containerBackground:{type:ce.STRING},containerShadow:{type:ce.STRING},containerMaxWidth:{type:ce.STRING},containerPadding:{type:ce.STRING},containerBorderRadius:{type:ce.STRING},fontFamily:{type:ce.STRING},baseFontSize:{type:ce.STRING},lineHeight:{type:ce.STRING},textColor:{type:ce.STRING},titleSize:{type:ce.STRING},heading1:{type:ce.STRING},heading2:{type:ce.STRING},paragraph:{type:ce.STRING},blockquote:{type:ce.STRING},highlightColor:{type:ce.STRING},dividerStyle:{type:ce.STRING}},eT={type:ce.OBJECT,properties:zw,required:["themeName","layoutType","pageBackground","containerBackground","containerShadow","containerPadding","heading1","heading2","paragraph","blockquote","textColor","fontFamily","baseFontSize","highlightColor"]},tT={type:ce.ARRAY,items:{type:ce.OBJECT,properties:zw,required:["themeName","layoutType","pageBackground","containerBackground","heading2","textColor"]}};function nT(e,t){const n=e.split(`
`),r=[];let i="";for(const o of n)i.length+o.length>t&&i.length>0&&(r.push(i),i=""),i+=o+`
`;return i.trim().length>0&&r.push(i),r}const rT=async(e,t,n="auto")=>{const r=`
    Create 2 DISTINCT design variations based on this request: "${t}".
    One should be closer to the literal request, the other should be a creative interpretation.
    Layout Preference: ${n}.
    Ensure both have different 'themeName', colors, and 'heading2' styles.
  `;try{console.log("generateContent called with prompt:",r);const i=await fl(e,{prompt:r,systemInstruction:$w,jsonMode:!0,jsonSchema:tT});let o=[];try{const s=JSON.parse(i);Array.isArray(s)?o=s:s.items&&Array.isArray(s.items)?o=s.items:s.designs&&Array.isArray(s.designs)?o=s.designs:o=[s]}catch{throw new Error("Failed to parse design JSON response")}return o.map((s,l)=>({...s,id:`gen-${Date.now()}-${l}`}))}catch(i){throw console.error("Design Variation Error",i),i}},iT=async(e,t,n,r="auto",i,o)=>{let s;if(o&&o.id!=="default")s=o,i&&i("design",s);else{const c=n.slice(0,800),f=`
        STYLE REQUEST: ${t}
        LAYOUT PREFERENCE: ${r}
        CONTENT SAMPLE: ${c}
      `;try{const m=await fl(e,{prompt:f,systemInstruction:$w,jsonMode:!0,jsonSchema:eT});s=JSON.parse(m),s.id=`gen-single-${Date.now()}`,i&&i("design",s)}catch(m){throw console.error("Design Generation Error",m),new Error("Design generation failed.")}}const l=nT(n,Qk);let a="",u="";for(let c=0;c<l.length;c++){const f=l[c],m=c===0,h=`
      STYLE REQUEST: ${t}
      PREVIOUS CONTEXT (End of last segment): "${u.slice(-300)}"
      IS START OF DOCUMENT: ${m}
      
      TEXT SEGMENT TO REWRITE:
      ${f}
    `;try{const x=await fl(e,{prompt:h,systemInstruction:Zk,jsonMode:!1})||f;a+=x+`

`,u=x,i&&i("content",a)}catch(w){console.error(`Chunk ${c} processing error`,w),a+=f+`

`,i&&i("content",a)}}return{design:s,content:a}},Bw=se.createContext(void 0),Yf=()=>{const e=se.useContext(Bw);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},oT=({children:e})=>{const[t,n]=se.useState([]),r=se.useCallback((o,s="info")=>{const l=Date.now().toString()+Math.random().toString();n(a=>[...a,{id:l,message:o,type:s}])},[]),i=se.useCallback(o=>{n(s=>s.filter(l=>l.id!==o))},[]);return _.jsxs(Bw.Provider,{value:{addToast:r},children:[e,_.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none",children:t.map(o=>_.jsx(sT,{toast:o,onRemove:i},o.id))})]})},sT=({toast:e,onRemove:t})=>{const[n,r]=se.useState(!1);se.useEffect(()=>{requestAnimationFrame(()=>r(!0));const l=setTimeout(()=>{r(!1),setTimeout(()=>t(e.id),300)},4e3);return()=>clearTimeout(l)},[e.id,t]);const i=()=>{r(!1),setTimeout(()=>t(e.id),300)},o={success:"border-emerald-500 bg-white text-emerald-900",error:"border-red-500 bg-white text-red-900",info:"border-indigo-500 bg-white text-indigo-900",warning:"border-amber-500 bg-white text-amber-900"},s={success:_.jsx(S1,{className:"w-5 h-5 text-emerald-500"}),error:_.jsx(e0,{className:"w-5 h-5 text-red-500"}),info:_.jsx(P1,{className:"w-5 h-5 text-indigo-500"}),warning:_.jsx(F1,{className:"w-5 h-5 text-amber-500"})};return _.jsxs("div",{className:`
        pointer-events-auto
        flex items-start gap-3 p-4 rounded-xl shadow-2xl border-l-4 min-w-[320px] max-w-[400px]
        transform transition-all duration-300 ease-out
        ${o[e.type]}
        ${n?"translate-x-0 opacity-100":"translate-x-12 opacity-0"}
      `,children:[_.jsx("div",{className:"shrink-0 mt-0.5",children:s[e.type]}),_.jsx("p",{className:"flex-1 text-sm font-medium leading-relaxed font-sans",children:e.message}),_.jsx("button",{onClick:i,className:"shrink-0 text-slate-400 hover:text-slate-600 transition-colors -mr-1 -mt-1 p-1 rounded-full hover:bg-slate-100",children:_.jsx(af,{className:"w-4 h-4"})})]})},lT=({content:e,onChange:t,placeholder:n})=>_.jsx("textarea",{value:e,onChange:r=>t(r.target.value),className:"w-full h-full p-6 resize-none outline-none text-sm leading-relaxed text-slate-700 font-mono bg-transparent",placeholder:n||"# Enter your content here..."});function aT(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const uT=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cT=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fT={};function Kh(e,t){return(fT.jsx?cT:uT).test(e)}const dT=/[ \t\n\f\r]/g;function pT(e){return typeof e=="object"?e.type==="text"?Yh(e.value):!1:Yh(e)}function Yh(e){return e.replace(dT,"")===""}class Mo{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Mo.prototype.normal={};Mo.prototype.property={};Mo.prototype.space=void 0;function Uw(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Mo(n,r,t)}function Zu(e){return e.toLowerCase()}class ft{constructor(t,n){this.attribute=n,this.property=t}}ft.prototype.attribute="";ft.prototype.booleanish=!1;ft.prototype.boolean=!1;ft.prototype.commaOrSpaceSeparated=!1;ft.prototype.commaSeparated=!1;ft.prototype.defined=!1;ft.prototype.mustUseProperty=!1;ft.prototype.number=!1;ft.prototype.overloadedBoolean=!1;ft.prototype.property="";ft.prototype.spaceSeparated=!1;ft.prototype.space=void 0;let hT=0;const Y=yr(),Ae=yr(),ec=yr(),L=yr(),fe=yr(),Xr=yr(),gt=yr();function yr(){return 2**++hT}const tc=Object.freeze(Object.defineProperty({__proto__:null,boolean:Y,booleanish:Ae,commaOrSpaceSeparated:gt,commaSeparated:Xr,number:L,overloadedBoolean:ec,spaceSeparated:fe},Symbol.toStringTag,{value:"Module"})),La=Object.keys(tc);class Jf extends ft{constructor(t,n,r,i){let o=-1;if(super(t,n),Jh(this,"space",i),typeof r=="number")for(;++o<La.length;){const s=La[o];Jh(this,La[o],(r&tc[s])===tc[s])}}}Jf.prototype.defined=!0;function Jh(e,t,n){n&&(e[t]=n)}function di(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Jf(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Zu(r)]=r,n[Zu(o.attribute)]=r}return new Mo(t,n,e.space)}const Vw=di({properties:{ariaActiveDescendant:null,ariaAtomic:Ae,ariaAutoComplete:null,ariaBusy:Ae,ariaChecked:Ae,ariaColCount:L,ariaColIndex:L,ariaColSpan:L,ariaControls:fe,ariaCurrent:null,ariaDescribedBy:fe,ariaDetails:null,ariaDisabled:Ae,ariaDropEffect:fe,ariaErrorMessage:null,ariaExpanded:Ae,ariaFlowTo:fe,ariaGrabbed:Ae,ariaHasPopup:null,ariaHidden:Ae,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:fe,ariaLevel:L,ariaLive:null,ariaModal:Ae,ariaMultiLine:Ae,ariaMultiSelectable:Ae,ariaOrientation:null,ariaOwns:fe,ariaPlaceholder:null,ariaPosInSet:L,ariaPressed:Ae,ariaReadOnly:Ae,ariaRelevant:null,ariaRequired:Ae,ariaRoleDescription:fe,ariaRowCount:L,ariaRowIndex:L,ariaRowSpan:L,ariaSelected:Ae,ariaSetSize:L,ariaSort:null,ariaValueMax:L,ariaValueMin:L,ariaValueNow:L,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Hw(e,t){return t in e?e[t]:t}function jw(e,t){return Hw(e,t.toLowerCase())}const mT=di({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Xr,acceptCharset:fe,accessKey:fe,action:null,allow:null,allowFullScreen:Y,allowPaymentRequest:Y,allowUserMedia:Y,alt:null,as:null,async:Y,autoCapitalize:null,autoComplete:fe,autoFocus:Y,autoPlay:Y,blocking:fe,capture:null,charSet:null,checked:Y,cite:null,className:fe,cols:L,colSpan:null,content:null,contentEditable:Ae,controls:Y,controlsList:fe,coords:L|Xr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Y,defer:Y,dir:null,dirName:null,disabled:Y,download:ec,draggable:Ae,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Y,formTarget:null,headers:fe,height:L,hidden:ec,high:L,href:null,hrefLang:null,htmlFor:fe,httpEquiv:fe,id:null,imageSizes:null,imageSrcSet:null,inert:Y,inputMode:null,integrity:null,is:null,isMap:Y,itemId:null,itemProp:fe,itemRef:fe,itemScope:Y,itemType:fe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Y,low:L,manifest:null,max:null,maxLength:L,media:null,method:null,min:null,minLength:L,multiple:Y,muted:Y,name:null,nonce:null,noModule:Y,noValidate:Y,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Y,optimum:L,pattern:null,ping:fe,placeholder:null,playsInline:Y,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Y,referrerPolicy:null,rel:fe,required:Y,reversed:Y,rows:L,rowSpan:L,sandbox:fe,scope:null,scoped:Y,seamless:Y,selected:Y,shadowRootClonable:Y,shadowRootDelegatesFocus:Y,shadowRootMode:null,shape:null,size:L,sizes:null,slot:null,span:L,spellCheck:Ae,src:null,srcDoc:null,srcLang:null,srcSet:null,start:L,step:null,style:null,tabIndex:L,target:null,title:null,translate:null,type:null,typeMustMatch:Y,useMap:null,value:Ae,width:L,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:fe,axis:null,background:null,bgColor:null,border:L,borderColor:null,bottomMargin:L,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Y,declare:Y,event:null,face:null,frame:null,frameBorder:null,hSpace:L,leftMargin:L,link:null,longDesc:null,lowSrc:null,marginHeight:L,marginWidth:L,noResize:Y,noHref:Y,noShade:Y,noWrap:Y,object:null,profile:null,prompt:null,rev:null,rightMargin:L,rules:null,scheme:null,scrolling:Ae,standby:null,summary:null,text:null,topMargin:L,valueType:null,version:null,vAlign:null,vLink:null,vSpace:L,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Y,disableRemotePlayback:Y,prefix:null,property:null,results:L,security:null,unselectable:null},space:"html",transform:jw}),gT=di({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:gt,accentHeight:L,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:L,amplitude:L,arabicForm:null,ascent:L,attributeName:null,attributeType:null,azimuth:L,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:L,by:null,calcMode:null,capHeight:L,className:fe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:L,diffuseConstant:L,direction:null,display:null,dur:null,divisor:L,dominantBaseline:null,download:Y,dx:null,dy:null,edgeMode:null,editable:null,elevation:L,enableBackground:null,end:null,event:null,exponent:L,externalResourcesRequired:null,fill:null,fillOpacity:L,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Xr,g2:Xr,glyphName:Xr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:L,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:L,horizOriginX:L,horizOriginY:L,id:null,ideographic:L,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:L,k:L,k1:L,k2:L,k3:L,k4:L,kernelMatrix:gt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:L,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:L,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:L,overlineThickness:L,paintOrder:null,panose1:null,path:null,pathLength:L,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:fe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:L,pointsAtY:L,pointsAtZ:L,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gt,rev:gt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gt,requiredFeatures:gt,requiredFonts:gt,requiredFormats:gt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:L,specularExponent:L,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:L,strikethroughThickness:L,string:null,stroke:null,strokeDashArray:gt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:L,strokeOpacity:L,strokeWidth:null,style:null,surfaceScale:L,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gt,tabIndex:L,tableValues:null,target:null,targetX:L,targetY:L,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:L,underlineThickness:L,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:L,values:null,vAlphabetic:L,vMathematical:L,vectorEffect:null,vHanging:L,vIdeographic:L,version:null,vertAdvY:L,vertOriginX:L,vertOriginY:L,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:L,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Hw}),Gw=di({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Ww=di({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jw}),qw=di({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),yT={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},wT=/[A-Z]/g,Xh=/-[a-z]/g,xT=/^data[-\w.:]+$/i;function vT(e,t){const n=Zu(t);let r=t,i=ft;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&xT.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Xh,_T);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Xh.test(o)){let s=o.replace(wT,CT);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=Jf}return new i(r,t)}function CT(e){return"-"+e.toLowerCase()}function _T(e){return e.charAt(1).toUpperCase()}const ST=Uw([Vw,mT,Gw,Ww,qw],"html"),Xf=Uw([Vw,gT,Gw,Ww,qw],"svg");function ET(e){return e.join(" ").trim()}var Qf={},Qh=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,kT=/\n/g,TT=/^\s*/,IT=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,PT=/^:\s*/,AT=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,NT=/^[;\s]*/,RT=/^\s+|\s+$/g,MT=`
`,Zh="/",em="*",tr="",bT="comment",LT="declaration";function OT(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(w){var x=w.match(kT);x&&(n+=x.length);var S=w.lastIndexOf(MT);r=~S?w.length-S:r+w.length}function o(){var w={line:n,column:r};return function(x){return x.position=new s(w),u(),x}}function s(w){this.start=w,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function l(w){var x=new Error(t.source+":"+n+":"+r+": "+w);if(x.reason=w,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function a(w){var x=w.exec(e);if(x){var S=x[0];return i(S),e=e.slice(S.length),x}}function u(){a(TT)}function c(w){var x;for(w=w||[];x=f();)x!==!1&&w.push(x);return w}function f(){var w=o();if(!(Zh!=e.charAt(0)||em!=e.charAt(1))){for(var x=2;tr!=e.charAt(x)&&(em!=e.charAt(x)||Zh!=e.charAt(x+1));)++x;if(x+=2,tr===e.charAt(x-1))return l("End of comment missing");var S=e.slice(2,x-2);return r+=2,i(S),e=e.slice(x),r+=2,w({type:bT,comment:S})}}function m(){var w=o(),x=a(IT);if(x){if(f(),!a(PT))return l("property missing ':'");var S=a(AT),y=w({type:LT,property:tm(x[0].replace(Qh,tr)),value:S?tm(S[0].replace(Qh,tr)):tr});return a(NT),y}}function h(){var w=[];c(w);for(var x;x=m();)x!==!1&&(w.push(x),c(w));return w}return u(),h()}function tm(e){return e?e.replace(RT,tr):tr}var DT=OT,FT=Ls&&Ls.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.default=zT;const $T=FT(DT);function zT(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,$T.default)(e),i=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:s,value:l}=o;i?t(s,l,o):l&&(n=n||{},n[s]=l)}),n}var Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});Hl.camelCase=void 0;var BT=/^--[a-zA-Z0-9_-]+$/,UT=/-([a-z])/g,VT=/^[^-]+$/,HT=/^-(webkit|moz|ms|o|khtml)-/,jT=/^-(ms)-/,GT=function(e){return!e||VT.test(e)||BT.test(e)},WT=function(e,t){return t.toUpperCase()},nm=function(e,t){return"".concat(t,"-")},qT=function(e,t){return t===void 0&&(t={}),GT(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(jT,nm):e=e.replace(HT,nm),e.replace(UT,WT))};Hl.camelCase=qT;var KT=Ls&&Ls.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},YT=KT(Qf),JT=Hl;function nc(e,t){var n={};return!e||typeof e!="string"||(0,YT.default)(e,function(r,i){r&&i&&(n[(0,JT.camelCase)(r,t)]=i)}),n}nc.default=nc;var XT=nc;const QT=fc(XT),Kw=Yw("end"),Zf=Yw("start");function Yw(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ZT(e){const t=Zf(e),n=Kw(e);if(t&&n)return{start:t,end:n}}function Ki(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?rm(e.position):"start"in e||"end"in e?rm(e):"line"in e||"column"in e?rc(e):""}function rc(e){return im(e&&e.line)+":"+im(e&&e.column)}function rm(e){return rc(e&&e.start)+"-"+rc(e&&e.end)}function im(e){return e&&typeof e=="number"?e:1}class Je extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Ki(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Je.prototype.file="";Je.prototype.name="";Je.prototype.reason="";Je.prototype.message="";Je.prototype.stack="";Je.prototype.column=void 0;Je.prototype.line=void 0;Je.prototype.ancestors=void 0;Je.prototype.cause=void 0;Je.prototype.fatal=void 0;Je.prototype.place=void 0;Je.prototype.ruleId=void 0;Je.prototype.source=void 0;const ed={}.hasOwnProperty,eI=new Map,tI=/[A-Z]/g,nI=new Set(["table","tbody","thead","tfoot","tr"]),rI=new Set(["td","th"]),Jw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function iI(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=dI(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=fI(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Xf:ST,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Xw(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Xw(e,t,n){if(t.type==="element")return oI(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return sI(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return aI(e,t,n);if(t.type==="mdxjsEsm")return lI(e,t);if(t.type==="root")return uI(e,t,n);if(t.type==="text")return cI(e,t)}function oI(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Xf,e.schema=i),e.ancestors.push(t);const o=Zw(e,t.tagName,!1),s=pI(e,t);let l=nd(e,t);return nI.has(t.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!pT(a):!0})),Qw(e,s,o,t),td(s,l),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function sI(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}wo(e,t.position)}function lI(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);wo(e,t.position)}function aI(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Xf,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:Zw(e,t.name,!0),s=hI(e,t),l=nd(e,t);return Qw(e,s,o,t),td(s,l),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function uI(e,t,n){const r={};return td(r,nd(e,t)),e.create(t,e.Fragment,r,n)}function cI(e,t){return t.value}function Qw(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function td(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function fI(e,t,n){return r;function r(i,o,s,l){const u=Array.isArray(s.children)?n:t;return l?u(o,s,l):u(o,s)}}function dI(e,t){return n;function n(r,i,o,s){const l=Array.isArray(o.children),a=Zf(r);return t(i,o,s,l,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function pI(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&ed.call(t.properties,i)){const o=mI(e,i,t.properties[i]);if(o){const[s,l]=o;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&rI.has(t.tagName)?r=l:n[s]=l}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function hI(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else wo(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,o=e.evaluater.evaluateExpression(l.expression)}else wo(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function nd(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:eI;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const u=i.get(a)||0;s=a+"-"+u,i.set(a,u+1)}}const l=Xw(e,o,s);l!==void 0&&n.push(l)}return n}function mI(e,t,n){const r=vT(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?aT(n):ET(n)),r.property==="style"){let i=typeof n=="object"?n:gI(e,String(n));return e.stylePropertyNameCase==="css"&&(i=yI(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?yT[r.property]||r.property:r.attribute,n]}}function gI(e,t){try{return QT(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Je("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Jw+"#cannot-parse-style-attribute",i}}function Zw(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const l=Kh(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=s}else r=Kh(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return ed.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);wo(e)}function wo(e,t){const n=new Je("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Jw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function yI(e){const t={};let n;for(n in e)ed.call(e,n)&&(t[wI(n)]=e[n]);return t}function wI(e){let t=e.replace(tI,xI);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function xI(e){return"-"+e.toLowerCase()}const Oa={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},vI={};function CI(e,t){const n=vI,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ex(e,r,i)}function ex(e,t,n){if(_I(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return om(e.children,t,n)}return Array.isArray(e)?om(e,t,n):""}function om(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=ex(e[i],t,n);return r.join("")}function _I(e){return!!(e&&typeof e=="object")}const sm=document.createElement("i");function rd(e){const t="&"+e+";";sm.innerHTML=t;const n=sm.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function on(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function At(e,t){return e.length>0?(on(e,e.length,0,t),e):t}const lm={}.hasOwnProperty;function SI(e){const t={};let n=-1;for(;++n<e.length;)EI(t,e[n]);return t}function EI(e,t){let n;for(n in t){const i=(lm.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){lm.call(i,s)||(i[s]=[]);const l=o[s];kI(i[s],Array.isArray(l)?l:l?[l]:[])}}}function kI(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);on(e,0,0,r)}function tx(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Qr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const en=Yn(/[A-Za-z]/),vt=Yn(/[\dA-Za-z]/),TI=Yn(/[#-'*+\--9=?A-Z^-~]/);function ic(e){return e!==null&&(e<32||e===127)}const oc=Yn(/\d/),II=Yn(/[\dA-Fa-f]/),PI=Yn(/[!-/:-@[-`{-~]/);function j(e){return e!==null&&e<-2}function ct(e){return e!==null&&(e<0||e===32)}function ie(e){return e===-2||e===-1||e===32}const AI=Yn(new RegExp("\\p{P}|\\p{S}","u")),NI=Yn(/\s/);function Yn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function pi(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&vt(e.charCodeAt(n+1))&&vt(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const l=e.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(s=String.fromCharCode(o,l),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function pe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(a){return ie(a)?(e.enter(n),l(a)):t(a)}function l(a){return ie(a)&&o++<i?(e.consume(a),l):(e.exit(n),t(a))}}const RI={tokenize:MI};function MI(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),pe(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),o(l)}function o(l){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return j(l)?(e.consume(l),e.exit("chunkText"),o):(e.consume(l),s)}}const bI={tokenize:LI},am={tokenize:OI};function LI(e){const t=this,n=[];let r=0,i,o,s;return l;function l(v){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,a,u)(v)}return u(v)}function a(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&g();const T=t.events.length;let I=T,k;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){k=t.events[I][1].end;break}y(r);let P=T;for(;P<t.events.length;)t.events[P][1].end={...k},P++;return on(t.events,I+1,0,t.events.slice(T)),t.events.length=P,u(v)}return l(v)}function u(v){if(r===n.length){if(!i)return m(v);if(i.currentConstruct&&i.currentConstruct.concrete)return w(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(am,c,f)(v)}function c(v){return i&&g(),y(r),m(v)}function f(v){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,w(v)}function m(v){return t.containerState={},e.attempt(am,h,w)(v)}function h(v){return r++,n.push([t.currentConstruct,t.containerState]),m(v)}function w(v){if(v===null){i&&g(),y(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),x(v)}function x(v){if(v===null){S(e.exit("chunkFlow"),!0),y(0),e.consume(v);return}return j(v)?(e.consume(v),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(v),x)}function S(v,T){const I=t.sliceStream(v);if(T&&I.push(null),v.previous=o,o&&(o.next=v),o=v,i.defineSkip(v.start),i.write(I),t.parser.lazy[v.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const P=t.events.length;let N=P,O,M;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(O){M=t.events[N][1].end;break}O=!0}for(y(r),k=P;k<t.events.length;)t.events[k][1].end={...M},k++;on(t.events,N+1,0,t.events.slice(P)),t.events.length=k}}function y(v){let T=n.length;for(;T-- >v;){const I=n[T];t.containerState=I[1],I[0].exit.call(t,e)}n.length=v}function g(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function OI(e,t,n){return pe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function um(e){if(e===null||ct(e)||NI(e))return 1;if(AI(e))return 2}function id(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const sc={name:"attention",resolveAll:DI,tokenize:FI};function DI(e,t){let n=-1,r,i,o,s,l,a,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},m={...e[n][1].start};cm(f,-a),cm(m,a),s={type:a>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},o={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},e[r][1].end={...s.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=At(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=At(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=At(u,id(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=At(u,[["exit",o,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=At(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,on(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function FI(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=um(r);let o;return s;function s(a){return o=a,e.enter("attentionSequence"),l(a)}function l(a){if(a===o)return e.consume(a),l;const u=e.exit("attentionSequence"),c=um(a),f=!c||c===2&&i||n.includes(a),m=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!m)),u._close=!!(o===42?m:m&&(c||!f)),t(a)}}function cm(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const $I={name:"autolink",tokenize:zI};function zI(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return en(h)?(e.consume(h),s):h===64?n(h):u(h)}function s(h){return h===43||h===45||h===46||vt(h)?(r=1,l(h)):u(h)}function l(h){return h===58?(e.consume(h),r=0,a):(h===43||h===45||h===46||vt(h))&&r++<32?(e.consume(h),l):(r=0,u(h))}function a(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||ic(h)?n(h):(e.consume(h),a)}function u(h){return h===64?(e.consume(h),c):TI(h)?(e.consume(h),u):n(h)}function c(h){return vt(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):m(h)}function m(h){if((h===45||vt(h))&&r++<63){const w=h===45?m:f;return e.consume(h),w}return n(h)}}const jl={partial:!0,tokenize:BI};function BI(e,t,n){return r;function r(o){return ie(o)?pe(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||j(o)?t(o):n(o)}}const nx={continuation:{tokenize:VI},exit:HI,name:"blockQuote",tokenize:UI};function UI(e,t,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return ie(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function VI(e,t,n){const r=this;return i;function i(s){return ie(s)?pe(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(nx,t,n)(s)}}function HI(e){e.exit("blockQuote")}const rx={name:"characterEscape",tokenize:jI};function jI(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return PI(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const ix={name:"characterReference",tokenize:GI};function GI(e,t,n){const r=this;let i=0,o,s;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),a}function a(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=vt,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=II,c):(e.enter("characterReferenceValue"),o=7,s=oc,c(f))}function c(f){if(f===59&&i){const m=e.exit("characterReferenceValue");return s===vt&&!rd(r.sliceSerialize(m))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<o?(e.consume(f),c):n(f)}}const fm={partial:!0,tokenize:qI},dm={concrete:!0,name:"codeFenced",tokenize:WI};function WI(e,t,n){const r=this,i={partial:!0,tokenize:I};let o=0,s=0,l;return a;function a(k){return u(k)}function u(k){const P=r.events[r.events.length-1];return o=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===l?(s++,e.consume(k),c):s<3?n(k):(e.exit("codeFencedFenceSequence"),ie(k)?pe(e,f,"whitespace")(k):f(k))}function f(k){return k===null||j(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(fm,x,T)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===null||j(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):ie(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),pe(e,h,"whitespace")(k)):k===96&&k===l?n(k):(e.consume(k),m)}function h(k){return k===null||j(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===null||j(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===l?n(k):(e.consume(k),w)}function x(k){return e.attempt(i,T,S)(k)}function S(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),y}function y(k){return o>0&&ie(k)?pe(e,g,"linePrefix",o+1)(k):g(k)}function g(k){return k===null||j(k)?e.check(fm,x,T)(k):(e.enter("codeFlowValue"),v(k))}function v(k){return k===null||j(k)?(e.exit("codeFlowValue"),g(k)):(e.consume(k),v)}function T(k){return e.exit("codeFenced"),t(k)}function I(k,P,N){let O=0;return M;function M(J){return k.enter("lineEnding"),k.consume(J),k.exit("lineEnding"),R}function R(J){return k.enter("codeFencedFence"),ie(J)?pe(k,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):$(J)}function $(J){return J===l?(k.enter("codeFencedFenceSequence"),W(J)):N(J)}function W(J){return J===l?(O++,k.consume(J),W):O>=s?(k.exit("codeFencedFenceSequence"),ie(J)?pe(k,ne,"whitespace")(J):ne(J)):N(J)}function ne(J){return J===null||j(J)?(k.exit("codeFencedFence"),P(J)):N(J)}}}function qI(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Da={name:"codeIndented",tokenize:YI},KI={partial:!0,tokenize:JI};function YI(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),pe(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?a(u):j(u)?e.attempt(KI,s,a)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||j(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),l)}function a(u){return e.exit("codeIndented"),t(u)}}function JI(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):j(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):pe(e,o,"linePrefix",5)(s)}function o(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):j(s)?i(s):n(s)}}const XI={name:"codeText",previous:ZI,resolve:QI,tokenize:eP};function QI(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function ZI(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function eP(e,t,n){let r=0,i,o;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),a(f))}function a(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),a):f===96?(o=e.enter("codeTextSequence"),i=0,c(f)):j(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||j(f)?(e.exit("codeTextData"),a(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}class tP{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ei(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ei(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ei(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ei(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ei(this.left,n.reverse())}}}function Ei(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ox(e){const t={};let n=-1,r,i,o,s,l,a,u;const c=new tP(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,nP(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},l=c.slice(i,n),l.unshift(r),c.splice(i,n-i+1,l))}}return on(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function nP(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,a=[],u={};let c,f,m=-1,h=n,w=0,x=0;const S=[x];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(x=m+1,S.push(x),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):S.pop(),m=S.length;m--;){const y=l.slice(S[m],S[m+1]),g=o.pop();a.push([g,g+y.length-1]),e.splice(g,2,y)}for(a.reverse(),m=-1;++m<a.length;)u[w+a[m][0]]=w+a[m][1],w+=a[m][1]-a[m][0]-1;return u}const rP={resolve:oP,tokenize:sP},iP={partial:!0,tokenize:lP};function oP(e){return ox(e),e}function sP(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):j(l)?e.check(iP,s,o)(l):(e.consume(l),i)}function o(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function s(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function lP(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),pe(e,o,"linePrefix")}function o(s){if(s===null||j(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function sx(e,t,n,r,i,o,s,l,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(y),e.exit(o),m):y===null||y===32||y===41||ic(y)?n(y):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),x(y))}function m(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(l),m(y)):y===null||y===60||j(y)?n(y):(e.consume(y),y===92?w:h)}function w(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function x(y){return!c&&(y===null||y===41||ct(y))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,x):y===41?(e.consume(y),c--,x):y===null||y===32||y===40||ic(y)?n(y):(e.consume(y),y===92?S:x)}function S(y){return y===40||y===41||y===92?(e.consume(y),x):x(y)}}function lx(e,t,n,r,i,o){const s=this;let l=0,a;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return l>999||h===null||h===91||h===93&&!a||h===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):j(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||j(h)||l++>999?(e.exit("chunkString"),c(h)):(e.consume(h),a||(a=!ie(h)),h===92?m:f)}function m(h){return h===91||h===92||h===93?(e.consume(h),l++,f):f(h)}}function ax(e,t,n,r,i,o){let s;return l;function l(m){return m===34||m===39||m===40?(e.enter(r),e.enter(i),e.consume(m),e.exit(i),s=m===40?41:m,a):n(m)}function a(m){return m===s?(e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):(e.enter(o),u(m))}function u(m){return m===s?(e.exit(o),a(s)):m===null?n(m):j(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),pe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(m))}function c(m){return m===s||m===null||j(m)?(e.exit("chunkString"),u(m)):(e.consume(m),m===92?f:c)}function f(m){return m===s||m===92?(e.consume(m),c):c(m)}}function Yi(e,t){let n;return r;function r(i){return j(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ie(i)?pe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const aP={name:"definition",tokenize:cP},uP={partial:!0,tokenize:fP};function cP(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),s(h)}function s(h){return lx.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return i=Qr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a):n(h)}function a(h){return ct(h)?Yi(e,u)(h):u(h)}function u(h){return sx(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(uP,f,f)(h)}function f(h){return ie(h)?pe(e,m,"whitespace")(h):m(h)}function m(h){return h===null||j(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function fP(e,t,n){return r;function r(l){return ct(l)?Yi(e,i)(l):n(l)}function i(l){return ax(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return ie(l)?pe(e,s,"whitespace")(l):s(l)}function s(l){return l===null||j(l)?t(l):n(l)}}const dP={name:"hardBreakEscape",tokenize:pP};function pP(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return j(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const hP={name:"headingAtx",resolve:mP,tokenize:gP};function mP(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},on(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function gP(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(e.consume(c),s):c===null||ct(c)?(e.exit("atxHeadingSequence"),l(c)):n(c)}function l(c){return c===35?(e.enter("atxHeadingSequence"),a(c)):c===null||j(c)?(e.exit("atxHeading"),t(c)):ie(c)?pe(e,l,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function a(c){return c===35?(e.consume(c),a):(e.exit("atxHeadingSequence"),l(c))}function u(c){return c===null||c===35||ct(c)?(e.exit("atxHeadingText"),l(c)):(e.consume(c),u)}}const yP=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pm=["pre","script","style","textarea"],wP={concrete:!0,name:"htmlFlow",resolveTo:CP,tokenize:_P},xP={partial:!0,tokenize:EP},vP={partial:!0,tokenize:SP};function CP(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function _P(e,t,n){const r=this;let i,o,s,l,a;return u;function u(E){return c(E)}function c(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),f}function f(E){return E===33?(e.consume(E),m):E===47?(e.consume(E),o=!0,x):E===63?(e.consume(E),i=3,r.interrupt?t:C):en(E)?(e.consume(E),s=String.fromCharCode(E),S):n(E)}function m(E){return E===45?(e.consume(E),i=2,h):E===91?(e.consume(E),i=5,l=0,w):en(E)?(e.consume(E),i=4,r.interrupt?t:C):n(E)}function h(E){return E===45?(e.consume(E),r.interrupt?t:C):n(E)}function w(E){const re="CDATA[";return E===re.charCodeAt(l++)?(e.consume(E),l===re.length?r.interrupt?t:$:w):n(E)}function x(E){return en(E)?(e.consume(E),s=String.fromCharCode(E),S):n(E)}function S(E){if(E===null||E===47||E===62||ct(E)){const re=E===47,De=s.toLowerCase();return!re&&!o&&pm.includes(De)?(i=1,r.interrupt?t(E):$(E)):yP.includes(s.toLowerCase())?(i=6,re?(e.consume(E),y):r.interrupt?t(E):$(E)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(E):o?g(E):v(E))}return E===45||vt(E)?(e.consume(E),s+=String.fromCharCode(E),S):n(E)}function y(E){return E===62?(e.consume(E),r.interrupt?t:$):n(E)}function g(E){return ie(E)?(e.consume(E),g):M(E)}function v(E){return E===47?(e.consume(E),M):E===58||E===95||en(E)?(e.consume(E),T):ie(E)?(e.consume(E),v):M(E)}function T(E){return E===45||E===46||E===58||E===95||vt(E)?(e.consume(E),T):I(E)}function I(E){return E===61?(e.consume(E),k):ie(E)?(e.consume(E),I):v(E)}function k(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),a=E,P):ie(E)?(e.consume(E),k):N(E)}function P(E){return E===a?(e.consume(E),a=null,O):E===null||j(E)?n(E):(e.consume(E),P)}function N(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||ct(E)?I(E):(e.consume(E),N)}function O(E){return E===47||E===62||ie(E)?v(E):n(E)}function M(E){return E===62?(e.consume(E),R):n(E)}function R(E){return E===null||j(E)?$(E):ie(E)?(e.consume(E),R):n(E)}function $(E){return E===45&&i===2?(e.consume(E),xe):E===60&&i===1?(e.consume(E),ve):E===62&&i===4?(e.consume(E),K):E===63&&i===3?(e.consume(E),C):E===93&&i===5?(e.consume(E),U):j(E)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(xP,X,W)(E)):E===null||j(E)?(e.exit("htmlFlowData"),W(E)):(e.consume(E),$)}function W(E){return e.check(vP,ne,X)(E)}function ne(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),J}function J(E){return E===null||j(E)?W(E):(e.enter("htmlFlowData"),$(E))}function xe(E){return E===45?(e.consume(E),C):$(E)}function ve(E){return E===47?(e.consume(E),s="",F):$(E)}function F(E){if(E===62){const re=s.toLowerCase();return pm.includes(re)?(e.consume(E),K):$(E)}return en(E)&&s.length<8?(e.consume(E),s+=String.fromCharCode(E),F):$(E)}function U(E){return E===93?(e.consume(E),C):$(E)}function C(E){return E===62?(e.consume(E),K):E===45&&i===2?(e.consume(E),C):$(E)}function K(E){return E===null||j(E)?(e.exit("htmlFlowData"),X(E)):(e.consume(E),K)}function X(E){return e.exit("htmlFlow"),t(E)}}function SP(e,t,n){const r=this;return i;function i(s){return j(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function EP(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(jl,t,n)}}const kP={name:"htmlText",tokenize:TP};function TP(e,t,n){const r=this;let i,o,s;return l;function l(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),a}function a(C){return C===33?(e.consume(C),u):C===47?(e.consume(C),I):C===63?(e.consume(C),v):en(C)?(e.consume(C),N):n(C)}function u(C){return C===45?(e.consume(C),c):C===91?(e.consume(C),o=0,w):en(C)?(e.consume(C),g):n(C)}function c(C){return C===45?(e.consume(C),h):n(C)}function f(C){return C===null?n(C):C===45?(e.consume(C),m):j(C)?(s=f,ve(C)):(e.consume(C),f)}function m(C){return C===45?(e.consume(C),h):f(C)}function h(C){return C===62?xe(C):C===45?m(C):f(C)}function w(C){const K="CDATA[";return C===K.charCodeAt(o++)?(e.consume(C),o===K.length?x:w):n(C)}function x(C){return C===null?n(C):C===93?(e.consume(C),S):j(C)?(s=x,ve(C)):(e.consume(C),x)}function S(C){return C===93?(e.consume(C),y):x(C)}function y(C){return C===62?xe(C):C===93?(e.consume(C),y):x(C)}function g(C){return C===null||C===62?xe(C):j(C)?(s=g,ve(C)):(e.consume(C),g)}function v(C){return C===null?n(C):C===63?(e.consume(C),T):j(C)?(s=v,ve(C)):(e.consume(C),v)}function T(C){return C===62?xe(C):v(C)}function I(C){return en(C)?(e.consume(C),k):n(C)}function k(C){return C===45||vt(C)?(e.consume(C),k):P(C)}function P(C){return j(C)?(s=P,ve(C)):ie(C)?(e.consume(C),P):xe(C)}function N(C){return C===45||vt(C)?(e.consume(C),N):C===47||C===62||ct(C)?O(C):n(C)}function O(C){return C===47?(e.consume(C),xe):C===58||C===95||en(C)?(e.consume(C),M):j(C)?(s=O,ve(C)):ie(C)?(e.consume(C),O):xe(C)}function M(C){return C===45||C===46||C===58||C===95||vt(C)?(e.consume(C),M):R(C)}function R(C){return C===61?(e.consume(C),$):j(C)?(s=R,ve(C)):ie(C)?(e.consume(C),R):O(C)}function $(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,W):j(C)?(s=$,ve(C)):ie(C)?(e.consume(C),$):(e.consume(C),ne)}function W(C){return C===i?(e.consume(C),i=void 0,J):C===null?n(C):j(C)?(s=W,ve(C)):(e.consume(C),W)}function ne(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||ct(C)?O(C):(e.consume(C),ne)}function J(C){return C===47||C===62||ct(C)?O(C):n(C)}function xe(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function ve(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),F}function F(C){return ie(C)?pe(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):U(C)}function U(C){return e.enter("htmlTextData"),s(C)}}const od={name:"labelEnd",resolveAll:NP,resolveTo:RP,tokenize:MP},IP={tokenize:bP},PP={tokenize:LP},AP={tokenize:OP};function NP(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&on(e,0,e.length,n),e}function RP(e,t){let n=e.length,r=0,i,o,s,l;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const a={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return l=[["enter",a,t],["enter",u,t]],l=At(l,e.slice(o+1,o+r+3)),l=At(l,[["enter",c,t]]),l=At(l,id(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),l=At(l,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),l=At(l,e.slice(s+1)),l=At(l,[["exit",a,t]]),on(e,o,e.length,l),e}function MP(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(m){return o?o._inactive?f(m):(s=r.parser.defined.includes(Qr(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),a):n(m)}function a(m){return m===40?e.attempt(IP,c,s?c:f)(m):m===91?e.attempt(PP,c,s?u:f)(m):s?c(m):f(m)}function u(m){return e.attempt(AP,c,f)(m)}function c(m){return t(m)}function f(m){return o._balanced=!0,n(m)}}function bP(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return ct(f)?Yi(e,o)(f):o(f)}function o(f){return f===41?c(f):sx(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return ct(f)?Yi(e,a)(f):c(f)}function l(f){return n(f)}function a(f){return f===34||f===39||f===40?ax(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return ct(f)?Yi(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function LP(e,t,n){const r=this;return i;function i(l){return lx.call(r,e,o,s,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(Qr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function s(l){return n(l)}}function OP(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const DP={name:"labelStartImage",resolveAll:od.resolveAll,tokenize:FP};function FP(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),o}function o(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const $P={name:"labelStartLink",resolveAll:od.resolveAll,tokenize:zP};function zP(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Fa={name:"lineEnding",tokenize:BP};function BP(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),pe(e,t,"linePrefix")}}const Ms={name:"thematicBreak",tokenize:UP};function UP(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||j(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),ie(u)?pe(e,l,"whitespace")(u):l(u))}}const rt={continuation:{tokenize:GP},exit:qP,name:"list",tokenize:jP},VP={partial:!0,tokenize:KP},HP={partial:!0,tokenize:WP};function jP(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(h){const w=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:oc(h)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Ms,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(h)}return n(h)}function a(h){return oc(h)&&++s<10?(e.consume(h),a):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(jl,r.interrupt?n:c,e.attempt(VP,m,f))}function c(h){return r.containerState.initialBlankLine=!0,o++,m(h)}function f(h){return ie(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),m):n(h)}function m(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function GP(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(jl,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,pe(e,t,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!ie(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(HP,t,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,pe(e,e.attempt(rt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function WP(e,t,n){const r=this;return pe(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function qP(e){e.exit(this.containerState.type)}function KP(e,t,n){const r=this;return pe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!ie(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const hm={name:"setextUnderline",resolveTo:YP,tokenize:JP};function YP(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function JP(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),ie(u)?pe(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||j(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const XP={tokenize:QP};function QP(e){const t=this,n=e.attempt(jl,r,e.attempt(this.parser.constructs.flowInitial,i,pe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(rP,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ZP={resolveAll:cx()},eA=ux("string"),tA=ux("text");function ux(e){return{resolveAll:cx(e==="text"?nA:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,l);return s;function s(c){return u(c)?o(c):l(c)}function l(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const f=i[c];let m=-1;if(f)for(;++m<f.length;){const h=f[m];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function cx(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function nA(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,l=0,a;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(u===-2)a=!0,l++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const rA={42:rt,43:rt,45:rt,48:rt,49:rt,50:rt,51:rt,52:rt,53:rt,54:rt,55:rt,56:rt,57:rt,62:nx},iA={91:aP},oA={[-2]:Da,[-1]:Da,32:Da},sA={35:hP,42:Ms,45:[hm,Ms],60:wP,61:hm,95:Ms,96:dm,126:dm},lA={38:ix,92:rx},aA={[-5]:Fa,[-4]:Fa,[-3]:Fa,33:DP,38:ix,42:sc,60:[$I,kP],91:$P,92:[dP,rx],93:od,95:sc,96:XI},uA={null:[sc,ZP]},cA={null:[42,95]},fA={null:[]},dA=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cA,contentInitial:iA,disable:fA,document:rA,flow:sA,flowInitial:oA,insideSpan:uA,string:lA,text:aA},Symbol.toStringTag,{value:"Module"}));function pA(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],l=[];const a={attempt:P(I),check:P(k),consume:g,enter:v,exit:T,interrupt:P(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:w,parser:e,previous:null,sliceSerialize:m,sliceStream:h,write:f};let c=t.tokenize.call(u,a);return t.resolveAll&&o.push(t),u;function f(R){return s=At(s,R),S(),s[s.length-1]!==null?[]:(N(t,0),u.events=id(o,u.events,u),u.events)}function m(R,$){return mA(h(R),$)}function h(R){return hA(s,R)}function w(){const{_bufferIndex:R,_index:$,line:W,column:ne,offset:J}=r;return{_bufferIndex:R,_index:$,line:W,column:ne,offset:J}}function x(R){i[R.line]=R.column,M()}function S(){let R;for(;r._index<s.length;){const $=s[r._index];if(typeof $=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<$.length;)y($.charCodeAt(r._bufferIndex));else y($)}}function y(R){c=c(R)}function g(R){j(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,M()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=R}function v(R,$){const W=$||{};return W.type=R,W.start=w(),u.events.push(["enter",W,u]),l.push(W),W}function T(R){const $=l.pop();return $.end=w(),u.events.push(["exit",$,u]),$}function I(R,$){N(R,$.from)}function k(R,$){$.restore()}function P(R,$){return W;function W(ne,J,xe){let ve,F,U,C;return Array.isArray(ne)?X(ne):"tokenize"in ne?X([ne]):K(ne);function K(ee){return dt;function dt(tt){const Tt=tt!==null&&ee[tt],vn=tt!==null&&ee.null,wr=[...Array.isArray(Tt)?Tt:Tt?[Tt]:[],...Array.isArray(vn)?vn:vn?[vn]:[]];return X(wr)(tt)}}function X(ee){return ve=ee,F=0,ee.length===0?xe:E(ee[F])}function E(ee){return dt;function dt(tt){return C=O(),U=ee,ee.partial||(u.currentConstruct=ee),ee.name&&u.parser.constructs.disable.null.includes(ee.name)?De():ee.tokenize.call($?Object.assign(Object.create(u),$):u,a,re,De)(tt)}}function re(ee){return R(U,C),J}function De(ee){return C.restore(),++F<ve.length?E(ve[F]):xe}}}function N(R,$){R.resolveAll&&!o.includes(R)&&o.push(R),R.resolve&&on(u.events,$,u.events.length-$,R.resolve(u.events.slice($),u)),R.resolveTo&&(u.events=R.resolveTo(u.events,u))}function O(){const R=w(),$=u.previous,W=u.currentConstruct,ne=u.events.length,J=Array.from(l);return{from:ne,restore:xe};function xe(){r=R,u.previous=$,u.currentConstruct=W,u.events.length=ne,l=J,M()}}function M(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function hA(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function mA(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function gA(e){const r={constructs:SI([dA,...(e||{}).extensions||[]]),content:i(RI),defined:[],document:i(bI),flow:i(XP),lazy:{},string:i(eA),text:i(tA)};return r;function i(o){return s;function s(l){return pA(r,o,l)}}}function yA(e){for(;!ox(e););return e}const mm=/[\0\t\n\r]/g;function wA(){let e=1,t="",n=!0,r;return i;function i(o,s,l){const a=[];let u,c,f,m,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(mm.lastIndex=f,u=mm.exec(o),m=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(m),!u){t=o.slice(f);break}if(h===10&&f===m&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),f<m&&(a.push(o.slice(f,m)),e+=m-f),h){case 0:{a.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,a.push(-2);e++<c;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}f=m+1}return l&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const xA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vA(e){return e.replace(xA,CA)}function CA(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return tx(n.slice(o?2:1),o?16:10)}return rd(n)||e}const fx={}.hasOwnProperty;function _A(e,t,n){return typeof t!="string"&&(n=t,t=void 0),SA(n)(yA(gA(n).document().write(wA()(e,t,!0))))}function SA(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(vd),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(yd),blockQuote:o(vn),characterEscape:O,characterReference:O,codeFenced:o(wr),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(wr,s),codeText:o(Fx,s),codeTextData:O,data:O,codeFlowValue:O,definition:o($x),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(zx),hardBreakEscape:o(wd),hardBreakTrailing:o(wd),htmlFlow:o(xd,s),htmlFlowData:O,htmlText:o(xd,s),htmlTextData:O,image:o(Bx),label:s,link:o(vd),listItem:o(Ux),listItemValue:m,listOrdered:o(Cd,f),listUnordered:o(Cd),paragraph:o(Vx),reference:E,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(yd),strong:o(Hx),thematicBreak:o(Gx)},exit:{atxHeading:a(),atxHeadingSequence:I,autolink:a(),autolinkEmail:Tt,autolinkProtocol:tt,blockQuote:a(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:De,characterReferenceMarkerNumeric:De,characterReferenceValue:ee,characterReference:dt,codeFenced:a(S),codeFencedFence:x,codeFencedFenceInfo:h,codeFencedFenceMeta:w,codeFlowValue:M,codeIndented:a(y),codeText:a(J),codeTextData:M,data:M,definition:a(),definitionDestinationString:T,definitionLabelString:g,definitionTitleString:v,emphasis:a(),hardBreakEscape:a($),hardBreakTrailing:a($),htmlFlow:a(W),htmlFlowData:M,htmlText:a(ne),htmlTextData:M,image:a(ve),label:U,labelText:F,lineEnding:R,link:a(xe),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:re,resourceDestinationString:C,resourceTitleString:K,resource:X,setextHeading:a(N),setextHeadingLineSequence:P,setextHeadingText:k,strong:a(),thematicBreak:a()}};dx(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(A){let D={type:"root",children:[]};const q={stack:[D],tokenStack:[],config:t,enter:l,exit:u,buffer:s,resume:c,data:n},Z=[];let ue=-1;for(;++ue<A.length;)if(A[ue][1].type==="listOrdered"||A[ue][1].type==="listUnordered")if(A[ue][0]==="enter")Z.push(ue);else{const Dt=Z.pop();ue=i(A,Dt,ue)}for(ue=-1;++ue<A.length;){const Dt=t[A[ue][0]];fx.call(Dt,A[ue][1].type)&&Dt[A[ue][1].type].call(Object.assign({sliceSerialize:A[ue][2].sliceSerialize},q),A[ue][1])}if(q.tokenStack.length>0){const Dt=q.tokenStack[q.tokenStack.length-1];(Dt[1]||gm).call(q,void 0,Dt[0])}for(D.position={start:kn(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:kn(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},ue=-1;++ue<t.transforms.length;)D=t.transforms[ue](D)||D;return D}function i(A,D,q){let Z=D-1,ue=-1,Dt=!1,Jn,sn,hi,mi;for(;++Z<=q;){const pt=A[Z];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?ue++:ue--,mi=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(Jn&&!mi&&!ue&&!hi&&(hi=Z),mi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mi=void 0}if(!ue&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||ue===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(Jn){let xr=Z;for(sn=void 0;xr--;){const ln=A[xr];if(ln[1].type==="lineEnding"||ln[1].type==="lineEndingBlank"){if(ln[0]==="exit")continue;sn&&(A[sn][1].type="lineEndingBlank",Dt=!0),ln[1].type="lineEnding",sn=xr}else if(!(ln[1].type==="linePrefix"||ln[1].type==="blockQuotePrefix"||ln[1].type==="blockQuotePrefixWhitespace"||ln[1].type==="blockQuoteMarker"||ln[1].type==="listItemIndent"))break}hi&&(!sn||hi<sn)&&(Jn._spread=!0),Jn.end=Object.assign({},sn?A[sn][1].start:pt[1].end),A.splice(sn||Z,0,["exit",Jn,pt[2]]),Z++,q++}if(pt[1].type==="listItemPrefix"){const xr={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};Jn=xr,A.splice(Z,0,["enter",xr,pt[2]]),Z++,q++,hi=void 0,mi=!0}}}return A[D][1]._spread=Dt,q}function o(A,D){return q;function q(Z){l.call(this,A(Z),Z),D&&D.call(this,Z)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(A,D,q){this.stack[this.stack.length-1].children.push(A),this.stack.push(A),this.tokenStack.push([D,q||void 0]),A.position={start:kn(D.start),end:void 0}}function a(A){return D;function D(q){A&&A.call(this,q),u.call(this,q)}}function u(A,D){const q=this.stack.pop(),Z=this.tokenStack.pop();if(Z)Z[0].type!==A.type&&(D?D.call(this,A,Z[0]):(Z[1]||gm).call(this,A,Z[0]));else throw new Error("Cannot close `"+A.type+"` ("+Ki({start:A.start,end:A.end})+"): its not open");q.position.end=kn(A.end)}function c(){return CI(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(A){if(this.data.expectingFirstListItemValue){const D=this.stack[this.stack.length-2];D.start=Number.parseInt(this.sliceSerialize(A),10),this.data.expectingFirstListItemValue=void 0}}function h(){const A=this.resume(),D=this.stack[this.stack.length-1];D.lang=A}function w(){const A=this.resume(),D=this.stack[this.stack.length-1];D.meta=A}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const A=this.resume(),D=this.stack[this.stack.length-1];D.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const A=this.resume(),D=this.stack[this.stack.length-1];D.value=A.replace(/(\r?\n|\r)$/g,"")}function g(A){const D=this.resume(),q=this.stack[this.stack.length-1];q.label=D,q.identifier=Qr(this.sliceSerialize(A)).toLowerCase()}function v(){const A=this.resume(),D=this.stack[this.stack.length-1];D.title=A}function T(){const A=this.resume(),D=this.stack[this.stack.length-1];D.url=A}function I(A){const D=this.stack[this.stack.length-1];if(!D.depth){const q=this.sliceSerialize(A).length;D.depth=q}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function P(A){const D=this.stack[this.stack.length-1];D.depth=this.sliceSerialize(A).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function O(A){const q=this.stack[this.stack.length-1].children;let Z=q[q.length-1];(!Z||Z.type!=="text")&&(Z=jx(),Z.position={start:kn(A.start),end:void 0},q.push(Z)),this.stack.push(Z)}function M(A){const D=this.stack.pop();D.value+=this.sliceSerialize(A),D.position.end=kn(A.end)}function R(A){const D=this.stack[this.stack.length-1];if(this.data.atHardBreak){const q=D.children[D.children.length-1];q.position.end=kn(A.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(D.type)&&(O.call(this,A),M.call(this,A))}function $(){this.data.atHardBreak=!0}function W(){const A=this.resume(),D=this.stack[this.stack.length-1];D.value=A}function ne(){const A=this.resume(),D=this.stack[this.stack.length-1];D.value=A}function J(){const A=this.resume(),D=this.stack[this.stack.length-1];D.value=A}function xe(){const A=this.stack[this.stack.length-1];if(this.data.inReference){const D=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=D,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function ve(){const A=this.stack[this.stack.length-1];if(this.data.inReference){const D=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=D,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function F(A){const D=this.sliceSerialize(A),q=this.stack[this.stack.length-2];q.label=vA(D),q.identifier=Qr(D).toLowerCase()}function U(){const A=this.stack[this.stack.length-1],D=this.resume(),q=this.stack[this.stack.length-1];if(this.data.inReference=!0,q.type==="link"){const Z=A.children;q.children=Z}else q.alt=D}function C(){const A=this.resume(),D=this.stack[this.stack.length-1];D.url=A}function K(){const A=this.resume(),D=this.stack[this.stack.length-1];D.title=A}function X(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function re(A){const D=this.resume(),q=this.stack[this.stack.length-1];q.label=D,q.identifier=Qr(this.sliceSerialize(A)).toLowerCase(),this.data.referenceType="full"}function De(A){this.data.characterReferenceType=A.type}function ee(A){const D=this.sliceSerialize(A),q=this.data.characterReferenceType;let Z;q?(Z=tx(D,q==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Z=rd(D);const ue=this.stack[this.stack.length-1];ue.value+=Z}function dt(A){const D=this.stack.pop();D.position.end=kn(A.end)}function tt(A){M.call(this,A);const D=this.stack[this.stack.length-1];D.url=this.sliceSerialize(A)}function Tt(A){M.call(this,A);const D=this.stack[this.stack.length-1];D.url="mailto:"+this.sliceSerialize(A)}function vn(){return{type:"blockquote",children:[]}}function wr(){return{type:"code",lang:null,meta:null,value:""}}function Fx(){return{type:"inlineCode",value:""}}function $x(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function zx(){return{type:"emphasis",children:[]}}function yd(){return{type:"heading",depth:0,children:[]}}function wd(){return{type:"break"}}function xd(){return{type:"html",value:""}}function Bx(){return{type:"image",title:null,url:"",alt:null}}function vd(){return{type:"link",title:null,url:"",children:[]}}function Cd(A){return{type:"list",ordered:A.type==="listOrdered",start:null,spread:A._spread,children:[]}}function Ux(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}function Vx(){return{type:"paragraph",children:[]}}function Hx(){return{type:"strong",children:[]}}function jx(){return{type:"text",value:""}}function Gx(){return{type:"thematicBreak"}}}function kn(e){return{line:e.line,column:e.column,offset:e.offset}}function dx(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?dx(e,r):EA(e,r)}}function EA(e,t){let n;for(n in t)if(fx.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function gm(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ki({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ki({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ki({start:t.start,end:t.end})+") is still open")}function kA(e){const t=this;t.parser=n;function n(r){return _A(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function TA(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function IA(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function PA(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function AA(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function NA(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RA(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=pi(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,l+=1,e.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function MA(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bA(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function px(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function LA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return px(e,t);const i={src:pi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function OA(e,t){const n={src:pi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function DA(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function FA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return px(e,t);const i={href:pi(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function $A(e,t){const n={href:pi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function zA(e,t,n){const r=e.all(t),i=n?BA(n):hx(t),o={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const c=r[l];(i||l!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function BA(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=hx(n[r])}return t}function hx(e){const t=e.spread;return t??e.children.length>1}function UA(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function VA(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HA(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function jA(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GA(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Zf(t.children[1]),a=Kw(t.children[t.children.length-1]);l&&a&&(s.position={start:l,end:a}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function WA(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:t.children.length;let a=-1;const u=[];for(;++a<l;){const f=t.children[a],m={},h=s?s[a]:void 0;h&&(m.align=h);let w={type:"element",tagName:o,properties:m,children:[]};f&&(w.children=e.all(f),e.patch(f,w),w=e.applyData(f,w)),u.push(w)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function qA(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ym=9,wm=32;function KA(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(xm(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(xm(t.slice(i),i>0,!1)),o.join("")}function xm(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===ym||o===wm;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===ym||o===wm;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function YA(e,t){const n={type:"text",value:KA(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function JA(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const XA={blockquote:TA,break:IA,code:PA,delete:AA,emphasis:NA,footnoteReference:RA,heading:MA,html:bA,imageReference:LA,image:OA,inlineCode:DA,linkReference:FA,link:$A,listItem:zA,list:UA,paragraph:VA,root:HA,strong:jA,table:GA,tableCell:qA,tableRow:WA,text:YA,thematicBreak:JA,toml:ls,yaml:ls,definition:ls,footnoteDefinition:ls};function ls(){}const mx=-1,Gl=0,Ji=1,dl=2,sd=3,ld=4,ad=5,ud=6,gx=7,yx=8,vm=typeof self=="object"?self:globalThis,QA=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case Gl:case mx:return n(s,i);case Ji:{const l=n([],i);for(const a of s)l.push(r(a));return l}case dl:{const l=n({},i);for(const[a,u]of s)l[r(a)]=r(u);return l}case sd:return n(new Date(s),i);case ld:{const{source:l,flags:a}=s;return n(new RegExp(l,a),i)}case ad:{const l=n(new Map,i);for(const[a,u]of s)l.set(r(a),r(u));return l}case ud:{const l=n(new Set,i);for(const a of s)l.add(r(a));return l}case gx:{const{name:l,message:a}=s;return n(new vm[l](a),i)}case yx:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new vm[o](s),i)};return r},Cm=e=>QA(new Map,e)(0),kr="",{toString:ZA}={},{keys:eN}=Object,ki=e=>{const t=typeof e;if(t!=="object"||!e)return[Gl,t];const n=ZA.call(e).slice(8,-1);switch(n){case"Array":return[Ji,kr];case"Object":return[dl,kr];case"Date":return[sd,kr];case"RegExp":return[ld,kr];case"Map":return[ad,kr];case"Set":return[ud,kr];case"DataView":return[Ji,n]}return n.includes("Array")?[Ji,n]:n.includes("Error")?[gx,n]:[dl,n]},as=([e,t])=>e===Gl&&(t==="function"||t==="symbol"),tN=(e,t,n,r)=>{const i=(s,l)=>{const a=r.push(s)-1;return n.set(l,a),a},o=s=>{if(n.has(s))return n.get(s);let[l,a]=ki(s);switch(l){case Gl:{let c=s;switch(a){case"bigint":l=yx,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);c=null;break;case"undefined":return i([mx],s)}return i([l,c],s)}case Ji:{if(a){let m=s;return a==="DataView"?m=new Uint8Array(s.buffer):a==="ArrayBuffer"&&(m=new Uint8Array(s)),i([a,[...m]],s)}const c=[],f=i([l,c],s);for(const m of s)c.push(o(m));return f}case dl:{if(a)switch(a){case"BigInt":return i([a,s.toString()],s);case"Boolean":case"Number":case"String":return i([a,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const c=[],f=i([l,c],s);for(const m of eN(s))(e||!as(ki(s[m])))&&c.push([o(m),o(s[m])]);return f}case sd:return i([l,s.toISOString()],s);case ld:{const{source:c,flags:f}=s;return i([l,{source:c,flags:f}],s)}case ad:{const c=[],f=i([l,c],s);for(const[m,h]of s)(e||!(as(ki(m))||as(ki(h))))&&c.push([o(m),o(h)]);return f}case ud:{const c=[],f=i([l,c],s);for(const m of s)(e||!as(ki(m)))&&c.push(o(m));return f}}const{message:u}=s;return i([l,{name:a,message:u}],s)};return o},_m=(e,{json:t,lossy:n}={})=>{const r=[];return tN(!(t||n),!!t,new Map,r)(e),r},pl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Cm(_m(e,t)):structuredClone(e):(e,t)=>Cm(_m(e,t));function nN(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function rN(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function iN(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||nN,r=e.options.footnoteBackLabel||rN,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),m=pi(f.toLowerCase());let h=0;const w=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++h<=x;){w.length>0&&w.push({type:"text",value:" "});let g=typeof n=="string"?n:n(a,h);typeof g=="string"&&(g={type:"text",value:g}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,h),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const S=c[c.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const g=S.children[S.children.length-1];g&&g.type==="text"?g.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...w)}else c.push(...w);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(c,!0)};e.patch(u,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...pl(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const wx=function(e){if(e==null)return aN;if(typeof e=="function")return Wl(e);if(typeof e=="object")return Array.isArray(e)?oN(e):sN(e);if(typeof e=="string")return lN(e);throw new Error("Expected function, string, or object as test")};function oN(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=wx(e[n]);return Wl(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function sN(e){const t=e;return Wl(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function lN(e){return Wl(t);function t(n){return n&&n.type===e}}function Wl(e){return t;function t(n,r,i){return!!(uN(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function aN(){return!0}function uN(e){return e!==null&&typeof e=="object"&&"type"in e}const xx=[],cN=!0,Sm=!1,fN="skip";function dN(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=wx(i),s=r?-1:1;l(e,void 0,[])();function l(a,u,c){const f=a&&typeof a=="object"?a:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(a.type+(h?"<"+h+">":""))+")"})}return m;function m(){let h=xx,w,x,S;if((!t||o(a,u,c[c.length-1]||void 0))&&(h=pN(n(a,c)),h[0]===Sm))return h;if("children"in a&&a.children){const y=a;if(y.children&&h[0]!==fN)for(x=(r?y.children.length:-1)+s,S=c.concat(y);x>-1&&x<y.children.length;){const g=y.children[x];if(w=l(g,x,S)(),w[0]===Sm)return w;x=typeof w[1]=="number"?w[1]:x+s}}return h}}}function pN(e){return Array.isArray(e)?e:typeof e=="number"?[cN,e]:e==null?xx:[e]}function vx(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),dN(e,o,l,i);function l(a,u){const c=u[u.length-1],f=c?c.children.indexOf(a):void 0;return s(a,f,c)}}const lc={}.hasOwnProperty,hN={};function mN(e,t){const n=t||hN,r=new Map,i=new Map,o=new Map,s={...XA,...n.handlers},l={all:u,applyData:yN,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:a,options:n,patch:gN,wrap:xN};return vx(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,m=String(c.identifier).toUpperCase();f.has(m)||f.set(m,c)}}),l;function a(c,f){const m=c.type,h=l.handlers[m];if(lc.call(l.handlers,m)&&h)return h(l,c,f);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in c){const{children:x,...S}=c,y=pl(S);return y.children=l.all(c),y}return pl(c)}return(l.options.unknownHandler||wN)(l,c,f)}function u(c){const f=[];if("children"in c){const m=c.children;let h=-1;for(;++h<m.length;){const w=l.one(m[h],c);if(w){if(h&&m[h-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Em(w.value)),!Array.isArray(w)&&w.type==="element")){const x=w.children[0];x&&x.type==="text"&&(x.value=Em(x.value))}Array.isArray(w)?f.push(...w):f.push(w)}}}return f}}function gN(e,t){e.position&&(t.position=ZT(e))}function yN(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,pl(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function wN(e,t){const n=t.data||{},r="value"in t&&!(lc.call(n,"hProperties")||lc.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xN(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Em(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function km(e,t){const n=mN(e,t),r=n.one(e,void 0),i=iN(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function vN(e,t){return e&&"run"in e?async function(n,r){const i=km(n,{file:r,...t});await e.run(i,r)}:function(n,r){return km(n,{file:r,...e||t})}}function Tm(e){if(e)throw e}var bs=Object.prototype.hasOwnProperty,Cx=Object.prototype.toString,Im=Object.defineProperty,Pm=Object.getOwnPropertyDescriptor,Am=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Cx.call(t)==="[object Array]"},Nm=function(t){if(!t||Cx.call(t)!=="[object Object]")return!1;var n=bs.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&bs.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||bs.call(t,i)},Rm=function(t,n){Im&&n.name==="__proto__"?Im(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Mm=function(t,n){if(n==="__proto__")if(bs.call(t,n)){if(Pm)return Pm(t,n).value}else return;return t[n]},CN=function e(){var t,n,r,i,o,s,l=arguments[0],a=1,u=arguments.length,c=!1;for(typeof l=="boolean"&&(c=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=Mm(l,n),i=Mm(t,n),l!==i&&(c&&i&&(Nm(i)||(o=Am(i)))?(o?(o=!1,s=r&&Am(r)?r:[]):s=r&&Nm(r)?r:{},Rm(l,{name:n,newValue:e(c,s,i)})):typeof i<"u"&&Rm(l,{name:n,newValue:i}));return l};const $a=fc(CN);function ac(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function _N(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(a,...u){const c=e[++o];let f=-1;if(a){s(a);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?SN(c,l)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function SN(e,t){let n;return r;function r(...s){const l=e.length>s.length;let a;l&&s.push(i);try{a=e.apply(this,s)}catch(u){const c=u;if(l&&n)throw c;return i(c)}l||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(s,...l){n||(n=!0,t(s,...l))}function o(s){i(null,s)}}const Jt={basename:EN,dirname:kN,extname:TN,join:IN,sep:"/"};function EN(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');bo(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function kN(e){if(bo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function TN(e){bo(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const l=e.codePointAt(t);if(l===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),l===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function IN(...e){let t=-1,n;for(;++t<e.length;)bo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":PN(n)}function PN(e){bo(e);const t=e.codePointAt(0)===47;let n=AN(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function AN(e,t){let n="",r=0,i=-1,o=0,s=-1,l,a;for(;++s<=e.length;){if(s<e.length)l=e.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else l===46&&o>-1?o++:o=-1}return n}function bo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const NN={cwd:RN};function RN(){return"/"}function uc(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function MN(e){if(typeof e=="string")e=new URL(e);else if(!uc(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return bN(e)}function bN(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const za=["history","path","basename","stem","extname","dirname"];class _x{constructor(t){let n;t?uc(t)?n={path:t}:typeof t=="string"||LN(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":NN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<za.length;){const o=za[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)za.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Jt.basename(this.path):void 0}set basename(t){Ua(t,"basename"),Ba(t,"basename"),this.path=Jt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Jt.dirname(this.path):void 0}set dirname(t){bm(this.basename,"dirname"),this.path=Jt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Jt.extname(this.path):void 0}set extname(t){if(Ba(t,"extname"),bm(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){uc(t)&&(t=MN(t)),Ua(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Jt.basename(this.path,this.extname):void 0}set stem(t){Ua(t,"stem"),Ba(t,"stem"),this.path=Jt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Je(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ba(e,t){if(e&&e.includes(Jt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Jt.sep+"`")}function Ua(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function bm(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function LN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ON=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},DN={}.hasOwnProperty;class cd extends ON{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_N()}copy(){const t=new cd;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data($a(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(ja("data",this.frozen),this.namespace[t]=n,this):DN.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ja("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=us(t),r=this.parser||this.Parser;return Va("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Va("process",this.parser||this.Parser),Ha("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const l=us(t),a=r.parse(l);r.run(a,l,function(c,f,m){if(c||!f||!m)return u(c);const h=f,w=r.stringify(h,m);zN(w)?m.value=w:m.result=w,u(c,m)});function u(c,f){c||!f?s(c):o?o(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Va("processSync",this.parser||this.Parser),Ha("processSync",this.compiler||this.Compiler),this.process(t,i),Om("processSync","process",n),r;function i(o,s){n=!0,Tm(o),r=s}}run(t,n,r){Lm(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,l){const a=us(n);i.run(t,a,u);function u(c,f,m){const h=f||t;c?l(c):s?s(h):r(void 0,h,m)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),Om("runSync","run",r),i;function o(s,l){Tm(s),i=l,r=!0}}stringify(t,n){this.freeze();const r=us(n),i=this.compiler||this.Compiler;return Ha("stringify",i),Lm(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(ja("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;a(c,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=$a(!0,i.settings,u.settings))}function l(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===u){m=f;break}if(m===-1)r.push([u,...c]);else if(c.length>0){let[h,...w]=c;const x=r[m][1];ac(x)&&ac(h)&&(h=$a(!0,x,h)),r[m]=[u,h,...w]}}}}const FN=new cd().freeze();function Va(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ha(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ja(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Lm(e){if(!ac(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Om(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function us(e){return $N(e)?e:new _x(e)}function $N(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function zN(e){return typeof e=="string"||BN(e)}function BN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const UN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Dm=[],Fm={allowDangerousHtml:!0},VN=/^(https?|ircs?|mailto|xmpp)$/i,HN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Sx(e){const t=jN(e),n=GN(e);return WN(t.runSync(t.parse(n),n),e)}function jN(e){const t=e.rehypePlugins||Dm,n=e.remarkPlugins||Dm,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Fm}:Fm;return FN().use(kA).use(n).use(vN,r).use(t)}function GN(e){const t=e.children||"",n=new _x;return typeof t=="string"&&(n.value=t),n}function WN(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,l=t.unwrapDisallowed,a=t.urlTransform||qN;for(const c of HN)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+UN+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),vx(e,u),iI(e,{Fragment:_.Fragment,components:i,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function u(c,f,m){if(c.type==="raw"&&m&&typeof f=="number")return s?m.children.splice(f,1):m.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let h;for(h in Oa)if(Object.hasOwn(Oa,h)&&Object.hasOwn(c.properties,h)){const w=c.properties[h],x=Oa[h];(x===null||x.includes(c.tagName))&&(c.properties[h]=a(String(w||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(c,f,m)),h&&m&&typeof f=="number")return l&&c.children?m.children.splice(f,1,...c.children):m.children.splice(f,1),f}}}function qN(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||VN.test(e.slice(0,t))?e:""}const KN=({content:e})=>_.jsx("div",{className:"w-full h-full p-6 overflow-y-auto prose prose-sm prose-slate max-w-none",children:_.jsx(Sx,{children:e})}),YN=({options:e,selectedId:t,onSelect:n,t:r})=>e.length===0?null:_.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[_.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[_.jsx(D1,{className:"w-3.5 h-3.5"})," ",r.styleVariations]}),_.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map((i,o)=>{var x;const s=t===i.id||i.themeName===((x=e.find(S=>S.id===t))==null?void 0:x.themeName),l=i.layoutType==="multi-card",a=i.layoutType==="flat",u=i.layoutType==="card",c=i.pageBackground||"bg-slate-50",f=i.containerBackground||"bg-white",m=i.highlightColor||"#6366f1",h=i.fontFamily||"font-sans",w=i.textColor||"text-slate-800";return _.jsxs("div",{onClick:()=>n(i),className:`
                cursor-pointer group relative rounded-xl overflow-hidden transition-all duration-300 ease-out
                ${s?"ring-2 ring-indigo-600 ring-offset-2 shadow-lg scale-[1.02] z-10":"ring-1 ring-slate-200 hover:ring-indigo-300 hover:shadow-md hover:scale-[1.01] hover:z-10"}
              `,children:[_.jsxs("div",{className:"aspect-[16/10] w-full relative bg-slate-50 overflow-hidden select-none",children:[_.jsx("div",{className:"absolute top-0 left-0 w-[455%] h-[455%] origin-top-left transform scale-[0.22]",children:_.jsxs("div",{className:`w-full h-full ${c} ${h} ${w} flex flex-col p-12`,children:[l&&_.jsx("div",{className:"grid grid-cols-2 gap-8 h-full content-start",children:[1,2].map(S=>_.jsxs("div",{className:`${f} ${i.containerShadow} ${i.containerBorderRadius} ${i.containerPadding} h-fit`,children:[_.jsxs("h2",{className:`${i.heading2} mb-4 text-3xl`,children:["Module ",S]}),_.jsx("div",{className:`${i.paragraph} text-2xl opacity-80 line-clamp-4`,children:"Grid content showing the dashboard structure."})]},S))}),a&&_.jsxs("div",{className:`w-full h-full ${f} ${i.containerPadding} border-x border-black/5`,children:[_.jsx("div",{className:`${i.heading1} ${i.titleSize} mb-8`,children:"Doc Title"}),_.jsx("h2",{className:`${i.heading2} mb-6 text-4xl`,children:"Section Header"}),_.jsx("p",{className:`${i.paragraph} text-3xl leading-relaxed mb-6`,children:"This is a seamless layout preview suitable for web pages."}),_.jsx("hr",{className:`${i.dividerStyle} my-8`}),_.jsx("p",{className:`${i.paragraph} text-3xl leading-relaxed`,children:"Continuous reading flow visualization."})]}),u&&_.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:_.jsxs("div",{className:`${f} ${i.containerShadow} ${i.containerBorderRadius} ${i.containerPadding} w-full max-w-4xl mx-auto min-h-[500px] flex flex-col`,children:[_.jsx("div",{className:`${i.heading1} ${i.titleSize} mb-8`,children:i.themeName}),_.jsx("div",{className:"mb-6",children:_.jsx("h2",{className:`${i.heading2} text-4xl`,children:"Smart Layout"})}),_.jsxs("div",{className:`${i.paragraph} text-3xl leading-relaxed flex-1`,children:[_.jsxs("p",{className:"mb-6",children:["The quick brown fox jumps over the lazy dog. This previews your ",_.jsx("span",{style:{color:m,fontWeight:"bold"},children:"typography"})," choices."]}),_.jsx("div",{className:"p-4 border-l-8 text-2xl italic opacity-80 bg-black/5",style:{borderColor:m},children:'"Design is intelligence made visible."'})]})]})})]})}),_.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 backdrop-blur-sm text-white text-[9px] px-1.5 py-0.5 rounded flex items-center gap-1 font-medium shadow-sm",children:[_.jsx(A1,{className:"w-2.5 h-2.5"}),i.layoutType]})]}),_.jsxs("div",{className:"bg-white px-3 py-2 border-t border-slate-100 flex justify-between items-center",children:[_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-xs font-bold text-slate-800 truncate max-w-[120px]",title:i.themeName,children:i.themeName}),_.jsxs("div",{className:"flex gap-1 mt-0.5",children:[_.jsx("div",{className:"w-2 h-2 rounded-full ring-1 ring-slate-200",style:{background:m}}),_.jsx("div",{className:`w-2 h-2 rounded-full ring-1 ring-slate-200 ${c}`}),_.jsx("div",{className:`w-2 h-2 rounded-full ring-1 ring-slate-200 ${f}`})]})]}),s&&_.jsx("div",{className:"bg-indigo-600 text-white p-1 rounded-full shadow-sm animate-in zoom-in",children:_.jsx(_s,{className:"w-3 h-3"})})]})]},o)})})]}),$m=e=>{let t;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const m=t;t=c??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,m))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>a,subscribe:u=>(n.add(u),()=>n.delete(u))},a=t=e(r,i,l);return l},JN=e=>e?$m(e):$m,XN=e=>e;function QN(e,t=XN){const n=Ti.useSyncExternalStore(e.subscribe,Ti.useCallback(()=>t(e.getState()),[e,t]),Ti.useCallback(()=>t(e.getInitialState()),[e,t]));return Ti.useDebugValue(n),n}const ZN=e=>{const t=JN(e),n=r=>QN(t,r);return Object.assign(n,t),n},e2=e=>ZN;function Ex(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const s=a=>a===null?null:JSON.parse(a,void 0),l=(o=n.getItem(i))!=null?o:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const cc=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return cc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return cc(r)(n)}}}},t2=(e,t)=>(n,r,i)=>{let o={storage:Ex(()=>window.localStorage),partialize:S=>S,version:0,merge:(S,y)=>({...y,...S}),...t},s=!1,l=0;const a=new Set,u=new Set;let c=o.storage;if(!c)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...S)},r,i);const f=()=>{const S=o.partialize({...r()});return c.setItem(o.name,{state:S,version:o.version})},m=i.setState;i.setState=(S,y)=>(m(S,y),f());const h=e((...S)=>(n(...S),f()),r,i);i.getInitialState=()=>h;let w;const x=()=>{var S,y;if(!c)return;const g=++l;s=!1,a.forEach(T=>{var I;return T((I=r())!=null?I:h)});const v=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(S=r())!=null?S:h))||void 0;return cc(c.getItem.bind(c))(o.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==o.version){if(o.migrate){const I=o.migrate(T.state,T.version);return I instanceof Promise?I.then(k=>[!0,k]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var I;if(g!==l)return;const[k,P]=T;if(w=o.merge(P,(I=r())!=null?I:h),n(w,!0),k)return f()}).then(()=>{g===l&&(v==null||v(w,void 0),w=r(),s=!0,u.forEach(T=>T(w)))}).catch(T=>{g===l&&(v==null||v(void 0,T))})};return i.persist={setOptions:S=>{o={...o,...S},S.storage&&(c=S.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:S=>(a.add(S),()=>{a.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},o.skipHydration||x(),w||h},n2=t2,kx={id:"default",themeName:"Clean Paper",layoutType:"card",pageBackground:"bg-slate-100",containerBackground:"bg-white",containerShadow:"shadow-lg",containerMaxWidth:"max-w-4xl",containerPadding:"p-8 md:p-16",containerBorderRadius:"rounded-none",fontFamily:"font-sans",baseFontSize:"text-base",lineHeight:"leading-7",textColor:"text-slate-700",titleSize:"text-4xl md:text-5xl",heading1:"font-bold text-slate-900 mb-8 tracking-tight",heading2:"text-2xl font-semibold text-slate-800 mt-10 mb-4 border-l-4 border-indigo-500 pl-4",paragraph:"mb-6",blockquote:"italic text-slate-600 border-l-4 border-slate-300 pl-4 py-2 my-8 bg-slate-50",highlightColor:"#6366f1",dividerStyle:"my-12 border-slate-200"},r2=Ex(()=>localStorage),i2={designData:kx,markdownContent:"",previewMode:"desktop",activeTab:"write",lang:"zh",prompt:"",isGenerating:!1,error:null,showAiSettings:!1,provider:"gemini",geminiKey:"",openaiConfig:{apiKey:"",baseUrl:"https://api.openai.com/v1",model:"gpt-4-turbo-preview"}},we=e2()(n2(e=>({...i2,setDesignData:t=>e(n=>({designData:typeof t=="function"?t(n.designData):t})),setMarkdownContent:t=>e(n=>({markdownContent:typeof t=="function"?t(n.markdownContent):t})),setPreviewMode:t=>e(n=>({previewMode:typeof t=="function"?t(n.previewMode):t})),setActiveTab:t=>e(n=>({activeTab:typeof t=="function"?t(n.activeTab):t})),setLang:t=>e(n=>({lang:typeof t=="function"?t(n.lang):t})),setPrompt:t=>e(n=>({prompt:typeof t=="function"?t(n.prompt):t})),setIsGenerating:t=>e(n=>({isGenerating:typeof t=="function"?t(n.isGenerating):t})),setError:t=>e(n=>({error:typeof t=="function"?t(n.error):t})),setShowAiSettings:t=>e(n=>({showAiSettings:typeof t=="function"?t(n.showAiSettings):t})),setProvider:t=>e(n=>({provider:typeof t=="function"?t(n.provider):t})),setGeminiKey:t=>e(n=>({geminiKey:typeof t=="function"?t(n.geminiKey):t})),setOpenaiConfig:t=>e(n=>({openaiConfig:typeof t=="function"?t(n.openaiConfig):t})),resetDesign:()=>e({designData:kx})}),{name:"layout-forge-ai-store",storage:r2,partialize:e=>({lang:e.lang,provider:e.provider,geminiKey:e.geminiKey,openaiConfig:e.openaiConfig})})),ql=()=>we(e=>e.designData),Tx=()=>we(e=>e.setDesignData),fd=()=>we(e=>e.markdownContent),Ix=()=>we(e=>e.setMarkdownContent),Px=()=>we(e=>e.previewMode),o2=()=>we(e=>e.setPreviewMode),s2=()=>we(e=>e.activeTab),l2=()=>we(e=>e.setActiveTab),Kl=()=>we(e=>e.lang),Ax=()=>we(e=>e.setLang),Nx=()=>we(e=>e.prompt),Rx=()=>we(e=>e.setPrompt),Mx=()=>we(e=>e.isGenerating),bx=()=>we(e=>e.setIsGenerating),Lx=()=>we(e=>e.error),Ox=()=>we(e=>e.setError),dd=()=>we(e=>e.showAiSettings),pd=()=>we(e=>e.setShowAiSettings),Yl=()=>we(e=>e.provider),hd=()=>we(e=>e.setProvider),Jl=()=>we(e=>e.geminiKey),md=()=>we(e=>e.setGeminiKey),Xl=()=>we(e=>e.openaiConfig),gd=()=>we(e=>e.setOpenaiConfig),a2=({handleGenerate:e,toggleLanguage:t,t:n})=>{const r=Nx(),i=Rx(),o=ql(),s=Tx(),l=Mx();bx();const a=Lx();Ox();const u=Kl();Ax();const c=Yl();hd();const f=Jl();md();const m=Xl();gd(),dd();const h=pd(),w={provider:c,openai:m,gemini:{apiKey:f||void 0}},{addToast:x}=Yf(),[S,y]=se.useState([]),[g,v]=se.useState(!1),T=async()=>{if(r.trim()){v(!0);try{const k=await rT(w,r,"auto");y(k),x("2 style variations generated!","success")}catch(k){console.error(k),x(k.message||"Failed to generate styles","error")}finally{v(!1)}}},I=()=>_.jsxs("svg",{className:"animate-spin h-3.5 w-3.5 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return _.jsx("div",{className:"w-full h-full p-6 overflow-y-auto",children:_.jsxs("div",{className:"max-w-xl mx-auto space-y-8",children:[_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsxs("button",{onClick:()=>h(!0),className:`flex items-center gap-2 text-xs font-medium transition px-3 py-1.5 rounded-full border ${c==="openai"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:[_.jsx(Zy,{className:"w-3 h-3"}),c==="gemini"?"Gemini":"OpenAI"]}),_.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-xs font-medium text-slate-500 hover:text-indigo-600 transition bg-white border border-slate-200 hover:bg-slate-50 px-3 py-1.5 rounded-full",children:[_.jsx(I1,{className:"w-3 h-3"}),u==="zh"?"English":""]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("label",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(Mp,{className:"w-4 h-4 text-amber-500"}),n.stylePrompt]}),_.jsxs("button",{onClick:T,disabled:g||!r.trim(),className:"text-xs font-medium text-indigo-600 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition flex items-center gap-1.5",children:[g?_.jsx(I,{}):_.jsx($1,{className:"w-3.5 h-3.5"}),g?n.generatingStyles:n.generateStyles]})]}),_.jsx("textarea",{value:r,onChange:k=>i(k.target.value),placeholder:n.stylePlaceholder,className:"w-full p-4 text-sm border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none resize-none h-28 bg-white shadow-sm"}),_.jsx(YN,{options:S,selectedId:o.id,onSelect:s,t:n})]}),_.jsxs("button",{onClick:e,disabled:l||!r.trim(),className:`w-full py-3 px-4 rounded-xl text-white font-medium text-sm flex items-center justify-center gap-2 transition-all ${l?"bg-slate-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-lg hover:shadow-indigo-500/30 active:scale-[0.98]"}`,children:[l?_.jsx(L1,{className:"w-4 h-4 animate-spin"}):_.jsx(Mp,{className:"w-4 h-4"}),l?n.generating:n.generate]}),a&&_.jsx("p",{className:"text-xs text-red-500 mt-2 bg-red-50 p-2 rounded border border-red-100",children:a}),_.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-100",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:n.presets}),_.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[_.jsxs("button",{onClick:()=>i("WeChat Official Account style (). Flat layout, max-w-xl. Headings (H2) should be very decorative: use colored pills (rounded-full bg-blue-50), left borders, or bottom borders. Font size slightly larger (text-[17px]) for good readability. Comfortable line height. Auto-extract key points into headers."),className:"text-left text-xs p-3 bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border-green-200 rounded-lg border text-emerald-800 transition shadow-sm group ring-1 ring-green-100",children:[_.jsx("span",{className:"font-semibold block group-hover:text-emerald-900",children:n.presetWeChat.split("")[0]}),_.jsx("span",{className:"opacity-70",children:n.presetWeChat.split("")[1]})]}),_.jsxs("button",{onClick:()=>i("Technology/SaaS style. Dark mode, monospace fonts for code, neon accents."),className:"text-left text-xs p-3 bg-white hover:bg-indigo-50 hover:border-indigo-200 rounded-lg border border-slate-200 text-slate-600 transition shadow-sm group",children:[_.jsx("span",{className:"font-semibold text-slate-800 block group-hover:text-indigo-700",children:n.presetSaas.split("")[0]}),_.jsx("span",{className:"opacity-70",children:n.presetSaas.split("")[1]})]}),_.jsxs("button",{onClick:()=>i("Classic literature style. Warm beige background, high readability serif fonts, elegant margins."),className:"text-left text-xs p-3 bg-white hover:bg-indigo-50 hover:border-indigo-200 rounded-lg border border-slate-200 text-slate-600 transition shadow-sm group",children:[_.jsx("span",{className:"font-semibold text-slate-800 block group-hover:text-indigo-700",children:n.presetBlog.split("")[0]}),_.jsx("span",{className:"opacity-70",children:n.presetBlog.split("")[1]})]})]})]}),_.jsxs("div",{className:"p-4 bg-indigo-50 text-indigo-900 rounded-xl text-xs flex items-start gap-3 border border-indigo-100",children:[_.jsx(R1,{className:"w-4 h-4 shrink-0 mt-0.5"}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("p",{className:"font-semibold",children:[n.theme,": ",_.jsx("span",{className:"capitalize",children:o.themeName})]}),_.jsx("p",{className:"opacity-80",children:n.proTip})]})]})]})})},u2=()=>{const e=s2(),t=l2(),n=fd(),r=Ix(),i=Nx();Rx(),Mx();const o=bx();Lx();const s=Ox(),l=Kl(),a=Ax(),u=ql(),c=Tx(),f=Yl();hd();const m=Jl();md();const h=Xl();gd(),dd(),pd();const w=()=>{a(v=>v==="zh"?"en":"zh")},x={provider:f,openai:h,gemini:{apiKey:m||void 0}},{addToast:S}=Yf(),y=lf[l],g=async()=>{if(!i.trim())return;o(!0),s(null);const v=(I,k)=>{I==="design"?c(k):I==="content"&&r(k)},T=u.id!=="default"?u:void 0;try{await iT(x,i,n,"auto",v,T),S(y.generate+" "+y.copied,"success")}catch(I){const k=I.message||y.error;s(k),S(k,"error")}finally{o(!1)}};return _.jsxs("section",{className:"flex-1 flex flex-col min-w-[350px] border-r border-slate-200 bg-white relative shadow-lg z-20",children:[_.jsxs("div",{className:"h-14 border-b border-slate-100 flex items-center justify-between px-4 bg-white sticky top-0 z-10",children:[_.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 font-bold text-lg",children:[_.jsx(M1,{className:"w-5 h-5"}),_.jsx("span",{children:y.appTitle})]}),_.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[_.jsxs("button",{onClick:()=>t("write"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all flex items-center gap-1.5 ${e==="write"?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:[_.jsx(b1,{className:"w-3.5 h-3.5"})," ",y.write]}),_.jsxs("button",{onClick:()=>t("preview"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all flex items-center gap-1.5 ${e==="preview"?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:[_.jsx(k1,{className:"w-3.5 h-3.5"})," ",y.preview]}),_.jsxs("button",{onClick:()=>t("config"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all flex items-center gap-1.5 ${e==="config"?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:[_.jsx(t0,{className:"w-3.5 h-3.5"})," ",y.config]})]})]}),_.jsxs("div",{className:"flex-1 overflow-hidden relative bg-slate-50/30",children:[e==="write"&&_.jsx(lT,{content:n,onChange:r}),e==="preview"&&_.jsx(KN,{content:n}),e==="config"&&_.jsx(a2,{handleGenerate:g,toggleLanguage:w,t:y})]})]})},c2=({data:e,content:t,previewMode:n})=>{var w;const r=n==="mobile"?"w-[375px] min-h-[667px] mx-auto border-x-8 border-t-8 border-b-8 border-slate-800 rounded-[3rem] overflow-hidden bg-black shadow-2xl my-8 shrink-0":"w-full min-h-screen",i=n==="mobile"?"w-full h-full overflow-y-auto bg-white":"w-full h-full";console.log(e);const o=e.layoutType==="card",s=e.layoutType==="multi-card",l=se.useMemo(()=>{if(!s)return[t];const x=t.split(/(?=^#{1,2}\s)/gm).filter(S=>S.trim().length>0);return x.length>0?x:[t]},[t,s]),a=o||s?`${e.pageBackground} flex flex-col items-center py-8 md:py-16`:`${e.pageBackground} flex flex-col items-center`,u=s?"max-w-6xl w-full px-4":e.containerMaxWidth,c=`${e.containerBackground} ${e.containerShadow} ${e.containerPadding} ${e.containerBorderRadius}`,f=`${e.containerBackground} ${e.containerPadding} min-h-screen shadow-none rounded-none`,m=s?c:o?`w-full ${c}`:`w-full ${f}`,h={h1:({node:x,...S})=>_.jsx("h1",{className:`layout-block ${e.titleSize} ${e.heading1}`,...S}),h2:({node:x,...S})=>_.jsx("h2",{className:`layout-block ${e.heading2}`,...S}),h3:({node:x,...S})=>_.jsx("h3",{className:"layout-block text-xl font-bold mt-8 mb-4 opacity-90",...S}),p:({node:x,...S})=>_.jsx("p",{className:`layout-block ${e.paragraph}`,...S}),blockquote:({node:x,...S})=>_.jsx("blockquote",{className:`layout-block ${e.blockquote}`,...S}),ul:({node:x,...S})=>_.jsx("ul",{className:"layout-block list-disc list-inside mb-6 space-y-2 opacity-90 pl-2",...S}),ol:({node:x,...S})=>_.jsx("ol",{className:"layout-block list-decimal list-inside mb-6 space-y-2 opacity-90 pl-2",...S}),li:({node:x,...S})=>_.jsx("li",{className:"",...S}),strong:({node:x,...S})=>_.jsx("strong",{style:{color:e.highlightColor},className:"font-bold",...S}),hr:({node:x,...S})=>_.jsx("hr",{className:`layout-block ${e.dividerStyle}`,...S}),a:({node:x,...S})=>_.jsx("a",{className:"underline decoration-2 underline-offset-2 hover:opacity-80 transition",style:{color:e.highlightColor,textDecorationColor:e.highlightColor},...S}),code:({node:x,...S})=>_.jsx("code",{className:"bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded text-sm font-mono text-pink-500",...S}),pre:({node:x,...S})=>_.jsx("pre",{className:"layout-block bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto my-6 text-sm font-mono leading-relaxed",...S})};return _.jsx("div",{className:"transition-all duration-500 ease-in-out flex flex-col items-center justify-start",children:_.jsx("div",{className:r,children:_.jsxs("div",{id:"layout-preview-content",className:`${i} ${a} transition-colors duration-500`,children:[_.jsxs("div",{className:`${u} mb-8 opacity-40 px-4 flex justify-between text-xs font-mono uppercase tracking-widest mix-blend-multiply dark:mix-blend-screen`,children:[_.jsx("span",{children:e.themeName}),_.jsx("span",{className:"flex items-center gap-2",children:(w=e.layoutType)==null?void 0:w.toUpperCase()})]}),_.jsx("div",{className:`
                    ${u}
                    ${s&&n!=="mobile"?"grid grid-cols-1 md:grid-cols-2 gap-6 items-start":"flex flex-col gap-6"}
                    ${e.fontFamily}
                    ${e.textColor}
                `,children:l.map((x,S)=>_.jsx("div",{className:`
                                layout-card
                                ${m}
                                transition-all duration-500
                                ${s?"h-full":""} 
                            `,children:_.jsx("article",{id:"markdown-article",className:`${e.baseFontSize} ${e.lineHeight}`,children:_.jsx(Sx,{components:h,children:x})})},S))}),_.jsx("div",{className:"mt-16 pb-8 border-t border-current opacity-20 w-1/3 flex justify-center text-xs font-mono mx-auto",children:"***"})]})})})},f2=`
You are a WeChat article layout converter.

Your job:

* Take ONE text segment (from a Markdown document) and wrap it into a single WeChat-compatible HTML "card".

Constraints:

1. Output MUST be valid HTML.
2. Output MUST contain exactly ONE top-level <section> wrapper representing a single card.
3. Use ONLY inline CSS styles; no external stylesheets or <style> tags.
4. Do NOT include <html>, <head>, or <body>. Produce only the card snippet.
5. Do NOT add explanatory text, comments, or prose outside of HTML.

Layout rules (very important):

* Use nested <section> and <p> elements similar to WeChat rich text.
* Card structure:

  * Outer <section> with max-width: 100%, margin-top: 10px, margin-bottom: 20px.
  * Inside, a flex row: left decorative bar, main content, optional right bar.
  * Main content container:

    * padding: 12px 0
    * background-color: {HIGHLIGHT_COLOR}
    * flex: 100 100 0%
    * overflow: hidden

Text styling:

* Wrap text in <p><span>...</span></p> blocks.
* Use "white-space: normal; margin: 0; padding: 0;" on <p> tags.

Content rules:

* Preserve the original meaning and language (do NOT translate).
* Convert basic Markdown constructs:

  * Headings (#, ##) -> visually emphasized phrases inside the card (e.g. bold span or separate p with margin).
  * Lists -> paragraphs with bullet points.
* Do NOT invent extra content.
`,d2=`
You are an expert WeChat HTML/CSS Layout Engineer.
Your task is to generate the OUTER CONTAINER HTML structure for a WeChat article based on a provided "DocumentDesign" JSON.

Input:
- Design JSON (contains Tailwind classes for page background, container styling, fonts, etc.).

Output:
- A single HTML snippet representing the PAGE WRAPPER.
- Use INLINE CSS exclusively (style="...").
- Do NOT include <html>, <head>, <body> tags.
- Structure:
  <section id="wechat-wrapper" style="... (Page Background styles) ...">
     <section id="wechat-container" style="... (Container Background, Shadow, Padding, Radius, Layout settings) ...">
        <!-- Header Metadata (Theme Name) -->
        <section style="opacity:0.5; font-size:12px; margin-bottom:20px; text-align:center; font-family:sans-serif; letter-spacing: 1px;">
           {THEME_NAME}
        </section>
        
        <!-- THE CONTENT PLACEHOLDER -->
        {{CONTENT}}
        
        <!-- Footer Flourish -->
        <section style="text-align:center; margin-top:40px; opacity:0.3; font-size: 12px;">***</section>
     </section>
  </section>

Translation Rules example (Tailwind -> Inline CSS):
- bg-slate-100 -> background-color: #f1f5f9;
- bg-white -> background-color: #ffffff;
- shadow-xl -> box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1);
- p-8 -> padding: 32px;
- rounded-xl -> border-radius: 12px;
- max-w-2xl -> max-width: 672px; margin: 0 auto;

IMPORTANT:
- If layoutType is 'flat', remove shadows/radius from the container and make it blend with the page.
- Ensure the wrapper has min-height: 100vh (or equivalent) to look like a full page.
- Return ONLY the HTML string with {{CONTENT}} inside.
`;function p2(e){return e?e.replace(/\r\n/g,`
`).split(/\n\s*\n/g).map(n=>n.trim()).filter(n=>n.length>0):[]}async function h2(e,t){const n=`
    Generate WeChat Wrapper HTML for this design:
    ${JSON.stringify(t,null,2)}
  `;let r="";try{r=await fl(e,{prompt:n,systemInstruction:d2,jsonMode:!1})}catch(i){console.error("Wrapper Gen Error:",i),r='<section style="padding: 20px;">{{CONTENT}}</section>'}if(r||(r='<section style="padding: 20px;">{{CONTENT}}</section>'),r=r.replace(/```html/g,"").replace(/```/g,"").trim(),!r.includes("{{CONTENT}}")){const i=r.lastIndexOf("</");i>-1?r=r.substring(0,i)+`
{{CONTENT}}
`+r.substring(i):r+=`
{{CONTENT}}`}return r}async function*m2(e,t,n,r,i){const o=f2.replace(/\{HIGHLIGHT_COLOR\}/g,t),s=`
You are converting one content segment of a Markdown document into a single WeChat card.

Context:
- Card index: ${r} of ${i}
- Highlight color (for borders and decorative bars): ${t}

Input segment (Markdown, raw):
---
${n}
---

Task:
1. Convert this SINGLE segment into ONE WeChat card HTML snippet.
2. Follow ALL layout rules from the system message.
3. Return ONLY the HTML snippet for this one card.
`,l=Xk(e,{prompt:s,systemInstruction:o});for await(const a of l)yield a}async function g2(e,t,n,r,i,o){const s=p2(t),l=s.length,a=[];for(let u=0;u<l;u++){const c=s[u];let f="";r&&r(u,l);for await(const m of m2(e,n,c,u+1,l))f+=m,i&&i(u,f);a.push(f),o&&o(u,f)}return a.join(`
`)}const y2=()=>{const e=ql(),t=Px(),n=o2(),r=fd(),i=Yl(),o=Jl(),s=Xl(),l=Kl(),a={provider:i,openai:s,gemini:{apiKey:o||void 0}},u=lf[l],[c,f]=se.useState(null),[m,h]=se.useState(!1),{addToast:w}=Yf(),[x,S]=se.useState(!1),[y,g]=se.useState(!1),[v,T]=se.useState(null),[I,k]=se.useState(0),[P,N]=se.useState(""),[O,M]=se.useState([]),[R,$]=se.useState(null),[W,ne]=se.useState(null),J=()=>{const K=JSON.stringify(e,null,2);navigator.clipboard.writeText(K).then(()=>{f("config"),w(u.copied,"success"),setTimeout(()=>f(null),2e3)})},xe=async K=>{const X=`
      <div class="rich_media_content js_underline_content" style="visibility: visible;">
        ${K}
        <section style="text-align: center; margin-top: 40px; font-size: 12px; color: #999; opacity: 0.5;">
             Generated by LayoutForge AI
        </section>
      </div>
    `;try{const E=new Blob([X],{type:"text/html"}),re=new Blob([r],{type:"text/plain"});return await navigator.clipboard.write([new ClipboardItem({"text/html":E,"text/plain":re})]),f("html"),w(u.copied+" (WeChat HTML)","success"),setTimeout(()=>f(null),2500),!0}catch(E){console.warn("Clipboard API failed, trying fallback execCommand:",E);try{const re=document.createElement("div");re.style.cssText="position:fixed; left:-9999px; top:0; z-index:-1; opacity:0; pointer-events:none; white-space: pre-wrap;",re.innerHTML=X,document.body.appendChild(re);const De=document.createRange();De.selectNode(re);const ee=window.getSelection();if(ee){ee.removeAllRanges(),ee.addRange(De);const dt=document.execCommand("copy");if(ee.removeAllRanges(),document.body.removeChild(re),dt)return f("html"),w(u.copied+" (WeChat HTML)","success"),setTimeout(()=>f(null),2500),!0}}catch(re){console.error("Fallback copy failed:",re),w("Copy failed. Please copy manually.","error")}return!1}},ve=async()=>{var K,X;if(a.provider==="openai"&&!((K=a.openai)!=null&&K.apiKey)){w("Please configure OpenAI API Key in AI settings.","error");return}if(a.provider==="gemini"&&!((X=a.gemini)!=null&&X.apiKey)){w("Gemini API Key is missing.","error");return}h(!0),S(!0),$(null),ne(null),T(0),k(0),M([]),N("");try{w("Generating layout structure...","info");const E=await h2(a,e);ne(E.replace("{{CONTENT}}","<!-- Generating Content... -->"));const re=e.highlightColor||"rgb(121, 115, 247)";let De="";await g2(a,r,re,(tt,Tt)=>{k(Tt),T(tt),N("")},(tt,Tt)=>{T(tt),N(Tt)},(tt,Tt)=>{M(wr=>[...wr,tt]),De+=Tt;const vn=E.replace("{{CONTENT}}",De);ne(vn)});const ee=E.replace("{{CONTENT}}",De);ne(ee),await xe(ee)||w("Auto-copy blocked. Please click copy below.","info")}catch(E){console.error("Export failed",E),$(E.message||"Failed to generate layout."),w(E.message||"Export failed","error")}finally{h(!1)}},F=()=>{g(!0)},U=()=>{g(!1)},C=()=>{m&&(h(!1),w("Export cancelled","info")),S(!1),g(!1),$(null),ne(null)};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"h-14 border-b border-slate-200/50 flex items-center justify-between px-6 bg-white/80 backdrop-blur-sm sticky top-0 z-10 shadow-sm",children:[_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:u.livePreview})}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200 mr-2",children:[_.jsx("button",{onClick:()=>n("desktop"),className:`p-1.5 rounded-md transition-all ${t==="desktop"?"bg-white shadow-sm text-indigo-600":"text-slate-400 hover:text-slate-600"}`,title:u.desktop,children:_.jsx(N1,{className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>n("mobile"),className:`p-1.5 rounded-md transition-all ${t==="mobile"?"bg-white shadow-sm text-indigo-600":"text-slate-400 hover:text-slate-600"}`,title:u.mobile,children:_.jsx(O1,{className:"w-4 h-4"})})]}),_.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-3 py-2 bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 text-xs font-medium rounded-lg transition shadow-sm",title:u.copyConfig,children:[c==="config"?_.jsx(_s,{className:"w-3.5 h-3.5"}):_.jsx(t0,{className:"w-3.5 h-3.5"}),_.jsx("span",{className:"hidden sm:inline",children:c==="config"?u.copied:"Config"})]}),_.jsx("button",{onClick:ve,disabled:m,className:`flex items-center gap-2 px-3 py-2 text-white text-xs font-medium rounded-lg transition shadow-sm overflow-hidden relative ${m?"bg-slate-700 cursor-wait":"bg-slate-900 hover:bg-slate-800"}`,title:"Export for WeChat (AI Generated)",children:_.jsxs("div",{className:"relative flex items-center gap-2 z-10",children:[m?_.jsx(Rp,{className:"w-3.5 h-3.5 animate-spin"}):c==="html"?_.jsx(_s,{className:"w-3.5 h-3.5"}):_.jsx(T1,{className:"w-3.5 h-3.5"}),_.jsx("span",{className:"hidden sm:inline",children:m?"Generating...":c==="html"?u.copied:u.copyHtml})]})})]})]}),x&&Xy.createPortal(_.jsxs("div",{className:`fixed bottom-4 right-4 bg-slate-900 text-slate-100 rounded-xl shadow-2xl border border-slate-700 flex flex-col z-[100] animate-in slide-in-from-bottom-4 fade-in font-sans transition-all duration-300 ${y?"w-auto h-auto":"w-[420px] max-h-[70vh]"}`,children:[_.jsxs("div",{className:"flex items-center justify-between px-3 py-3 border-b border-slate-700 bg-slate-800/50 rounded-t-xl",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[R?_.jsx(e0,{className:"w-4 h-4 text-red-500"}):_.jsx(Rp,{className:`w-4 h-4 ${m?"animate-spin text-indigo-400":"text-emerald-400"}`}),_.jsx("span",{className:"text-sm font-medium",children:R?"Export Error":W&&!m?"Generation Complete":`Generating... ${I>0?`(${(v||0)+1}/${I})`:""}`})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("button",{onClick:y?U:F,className:"text-slate-400 hover:text-white transition p-1.5 hover:bg-slate-700 rounded-lg",title:y?"":"",children:y?_.jsx(_1,{className:"w-4 h-4"}):_.jsx(C1,{className:"w-4 h-4"})}),_.jsx("button",{onClick:C,className:"text-slate-400 hover:text-red-400 transition p-1.5 hover:bg-slate-700 rounded-lg",title:"",children:_.jsx(af,{className:"w-4 h-4"})})]})]}),!y&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"flex-1 overflow-auto p-4 bg-black/30 min-h-[200px] scrollbar-thin scrollbar-thumb-slate-700",children:R?_.jsxs("div",{className:"text-red-300 text-sm p-3 bg-red-950/30 rounded border border-red-900/50 leading-relaxed",children:[R,_.jsx("div",{className:"mt-2 text-xs opacity-70",children:"If this persists, check your API key in settings."})]}):_.jsx("pre",{className:"text-[11px] leading-relaxed whitespace-pre-wrap break-all font-mono text-emerald-400/90 font-light",children:W||"// Initializing layout engine..."})}),_.jsxs("div",{className:"px-4 py-3 border-t border-slate-700 bg-slate-800/80 rounded-b-xl flex flex-col gap-3",children:[!R&&m&&_.jsxs("div",{className:"flex justify-between items-center text-[11px] text-slate-400",children:[_.jsxs("div",{className:"flex gap-1.5 items-center",children:[_.jsx("span",{className:"mr-2",children:"Cards:"}),Array.from({length:Math.min(I||3,15)}).map((K,X)=>_.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-colors duration-300 ${O.includes(X)?"bg-emerald-500":v===X&&m?"bg-indigo-500 animate-pulse":"bg-slate-700"}`},X)),I>15&&_.jsx("span",{children:"..."})]}),_.jsxs("span",{children:[Math.round(O.length/(I||1)*100),"%"]})]}),W&&!m&&!R&&_.jsxs("button",{onClick:()=>W&&xe(W),className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-medium rounded-lg transition shadow-lg shadow-indigo-900/20 flex items-center justify-center gap-2",children:[c==="html"?_.jsx(_s,{className:"w-4 h-4"}):_.jsx(E1,{className:"w-4 h-4"}),c==="html"?"Copied to Clipboard!":"Copy Result to Clipboard"]})]})]})]}),document.body)]})},w2=()=>{const e=ql(),t=fd(),n=Px();return _.jsxs("main",{className:"flex-1 bg-slate-200 flex flex-col min-w-[350px] relative transition-all",children:[_.jsx(y2,{}),_.jsx("div",{className:"flex-1 overflow-y-auto relative bg-slate-200/50 flex flex-col",children:_.jsx(c2,{data:e,content:t,previewMode:n})})]})},x2=()=>{const e=dd(),t=pd(),n=Yl(),r=hd(),i=Jl(),o=md(),s=Xl(),l=gd(),a=Kl(),u=lf[a],c=()=>t(!1);return e?_.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[_.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(Zy,{className:"w-5 h-5 text-indigo-600"}),u.aiSettings]}),_.jsx("button",{onClick:c,className:"text-slate-400 hover:text-slate-600 p-1 rounded-full hover:bg-slate-100",children:_.jsx(af,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"p-6 space-y-6",children:[_.jsxs("div",{className:"space-y-3",children:[_.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-200 rounded-xl cursor-pointer hover:border-indigo-300 transition-colors",children:[_.jsx("input",{type:"radio",name:"provider",checked:n==="gemini",onChange:()=>r("gemini"),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),_.jsx("div",{className:"flex-1",children:_.jsx("span",{className:"block text-sm font-semibold text-slate-900",children:u.providerGemini})})]}),_.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-200 rounded-xl cursor-pointer hover:border-emerald-300 transition-colors",children:[_.jsx("input",{type:"radio",name:"provider",checked:n==="openai",onChange:()=>r("openai"),className:"w-4 h-4 text-emerald-600 focus:ring-emerald-500"}),_.jsx("div",{className:"flex-1",children:_.jsx("span",{className:"block text-sm font-semibold text-slate-900",children:u.providerOpenAI})})]})]}),n==="gemini"&&_.jsx("div",{className:"space-y-4 pt-4 border-t border-slate-100 animate-in slide-in-from-top-2",children:_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:[u.apiKey," (Optional)"]}),_.jsx("input",{type:"password",value:i,onChange:f=>o(f.target.value),placeholder:"Use default system key...",className:"w-full p-0,1 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"}),_.jsx("p",{className:"text-[10px] text-slate-400",children:"If you have your own Google Gemini API Key, enter it here. Otherwise, the system default key will be used."})]})}),n==="openai"&&_.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 animate-in slide-in-from-top-2",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:u.baseUrl}),_.jsx("input",{type:"text",value:s.baseUrl,onChange:f=>l(m=>({...m,baseUrl:f.target.value})),placeholder:"https://api.openai.com/v1",className:"w-full p-0.1 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:[u.apiKey," ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"password",value:s.apiKey,onChange:f=>l(m=>({...m,apiKey:f.target.value})),placeholder:"sk-...",className:"w-full p-0.1 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:u.modelName}),_.jsx("input",{type:"text",value:s.model,onChange:f=>l(m=>({...m,model:f.target.value})),placeholder:"gpt-4-turbo-preview",className:"w-full p-0.1 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"})]})]})]}),_.jsx("div",{className:"p-4 bg-slate-50 flex justify-end",children:_.jsx("button",{onClick:c,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium rounded-lg transition",children:u.save})})]})}):null},v2=()=>{const e=Ix();return se.useEffect(()=>{e(y1)},[e]),_.jsxs("div",{className:"h-screen w-full flex flex-col md:flex-row bg-slate-100 overflow-hidden",children:[_.jsx(u2,{}),_.jsx(w2,{}),_.jsx(x2,{})]})},C2=()=>_.jsx(oT,{children:_.jsx(v2,{})}),Dx=document.getElementById("root");if(!Dx)throw new Error("Could not find root element to mount to");const _2=Ga.createRoot(Dx);_2.render(_.jsx(Ti.StrictMode,{children:_.jsx(C2,{})}));
